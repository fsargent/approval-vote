const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/hTjZrTds.js","../chunks/DcpRLcxd.js","../assets/vendor.BD_fC31P.css"])))=>i.map(i=>d[i]);
import{aJ as e,aK as t,aN as i,bs as o,bF as a,bt as s,bc as n,aY as r,aT as l,aU as c,aW as p,aX as d,aO as h,bv as m,bG as u,aS as v,b0 as f,aQ as y,bm as g,bn as b,aP as w,b6 as S,bd as k,aV as q,a_ as x,bi as C,b3 as P,bH as T,bg as M,bI as D,b9 as A,ba as R,br as V,b4 as L,b8 as B,a$ as _,bo as E,bk as N,b1 as $,by as W,bx as F,bJ as O}from"../chunks/DcpRLcxd.js";import{_ as z}from"../chunks/hTjZrTds.js";const H={fptp:{name:"First Past The Post",shortDescription:"Most votes wins",detailedCritique:'First Past The Post (FPTP) is the most widely used voting system globally, where voters select one candidate and the candidate with the most votes wins. While its simplicity makes it easy to understand and implement, FPTP suffers from severe limitations that can undermine democratic representation. The system is highly susceptible to vote splitting, where similar candidates divide their shared voter base, potentially allowing a less popular candidate to win. This creates the spoiler effect, forcing voters to strategically vote for a "lesser evil" rather than their true preference. FPTP tends to produce two-party dominance over time, as voters abandon third parties to avoid wasting their votes. In multi-candidate races, winners can have surprisingly low vote shares - sometimes under 30% - meaning the majority of voters preferred someone else. The system also leads to gerrymandering concerns and can produce highly disproportionate results when used for legislative elections.',ballotType:"choose-x",choiceLimitation:"1",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:0,strategicStraightforwardness:0,representation:1},isProportional:!1,isSemiProportional:!1,category:"plurality",tabulationCritique:"**FPTP:** Simple but suffers from vote splitting and spoiler effects with multiple candidates.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["simple","plurality","majoritarian","single-mark"]},approval:{name:"Approval Voting",shortDescription:"Approve any number of candidates",detailedCritique:"Approval Voting represents a minimal yet powerful reform to plurality voting, allowing voters to select as many candidates as they approve of, with the candidate receiving the most approvals winning. This elegantly simple change eliminates the spoiler effect entirely - voters can support both their favorite candidate and a more viable alternative without harming either. The system encourages honest voting since supporting additional candidates never hurts those you've already selected. Studies and real-world implementations show Approval Voting tends to elect broadly acceptable consensus candidates rather than polarizing figures. It requires no new voting equipment, as it uses the same ballots as plurality voting. The main limitation is the lack of preference expression - you cannot indicate that you prefer one approved candidate over another. However, this simplicity is also a strength, making the system transparent and easy to understand. Approval Voting has been successfully used by the UN, various professional societies, and the cities of Fargo and St. Louis.",usedBy:[{code:"US-ND",name:"Fargo (USA)",flag:"🇺🇸"},{code:"US-MO",name:"St. Louis (USA)",flag:"🇺🇸"},{code:"UN",name:"United Nations (various committees)",flag:"🇺🇳"}],ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:5,strategicStraightforwardness:1,representation:4},isProportional:!1,isSemiProportional:!1,category:"approval",tabulationCritique:"**Most Approvals:** Simple and intuitive, encourages honest voting without strategic downsides.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["simple","consensus","binary-choice","spoiler-free"]},"limited-voting-single":{name:"Limited Voting (Single Winner)",shortDescription:"Pick up to X candidates, most votes wins",detailedCritique:"Voters can select up to a specified number of candidates (less than total candidates). The candidate with the most votes wins. Reduces vote splitting compared to FPTP.",ballotType:"choose-x",choiceLimitation:"custom",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:4,honestStrategyResistance:2,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!1,category:"approval",tabulationCritique:"**Limited Voting (Single Winner):** Allows voters to select multiple candidates but only elects one winner. Can reduce vote splitting when limit is greater than 1.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},irv:{name:"IRV / RCV (Instant Runoff)",shortDescription:"Eliminate lowest, transfer votes",detailedCritique:'Instant Runoff Voting (IRV), also called Ranked Choice Voting (RCV) or Alternate Vote (AV, in the UK). Allows voters to rank candidates in order of preference. If no candidate receives a majority of first-choice votes, the candidate with the fewest votes is eliminated and their voters\' ballots are transferred to their next choice. This process continues until someone has a majority. While IRV does eliminate the most basic spoiler effects between similar candidates, it suffers from several paradoxes that can produce counterintuitive results. The system can eliminate centrist candidates who would beat any other candidate head-to-head (the "center squeeze" problem), and in some cases, getting more first-choice votes can actually cause a candidate to lose (non-monotonicity). IRV is also vulnerable to strategic voting - "bullet voting" (only ranking one candidate) can sometimes help your favorite candidate. The sequential elimination process makes results difficult to predict and can take days to tabulate in close races. Despite these flaws, IRV does ensure majority support (among remaining candidates) and allows voters to express preferences.',usedBy:[{code:"AU",name:"Australia (House of Representatives)",flag:"🇦🇺"},{code:"IE",name:"Ireland (Presidential elections)",flag:"🇮🇪"},{code:"US",name:"Multiple US cities",flag:"🇺🇸"}],ballotType:"ranking",choiceLimitation:"any",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},scores:{proportionality:0,simplicity:1,honestStrategyResistance:3,strategicStraightforwardness:4,representation:4},isProportional:!1,isSemiProportional:!1,category:"ranked",tabulationCritique:"**IRV:** Good at eliminating spoiler effects but can eliminate Condorcet winners and has center-squeeze problems.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",flowchart:'flowchart TD\n    A["Start: Count first-choice votes"] --\x3e B{"Any candidate has<br/>majority (>50%)?"}\n    B --\x3e|Yes| C["Winner: Candidate with majority"]\n    B --\x3e|No| D["Identify candidate with<br/>fewest first-choice votes"]\n    D --\x3e E["Eliminate candidate<br/>with fewest votes"]\n    E --\x3e F["Transfer votes to voters\'<br/>next ranked choice"]\n    F --\x3e G["Recount all remaining votes"]\n    G --\x3e H{"Any candidate has<br/>majority (>50%)?"}\n    H --\x3e|Yes| I["Winner: Candidate with majority"]\n    H --\x3e|No| J{"Only 2 candidates<br/>remain?"}\n    J --\x3e|Yes| K["Winner: Candidate with<br/>more votes"]\n    J --\x3e|No| D\n\n    style A fill:#e1f5fe\n    style C fill:#c8e6c9\n    style I fill:#c8e6c9\n    style K fill:#c8e6c9',tags:["ranked","runoff","instant-runoff","elimination","transfers"]},borda:{name:"Borda Count",shortDescription:"Points based on ranking position",detailedCritique:"Rewards broadly acceptable candidates but highly vulnerable to strategic manipulation and compromise.",ballotType:"ranking",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:1,honestStrategyResistance:0,strategicStraightforwardness:0,representation:3},isProportional:!1,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},tabulationCritique:"**Borda:** Rewards broadly acceptable candidates but highly vulnerable to strategic nomination.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["ranked","positional","compromise","strategic-vulnerable","summable"]},condorcet:{name:"Condorcet",shortDescription:"Head-to-head winner if exists",detailedCritique:"Theoretically optimal but can have no winner (Condorcet paradox) requiring complex tie-breaking.",ballotType:"ranking",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:1,honestStrategyResistance:5,strategicStraightforwardness:5,representation:4},isProportional:!1,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},tabulationCritique:"**Condorcet:** Elects the candidate who beats all others head-to-head, but may have no winner in some cases.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["ranked","condorcet-compliant","pairwise","head-to-head","complex"]},"highest-total":{name:"Score Voting",shortDescription:"Sum all scores, highest wins",detailedCritique:"Adds up all scores for each candidate - the candidate with the highest sum wins. Simple. Works best with many candidates and relatively few voters where expressivity helps prevent ties.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},scores:{proportionality:0,simplicity:4,honestStrategyResistance:2,strategicStraightforwardness:2,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Highest Total:** Adds up all scores for each candidate - the candidate with the highest sum wins. Simple. Works best with many candidates and relatively few voters where expressivity helps prevent ties.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["score","cardinal","expressive","simple","summable"]},star:{name:"STAR Voting",shortDescription:"Score then automatic runoff",detailedCritique:"Combines benefits of score voting with runoff security, eliminating strategic concerns. The scoring phase works best with many candidates and relatively few voters, while the runoff provides decisive results.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},scores:{proportionality:0,simplicity:4,honestStrategyResistance:3,strategicStraightforwardness:4,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**STAR:** Combines benefits of score voting with runoff security, eliminating strategic concerns. The scoring phase works best with many candidates and relatively few voters, while the runoff provides decisive results.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["score","cardinal","hybrid","runoff","two-phase","consensus","spoiler-resistant"]},"block-voting":{name:"Block Voting",shortDescription:"Choose one, top candidates win multiple seats",detailedCritique:'Also called "Plurality-at-large". Voters choose one candidate, and the candidates with the most votes win seats. Simple but tends to give all seats to the most popular party or faction.',ballotType:"choose-x",choiceLimitation:"1",minSeats:2,maxSeats:"unlimited",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:0,strategicStraightforwardness:0,representation:1},isProportional:!1,isSemiProportional:!1,category:"plurality",tabulationCritique:"**Block Voting:** Simple plurality system for multiple seats. Tends to give all seats to the most popular party - very poor minority representation.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["simple","majoritarian","plurality","single-mark","bloc-voting","sweep-prone"]},"block-approval":{name:"Block Approval Voting",shortDescription:"Approve any number, top candidates win multiple seats",detailedCritique:"Simple extension of approval to multiple winners but provides no proportional representation.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:5,strategicStraightforwardness:1,representation:2},isProportional:!1,isSemiProportional:!1,category:"approval",tabulationCritique:"**Block Approval:** Simple extension of approval voting to multiple seats. Better minority representation than Block Voting.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"limited-voting":{name:"Limited Voting",shortDescription:"Voters pick fewer candidates than seats available",detailedCritique:'Also called "Block Voting with limitations." Voters can select up to a specific number of candidates (less than the total seats). Candidates with the most votes win. Provides some minority representation but not fully proportional.',ballotType:"choose-x",choiceLimitation:"custom",minSeats:2,maxSeats:"unlimited",scores:{proportionality:0,simplicity:4,honestStrategyResistance:1,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**Limited Voting:** Provides some minority representation but not fully proportional. Strategic nomination is important.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},"cumulative-voting":{name:"Cumulative Voting",shortDescription:"Voters get points equal to seats and distribute them freely",detailedCritique:"Voters receive a number of points equal to the number of seats and can distribute them among candidates however they choose, including giving multiple points to the same candidate. Semi-proportional system that allows minority representation.",ballotType:"choose-x",choiceLimitation:"custom",minSeats:2,maxSeats:"unlimited",scores:{proportionality:0,simplicity:3,honestStrategyResistance:1,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**Cumulative Voting:** Allows voters to distribute points strategically. Semi-proportional system that can provide minority representation with proper strategy.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},sntv:{name:"SNTV (Single Non-Transferable Vote)",shortDescription:"Semi-proportional for choose-one ballots",detailedCritique:"Semi-proportional method for choose-one ballots. Requires strategic nomination by parties to achieve proportionality - too many candidates splits the vote, too few wastes votes.",ballotType:"choose-x",choiceLimitation:"1",minSeats:2,maxSeats:"unlimited",scores:{proportionality:3,simplicity:5,honestStrategyResistance:2,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**SNTV:** Semi-proportional method for choose-one ballots. Requires strategic nomination by parties to achieve proportionality - too many candidates splits the vote, too few wastes votes.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},"satisfaction-approval":{name:"Satisfaction Approval",shortDescription:"Semi-proportional splits votes equally",detailedCritique:"Semi-proportional system that splits each vote equally between all approved candidates. More proportional than block voting but requires strategic coordination - voters must know how many seats their party deserves and vote for exactly that many candidates. Vulnerable to 'wipeout' if strategy fails.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",scores:{proportionality:3,simplicity:5,honestStrategyResistance:3,strategicStraightforwardness:3,representation:4},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**Satisfaction Approval:** Semi-proportional system that splits each vote equally between all approved candidates. More proportional than block voting but requires strategic coordination - voters must know how many seats their party deserves and vote for exactly that many candidates. Vulnerable to 'wipeout' if strategy fails.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},spav:{name:"SPAV (Sequential Proportional Approval)",shortDescription:"Proportional approval using sequential selection",detailedCritique:"Sequential Proportional Approval Voting that encourages diverse representation. Much more practical to implement than the theoretical PAV optimization.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:4,honestStrategyResistance:3,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"approval",tabulationCritique:"**SPAV:** Sequential Proportional Approval Voting that encourages diverse representation. Much more practical to implement than the theoretical PAV optimization.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},stv:{name:"STV (Single Transferable Vote)",shortDescription:"Proportional ranked choice voting",detailedCritique:"Provides proportional representation with ranked ballots, maintaining local representation while ensuring diversity.",usedBy:[{code:"IE",name:"Ireland (Dáil Éireann)",flag:"🇮🇪"},{code:"MT",name:"Malta",flag:"🇲🇹"},{code:"AU",name:"Australia (Senate)",flag:"🇦🇺"}],ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:3,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",tabulationCritique:"**STV:** Provides proportional representation with ranked ballots, maintaining local representation while ensuring diversity.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",tags:["proportional","ranked","transfers","quota-based","complex","candidate-based","surplus-transfer"]},"cpo-stv":{name:"CPO-STV",shortDescription:"Condorcet-refined proportional ranked choice",detailedCritique:"Comparison of Pairs of Outcomes STV combines proportional representation with Condorcet-style optimality. More theoretically sound than traditional STV but significantly more complex to compute and explain.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires specialized software for complex calculations"},tabulationCritique:"**CPO-STV:** Uses Condorcet-style comparisons to find the optimal proportional outcome. More theoretically sound than standard STV but requires exponentially complex calculations.",proportionalityDetails:"**Proportional Representation:** Ensures optimal proportional outcomes by comparing all possible seat allocations, though at the cost of computational complexity."},"schulze-stv":{name:"Schulze STV",shortDescription:"Schulze method extended to proportional representation",detailedCritique:"Applies the Schulze method principles to multi-winner elections for proportional representation. Eliminates many strategic voting problems but is extremely complex to calculate and verify.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:5,strategicStraightforwardness:4,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires specialized software for very complex calculations"},tabulationCritique:"**Schulze STV:** Extends the Schulze method to achieve proportional representation. Excellent theoretical properties but extremely complex implementation.",proportionalityDetails:"**Proportional Representation:** Provides optimal proportional representation using Schulze method principles, ensuring strong Condorcet-style criteria are met."},"meek-stv":{name:"Meek STV",shortDescription:"STV with iterative reweighting",detailedCritique:"Uses iterative reweighting instead of fractional vote transfers. More mathematically elegant than traditional STV and avoids some anomalies, but harder to verify by hand.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:2,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new software for iterative calculations"},tabulationCritique:"**Meek STV:** Uses iterative reweighting instead of fractional transfers. More mathematically sound than traditional STV but requires computer calculation.",proportionalityDetails:"**Proportional Representation:** Achieves excellent proportional representation through continuous reweighting, avoiding some traditional STV anomalies."},"pr-borda":{name:"PR-Borda",shortDescription:"Proportional representation using Borda count",detailedCritique:"Allocates seats proportionally based on Borda count scores. Rewards consensus candidates and provides proportional representation, but highly vulnerable to strategic nomination and cloning.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:4,simplicity:1,honestStrategyResistance:0,strategicStraightforwardness:0,representation:4},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new software for Borda calculations and proportional allocation"},tabulationCritique:"**PR-Borda:** Calculates Borda scores and allocates seats proportionally. Simple concept but extremely vulnerable to strategic nomination and candidate cloning.",proportionalityDetails:"**Proportional Representation:** Provides proportional representation based on Borda scores, rewarding broadly acceptable candidates across party lines."},"wright-stv":{name:"Wright STV",shortDescription:"STV variant with refined transfer rules",detailedCritique:"A variant of STV that uses different vote transfer mechanisms to reduce some strategic voting opportunities. More complex than traditional STV but with better theoretical properties.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires specialized software for refined transfer calculations"},tabulationCritique:"**Wright STV:** Uses refined transfer rules to improve upon traditional STV. Better theoretical properties but more complex implementation and verification.",proportionalityDetails:"**Proportional Representation:** Achieves proportional representation with improved transfer mechanisms that reduce some strategic voting opportunities."},"party-list-pr":{name:"Party List PR",shortDescription:"Proportional seats by party vote share. Can use Open Lists (voters pick candidates within a party) or Closed Lists (party sets candidate order).",detailedCritique:"Pure proportional representation where voters choose parties, and seats are allocated based on each party's share of the vote. Can be Open List (voters choose specific candidates within a party, increasing voter choice but potentially creating intra‑party competition), Closed List (party decides candidate order, strengthening cohesion but reducing voter choice), or Flexible/Hybrid List (voters may either accept party order or elevate specific candidates). Ensures fair representation but can reduce individual candidate accountability. Used in many European countries like the Netherlands, Israel, and Finland.",requiresParties:!0,usedBy:[{code:"NL",name:"Netherlands",flag:"🇳🇱"},{code:"IL",name:"Israel",flag:"🇮🇱"},{code:"SE",name:"Sweden",flag:"🇸🇪"}],ballotType:"choose-x",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:4,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"mixed",hasVariants:!0,variants:{listType:!0},tabulationCritique:"**Party List PR:** Direct proportional representation where parties receive seats based on their vote share. Achieves excellent proportionality but may weaken the link between voters and individual representatives. Works best with diverse multi-party systems.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",listTypeCritique:{closed:"**Closed Lists:** Give parties full control over candidate selection and ordering, which can strengthen party discipline but reduce voter choice.",open:"**Open Lists:** Allow voters to choose specific candidates within parties, increasing voter choice but potentially fragmenting party unity.",flexible:"**Flexible Lists:** Balance party control with voter choice, allowing both party and candidate votes to influence outcomes."},primaryCritique:{withPrimaries:"**Primary Elections:** Increase voter choice and party democracy but can favor extreme candidates, reduce general election competitiveness, and increase campaign costs. May lead to more polarized candidates who appeal to party bases rather than general electorate.",withoutPrimaries:"**No Primaries:** Parties select candidates internally (conventions, appointments, etc.). This gives party leadership more control but may reduce grassroots democracy and voter input in candidate selection."}},mmp:{name:"MMP (Mixed Member Proportional)",shortDescription:"Combines districts with party lists. Party lists may be Open or Closed depending on implementation.",detailedCritique:'Hybrid system combining local districts with party lists. Voters cast two ballots: one for a local representative and one for a party. Party lists can be Open (voters can select candidates within the party) or Closed (party sets the order). Additional "top-up" seats ensure overall proportionality while preserving local representation. Successfully used in Germany, New Zealand, and Scotland.',requiresParties:!0,ballotType:"choose-x",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:3,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"mixed",hasVariants:!0,variants:{listType:!0,mixedMember:!0},tabulationCritique:"**MMP:** Combines the best of both worlds - local accountability through districts and fair representation through proportional top-up seats. More complex to implement but provides excellent balance between local representation and proportionality. May create two classes of representatives.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",listTypeCritique:{closed:"**Closed Lists:** Give parties full control over candidate selection and ordering, which can strengthen party discipline but reduce voter choice.",open:"**Open Lists:** Allow voters to choose specific candidates within parties, increasing voter choice but potentially fragmenting party unity.",flexible:"**Flexible Lists:** Balance party control with voter choice, allowing both party and candidate votes to influence outcomes."},primaryCritique:{withPrimaries:"**Primary Elections:** Increase voter choice and party democracy but can favor extreme candidates, reduce general election competitiveness, and increase campaign costs. May lead to more polarized candidates who appeal to party bases rather than general electorate.",withoutPrimaries:"**No Primaries:** Parties select candidates internally (conventions, appointments, etc.). This gives party leadership more control but may reduce grassroots democracy and voter input in candidate selection."}},"block-score":{name:"Block Score Voting",shortDescription:"Highest total scores win multiple seats",detailedCritique:"Multi-winner extension of score voting where candidates with the highest total scores win seats. Simple but provides no proportional representation.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:0,simplicity:5,honestStrategyResistance:2,strategicStraightforwardness:2,representation:2},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Block Score Voting:** Simple extension of score voting to multiple winners. Candidates with highest total scores win seats, but provides no proportional representation.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"equal-shares":{name:"Method of Equal Shares",shortDescription:"Equal budget per voter",detailedCritique:"Ensures each voter gets an equal 'budget' of representation. Excellent proportionality and fairness, but complex for voters to understand. The detailed scoring works best with many candidates and relatively few voters.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:3,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"score",tabulationCritique:"**Method of Equal Shares:** Ensures each voter gets an equal 'budget' of representation. Excellent proportionality and fairness, but complex for voters to understand. The detailed scoring works best with many candidates and relatively few voters.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},pav:{name:"PAV (Proportional Approval Voting)",shortDescription:"Optimal approval-based proportional representation",detailedCritique:"The theoretical optimum for proportional representation using approval ballots. Maximizes voter satisfaction but requires complex optimization algorithms that are computationally intensive for large elections.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:2,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"approval",tabulationCritique:"**PAV:** The theoretical optimum for proportional representation using approval ballots. Maximizes voter satisfaction but requires complex optimization algorithms that are computationally intensive for large elections.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",tags:["proportional","approval","optimization","theoretically-optimal","computationally-complex","np-hard"]},"star-pr":{name:"STAR-PR",shortDescription:"Proportional STAR voting",detailedCritique:"Extends STAR voting to multi-winner elections by using proportional allocation. Combines the benefits of score voting expressiveness with proportional representation, but adds complexity to the tabulation process.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:3,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"score",tabulationCritique:"**STAR-PR:** Extends STAR voting to multi-winner elections by using proportional allocation. Combines the benefits of score voting expressiveness with proportional representation, but adds complexity to the tabulation process.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},"allocated-score":{name:"Allocated Score",shortDescription:"Practical proportional score voting",detailedCritique:"A practical implementation of proportional score voting that allocates candidates based on weighted scores. Simpler than Method of Equal Shares while still achieving good proportionality.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:4,simplicity:4,honestStrategyResistance:3,strategicStraightforwardness:3,representation:4},isProportional:!0,isSemiProportional:!1,category:"score",tabulationCritique:"**Allocated Score:** A practical approach to proportional score voting that's easier to implement than Method of Equal Shares while maintaining good proportional outcomes.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},"range-voting":{name:"Range Voting",shortDescription:"Pure score voting without runoff",detailedCritique:"Simple score voting where the candidate with the highest total score wins. More expressive than approval voting but vulnerable to strategic exaggeration and normalization issues between voters.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:4,honestStrategyResistance:2,strategicStraightforwardness:2,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Range Voting:** Simple score voting where the candidate with the highest total score wins. More expressive than approval voting but vulnerable to strategic exaggeration and normalization issues between voters.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"3-2-1-voting":{name:"3-2-1 Voting",shortDescription:"Score 3-2-1, advance top 2, pick winner",detailedCritique:"Voters score candidates as Good (3), OK (2), or Bad (1). The two highest-scoring candidates advance to a runoff based on who is rated higher by more voters. Simple to understand and resistant to tactical voting.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:4,honestStrategyResistance:4,strategicStraightforwardness:3,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**3-2-1 Voting:** Simple to understand and resistant to tactical voting. Uses a constrained score range that's easy for voters to grasp.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"majority-judgment":{name:"Majority Judgment",shortDescription:"Winner has highest median score",detailedCritique:"Uses the median (middle) score for each candidate rather than totals or averages. Highly resistant to strategic manipulation since extreme scores don't affect the median. Can lead to ties requiring complex tie-breaking rules.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:3,honestStrategyResistance:2,strategicStraightforwardness:1,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Majority Judgment:** Uses the median (middle) score for each candidate rather than totals or averages. This makes it highly resistant to strategic manipulation since extreme scores (very high or very low) don't affect the median. However, it can lead to ties when candidates have the same median, requiring complex tie-breaking rules. The detailed scoring is most valuable when there are many candidates to differentiate.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"top-two-runoff":{name:"Top-Two Runoff",shortDescription:"Top 2 candidates advance to runoff election",detailedCritique:"Two-round system where if no candidate gets a majority, the top two candidates compete in a second election. Simple and familiar but can eliminate popular candidates in the first round.",ballotType:"choose-x",choiceLimitation:"1",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:4,honestStrategyResistance:1,strategicStraightforwardness:2,representation:2},isProportional:!1,isSemiProportional:!1,category:"plurality",tabulationCritique:"**Top-Two Runoff:** Ensures the winner has majority support in the final round, but can eliminate popular candidates who don't make the top two. Technically not a different tabulation method, but just block voting then FPTP",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"}}},I=Object.freeze(Object.defineProperty({__proto__:null,load:async()=>({votingMethods:H})},Symbol.toStringTag,{value:"Module"}));var j=v('<div class="flowchart-container svelte-n72qrb"></div>');function U(v,g){e(g,!1);let b,w=t(g,"code",8),S=m(),k=!1;async function q(){if(w()&&h(S))try{const e=await async function(){if(k)return b;try{const e=await z(()=>import("../chunks/hTjZrTds.js").then(e=>e.m),__vite__mapDeps([0,1,2]),import.meta.url);return b=e.default,b.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose"}),k=!0,b}catch(e){return null}}();if(!e)return void u(S,h(S).innerHTML='<p style="margin:0;color:#6b7280">Error loading flowchart renderer</p>');const{svg:t}=await e.render(`flowchart-${Date.now()}`,w());u(S,h(S).innerHTML=t)}catch(e){u(S,h(S).innerHTML='<p style="margin:0;color:#6b7280">Error rendering flowchart</p>')}}i(()=>{q()}),o(()=>a(w()),()=>{w()&&q()}),s(),n();var x=r(),C=l(x),P=e=>{var t=j();f(t,e=>y(S,e),()=>h(S)),p(e,t)};c(C,e=>{w()&&e(P)}),p(v,x),d()}const X={fptp:"flowchart TD\nA[Start: Count votes] --\x3e B[Candidate with highest votes wins]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n",approval:"flowchart TD\nA[Tally approvals per candidate] --\x3e B[Most approvals wins]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n","limited-voting-single":"flowchart TD\nA[Voters may select up to X candidates] --\x3e B[Most votes wins]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n",borda:"flowchart TD\nA[Assign points by rank] --\x3e B[Sum points] --\x3e C[Highest total wins]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n",condorcet:"flowchart TD\nA[Compute head-to-head results] --\x3e B{Candidate beats all others?}\nB --\x3e|Yes| C[Condorcet winner]\nB --\x3e|No| D[Tie-break mechanism]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\nstyle D fill:#fde68a\n","highest-total":"flowchart TD\nA[Sum scores per candidate] --\x3e B[Highest total wins]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n",star:"flowchart TD\nA[Score 0–5] --\x3e B[Sum scores] --\x3e C[Top two finalists]\nC --\x3e D[Runoff: ballot preference]\nD --\x3e E[Preferred finalist wins]\nstyle A fill:#e1f5fe\nstyle E fill:#c8e6c9\n","block-voting":"flowchart TD\nA[Voters select 1] --\x3e B[Count votes] --\x3e C[Top N candidates win]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n","block-approval":"flowchart TD\nA[Approve many] --\x3e B[Count approvals] --\x3e C[Top N win]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n","limited-voting":"flowchart TD\nA[Select up to X] --\x3e B[Count selections] --\x3e C[Top N win]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n","cumulative-voting":"flowchart TD\nA[Distribute points] --\x3e B[Sum points] --\x3e C[Top N win]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n",sntv:"flowchart TD\nA[Select 1] --\x3e B[Count votes] --\x3e C[Top N win]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n","satisfaction-approval":"flowchart TD\nA[Split each approval equally] --\x3e B[Sum fractions] --\x3e C[Top N win]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n",spav:"flowchart TD\nA[Round: count approvals] --\x3e B[Elect highest]\nB --\x3e C[Reweight approvals]\nC --\x3e D{Seats left?}\nD --\x3e|Yes| A\nD --\x3e|No| E[Finish]\nstyle A fill:#e1f5fe\nstyle E fill:#c8e6c9\n",stv:"flowchart TD\nA[Count first preferences] --\x3e B{Reached quota?}\nB --\x3e|Yes| C[Elect]\nC --\x3e D[Transfer surplus]\nB --\x3e|No| E[Eliminate lowest]\nD --\x3e F{Seats filled?}\nE --\x3e F\nF --\x3e|No| A\nF --\x3e|Yes| G[Finish]\nstyle A fill:#e1f5fe\nstyle G fill:#c8e6c9\n","cpo-stv":"flowchart TD\nA[Enumerate outcomes] --\x3e B[Compare pairs] --\x3e C[Choose unbeaten outcome]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n","schulze-stv":"flowchart TD\nA[Compute strongest paths among sets] --\x3e B[Select set with strongest paths]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n","meek-stv":"flowchart TD\nA[Init keep factors] --\x3e B[Iteratively update] --\x3e C{Converged?}\nC --\x3e|No| B\nC --\x3e|Yes| D[Winners determined]\nstyle A fill:#e1f5fe\nstyle D fill:#c8e6c9\n","pr-borda":"flowchart TD\nA[Compute Borda scores] --\x3e B[Allocate seats proportionally] --\x3e C[Assign seats]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n","wright-stv":"flowchart TD\nA[Count per Wright rules] --\x3e B[Elect/eliminate] --\x3e C[Transfer refined]\nC --\x3e D{Seats filled?}\nD --\x3e|No| A\nD --\x3e|Yes| E[Finish]\nstyle A fill:#e1f5fe\nstyle E fill:#c8e6c9\n","party-list-pr":"flowchart TD\nA[Tally votes per party] --\x3e B[Apply allocation formula] --\x3e C[Distribute seats]\nC --\x3e D[Fill seats via list type]\nstyle A fill:#e1f5fe\nstyle D fill:#c8e6c9\n",mmp:"flowchart TD\nA[Two votes: district + party] --\x3e B[Elect district winners]\nB --\x3e C[Compute party seat totals]\nC --\x3e D[Add list seats to reach proportionality]\nstyle A fill:#e1f5fe\nstyle D fill:#c8e6c9\n","block-score":"flowchart TD\nA[Sum scores] --\x3e B[Top N scores win]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n","equal-shares":"flowchart TD\nA[Equal voter budget] --\x3e B[Spend on approved candidates]\nB --\x3e C[Iterate until budgets used]\nC --\x3e D[Winners: highest support]\nstyle A fill:#e1f5fe\nstyle D fill:#c8e6c9\n",pav:"flowchart TD\nA[Search optimal committee] --\x3e B[Select maximizing approval utility]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n","star-pr":"flowchart TD\nA[Score candidates] --\x3e B[Sequential proportional selection]\nB --\x3e C[Fill all seats]\nstyle A fill:#e1f5fe\nstyle C fill:#c8e6c9\n","allocated-score":"flowchart TD\nA[Weighted score allocation] --\x3e B[Assign seats]\nstyle A fill:#e1f5fe\nstyle B fill:#c8e6c9\n"};var G=v('<meta name="description" content="Interactive tool to design and analyze custom voting methods. Mix and match ballot types, voting methods, and multi-winner options to create your ideal voting system."/>'),Y=(e,t)=>{e.stopPropagation(),t("facet-election")},J=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("facet-election"))},K=v('<div class="info-panel svelte-fldkqt">Single-winner methods elect one seat; multi-winner methods elect multiple seats (for councils/assemblies). This choice affects which methods are compatible and whether proportional representation is possible.</div>'),Q=(e,t,i)=>y(t,i(h(t),"single"),!0),Z=(e,t,i)=>y(t,i(h(t),"multi"),!0),ee=(e,t)=>{e.stopPropagation(),t("facet-ballot")},te=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("facet-ballot"))},ie=v('<div class="info-panel svelte-fldkqt">How voters express preferences: Choose‑X (select candidates), Ranked (order candidates), Score (rate candidates). Different methods require different ballot types.</div>'),oe=(e,t,i,o)=>y(t,i(h(t),h(o).id),!0),ae=v('<label class="facet-check svelte-fldkqt"><input type="checkbox" class="svelte-fldkqt"/> <span> </span></label>'),se=(e,t)=>{e.stopPropagation(),t("facet-choosex")},ne=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("facet-choosex"))},re=v('<div class="info-panel svelte-fldkqt">For Choose‑X ballots: Pick 1 (FPTP) versus Pick up to X or Approve any. This changes which methods fit and the strategic properties.</div>'),le=(e,t,i,o)=>y(t,i(h(t),h(o).id),!0),ce=v('<label class="facet-check svelte-fldkqt"><input type="checkbox" class="svelte-fldkqt"/> <span> </span></label>'),pe=v('<div class="facet-group svelte-fldkqt"><h3 class="facet-title svelte-fldkqt">Choose‑X Limits <span class="facet-tip svelte-fldkqt" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-fldkqt"></div> <p class="facet-help svelte-fldkqt">These options apply to choose‑X ballots.</p></div>'),de=(e,t)=>{e.stopPropagation(),t("facet-party")},he=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("facet-party"))},me=v('<div class="info-panel svelte-fldkqt">Some methods require parties and allocate seats by party vote (e.g., Party List, MMP). Others are candidate‑based and work without parties.</div>'),ue=(e,t,i)=>y(t,i(h(t),"party-required"),!0),ve=(e,t,i)=>y(t,i(h(t),"no-party-required"),!0),fe=(e,t)=>{e.stopPropagation(),t("facet-inuse")},ye=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("facet-inuse"))},ge=v('<div class="info-panel svelte-fldkqt">Show only methods that are currently used in at least one country or jurisdiction.</div>'),be=(e,t,i)=>t(h(i).id),we=v('<span class="badge proportional svelte-fldkqt" title="Proportional representation">⚖️</span>'),Se=v('<span class="badge recommended svelte-fldkqt" title="Recommended">⭐</span>'),ke=v('<span class="badge redflag svelte-fldkqt" title="Complex or known major weaknesses">🛑</span>'),qe=v('<button><div class="method-card-header svelte-fldkqt"><h3 class="method-title svelte-fldkqt"> </h3> <div class="badge-group svelte-fldkqt"><!> <!> <!></div></div> <p class="method-desc"> </p></button>'),xe=v('<span class="proportional-badge svelte-fldkqt" title="This is a proportional representation method that ensures fair party/group representation">⚖️</span>'),Ce=(e,t)=>{e.stopPropagation(),t("proportionality")},Pe=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("proportionality"))},Te=v('<div class="info-panel svelte-fldkqt">How well the election results reflect the proportion of support for different\n                    groups or parties - higher scores mean seats are allocated more fairly based on\n                    vote share</div>'),Me=(e,t)=>{e.stopPropagation(),t("simplicity")},De=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("simplicity"))},Ae=v('<div class="info-panel svelte-fldkqt">How easy it is for voters to understand and use the voting method - considers\n                    ballot complexity, cognitive load, and learning curve</div>'),Re=(e,t)=>{e.stopPropagation(),t("honest-resistance")},Ve=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("honest-resistance"))},Le=v('<div class="info-panel svelte-fldkqt">How well the method resists dishonest strategies where you support a\n                    less-preferred candidate more than a preferred one - higher scores mean less\n                    incentive for tactical voting</div>'),Be=(e,t)=>{e.stopPropagation(),t("quality")},_e=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("quality"))},Ee=v('<div class="info-panel svelte-fldkqt">How well the elected candidates actually represent the preferences and will of\n                    the electorate - considers broad support, minority representation, and whether\n                    outcomes reflect voter intent</div>'),Ne=(e,t)=>{e.stopPropagation(),t("straightforwardness")},$e=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),t("straightforwardness"))},We=v('<div class="info-panel svelte-fldkqt">How easy it is to vote your true preferences without needing to consider\n                    strategy or candidate viability - higher scores mean less mental burden on\n                    voters</div>'),Fe=v('<div class="method-scores svelte-fldkqt"><h3 class="svelte-fldkqt">System Analysis</h3> <div class="score-grid svelte-fldkqt"><div class="score-item svelte-fldkqt"><div class="score-bar-container svelte-fldkqt"><div class="score-label-container svelte-fldkqt"><span class="score-label clickable svelte-fldkqt" role="button" tabindex="0">Proportionality</span></div> <div class="score-bar svelte-fldkqt"><div class="score-fill svelte-fldkqt"></div> <span class="score-value svelte-fldkqt"> </span></div></div> <!></div> <div class="score-item svelte-fldkqt"><div class="score-bar-container svelte-fldkqt"><div class="score-label-container svelte-fldkqt"><span class="score-label clickable svelte-fldkqt" role="button" tabindex="0">Voter Simplicity</span></div> <div class="score-bar svelte-fldkqt"><div class="score-fill svelte-fldkqt"></div> <span class="score-value svelte-fldkqt"> </span></div></div> <!></div> <div class="score-item svelte-fldkqt"><div class="score-bar-container svelte-fldkqt"><div class="score-label-container svelte-fldkqt"><span class="score-label clickable svelte-fldkqt" role="button" tabindex="0">Honest Strategy Resistance</span></div> <div class="score-bar svelte-fldkqt"><div class="score-fill svelte-fldkqt"></div> <span class="score-value svelte-fldkqt"> </span></div></div> <!></div> <div class="score-item svelte-fldkqt"><div class="score-bar-container svelte-fldkqt"><div class="score-label-container svelte-fldkqt"><span class="score-label clickable svelte-fldkqt" role="button" tabindex="0">Representation Quality</span></div> <div class="score-bar svelte-fldkqt"><div class="score-fill svelte-fldkqt"></div> <span class="score-value svelte-fldkqt"> </span></div></div> <!></div> <div class="score-item svelte-fldkqt"><div class="score-bar-container svelte-fldkqt"><div class="score-label-container svelte-fldkqt"><span class="score-label clickable svelte-fldkqt" role="button" tabindex="0">Strategic Straightforwardness</span></div> <div class="score-bar svelte-fldkqt"><div class="score-fill svelte-fldkqt"></div> <span class="score-value svelte-fldkqt"> </span></div></div> <!></div></div></div>'),Oe=v('<div class="method-summary svelte-fldkqt"><!></div>'),ze=v('<div class="method-critique svelte-fldkqt"><h3 class="svelte-fldkqt">Detailed Analysis</h3> <!></div>'),He=v('<span class="flag svelte-fldkqt"> </span>'),Ie=v('<div class="method-usedby svelte-fldkqt"><h3 class="svelte-fldkqt">Used By</h3> <div class="flag-list svelte-fldkqt"></div></div>'),je=v('<div class="method-flowchart svelte-fldkqt"><h3 class="svelte-fldkqt">Counting Process</h3> <!></div>'),Ue=(e,t,i)=>t(h(i).methods),Xe=v('<div class="comparison-suggestion svelte-fldkqt"><button class="compare-button svelte-fldkqt"> </button> <p class="suggestion-description svelte-fldkqt"> </p></div>'),Ge=v('<div class="comparison-suggestions svelte-fldkqt"><h3 class="svelte-fldkqt">🤔 Confused about similar methods?</h3> <!></div>'),Ye=v('<!> <div class="method-actions svelte-fldkqt"><a class="action-link svelte-fldkqt">Learn about voting systems</a> <a href="https://github.com/fsargent/approval-vote/issues" target="_blank" rel="noopener noreferrer" class="action-link github-link svelte-fldkqt">Found something wrong? File an issue on GitHub</a></div>',1),Je=(e,t)=>"Escape"===e.key&&t(),Ke=e=>e.stopPropagation(),Qe=e=>e.stopPropagation(),Ze=v('<span class="current-badge svelte-fldkqt">Current</span>'),et=v('<div class="compatibility-compact svelte-fldkqt"><span class="compatibility-label svelte-fldkqt">Voting Machines:</span> <span> </span></div>'),tt=(e,t,i,o)=>{t(h(i)),o()},it=v('<button class="switch-method-button svelte-fldkqt">Switch to this method</button>'),ot=v('<div><div class="card-header svelte-fldkqt"><h3 class="svelte-fldkqt"> </h3> <!></div> <div class="method-summary-compact svelte-fldkqt"><p class="svelte-fldkqt"><strong>What it does:</strong> </p></div> <div class="score-comparison svelte-fldkqt"><div class="score-row svelte-fldkqt"><span class="score-name svelte-fldkqt">Proportionality</span> <div class="score-bar-small svelte-fldkqt"><div class="score-fill-small svelte-fldkqt"></div></div> <span class="score-num svelte-fldkqt"> </span></div> <div class="score-row svelte-fldkqt"><span class="score-name svelte-fldkqt">Simplicity</span> <div class="score-bar-small svelte-fldkqt"><div class="score-fill-small svelte-fldkqt"></div></div> <span class="score-num svelte-fldkqt"> </span></div> <div class="score-row svelte-fldkqt"><span class="score-name svelte-fldkqt">Honest Strategy</span> <div class="score-bar-small svelte-fldkqt"><div class="score-fill-small svelte-fldkqt"></div></div> <span class="score-num svelte-fldkqt"> </span></div> <div class="score-row svelte-fldkqt"><span class="score-name svelte-fldkqt">Straightforward</span> <div class="score-bar-small svelte-fldkqt"><div class="score-fill-small svelte-fldkqt"></div></div> <span class="score-num svelte-fldkqt"> </span></div> <div class="score-row svelte-fldkqt"><span class="score-name svelte-fldkqt">Representation</span> <div class="score-bar-small svelte-fldkqt"><div class="score-fill-small svelte-fldkqt"></div></div> <span class="score-num svelte-fldkqt"> </span></div></div> <div class="method-details svelte-fldkqt"><p class="svelte-fldkqt"><strong>Key Trade-offs:</strong> </p></div> <!> <!></div>'),at=v('<div class="comparison-overlay svelte-fldkqt" role="button" tabindex="0"><div class="comparison-modal svelte-fldkqt" role="dialog" tabindex="-1" aria-labelledby="comparison-title"><div class="comparison-header svelte-fldkqt"><h2 id="comparison-title" class="svelte-fldkqt">Method Comparison</h2> <button class="close-button svelte-fldkqt">×</button></div> <div class="comparison-content svelte-fldkqt"><div class="comparison-grid svelte-fldkqt"></div></div></div></div>'),st=v('<div class="container wide-builder"><div class="description"><h1><a>approval.vote</a> // <strong>Voting Method Builder</strong></h1> <p class="subtitle svelte-fldkqt">Mix and match components to design your ideal voting system</p></div> <div class="builder-layout svelte-fldkqt"><div class="config-panel"><section class="config-section svelte-fldkqt"><h2 class="svelte-fldkqt">🔎 Filters</h2> <p class="section-description svelte-fldkqt">Use these facets to narrow down voting methods. They don\'t lock in a choice — pick a method on the right when ready.</p> <div class="facet-group svelte-fldkqt"><h3 class="facet-title svelte-fldkqt">Election Type <span class="facet-tip svelte-fldkqt" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-fldkqt"><label class="facet-check svelte-fldkqt"><input type="checkbox" class="svelte-fldkqt"/> <span>Single Winner</span></label> <label class="facet-check svelte-fldkqt"><input type="checkbox" class="svelte-fldkqt"/> <span>Multi Winner</span></label></div></div> <div class="facet-group svelte-fldkqt"><h3 class="facet-title svelte-fldkqt">Ballot Type <span class="facet-tip svelte-fldkqt" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-fldkqt"></div></div> <!> <div class="facet-group svelte-fldkqt"><h3 class="facet-title svelte-fldkqt">Party Structure <span class="facet-tip svelte-fldkqt" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-fldkqt"><label class="facet-check svelte-fldkqt"><input type="checkbox" class="svelte-fldkqt"/> <span>Requires parties (e.g., Party List, MMP)</span></label> <label class="facet-check svelte-fldkqt"><input type="checkbox" class="svelte-fldkqt"/> <span>Candidate-based (no parties required)</span></label></div></div> <div class="facet-group svelte-fldkqt"><h3 class="facet-title svelte-fldkqt">Real‑World Use <span class="facet-tip svelte-fldkqt" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-fldkqt"><label class="facet-check svelte-fldkqt"><input type="checkbox" class="svelte-fldkqt"/> <span>Currently in use</span></label></div></div></section></div> <div class="gallery-panel svelte-fldkqt"><div class="methods-gallery svelte-fldkqt"><div class="gallery-header svelte-fldkqt"><h2>📚 Voting Methods</h2> <p class="section-description svelte-fldkqt"> </p></div> <div class="methods-grid svelte-fldkqt"></div></div></div> <div class="details-panel svelte-fldkqt"><div class="result-card svelte-fldkqt"><h2 class="method-name svelte-fldkqt"> <!></h2> <!> <!> <!> <!> <!> <!></div></div></div></div> <!>',1);function nt(t,i){e(i,!0);let o=$(()=>i.data.votingMethods),a=b({ballotType:null,limitedChoices:"1",customLimit:3,tabulationMethod:null,numberOfSeats:1,hasParties:!0,canVoteForParties:!0,canVoteForCandidates:!0,hasPrimaries:!1,listType:null,mixedMember:!1,singleWinnerProportion:50,allowNegativeVotes:!1,scoreMin:0,scoreMax:5}),s=w("all"),n=w(b(["single","multi"])),r=w(b(["choose-x","ranking","score"])),m=w(b(["1","custom","unlimited"])),u=w(b(["party-required","no-party-required"]));function v(e,t){return e.includes(t)?e.filter(e=>e!==t):[...e,t]}let f=w(!1);const g=[{id:"choose-x",name:"Choose X",description:"Pick candidates"},{id:"ranking",name:"Ranked",description:"Rank candidates in order of preference"},{id:"score",name:"Score",description:"Give each candidate a numerical score"}],z=[{id:"1",name:"Pick 1",description:"Must select exactly 1 (FPTP)"},{id:"custom",name:"Custom limit",description:"Set your own maximum"},{id:"unlimited",name:"As many as you like",description:"No limit on selections (approval voting)"}],H=[{id:"closed",name:"Closed List",description:"Voters vote for parties, party decides candidate order"},{id:"open",name:"Open List",description:"Voters vote for individual candidates within parties"},{id:"flexible",name:"Flexible List",description:"Voters can vote for party or individual candidates"}];let I=$(()=>j(a).map(e=>({id:e,name:h(o)[e]?.name,description:h(o)[e]?.shortDescription})));function j(e){return Object.entries(h(o)).filter(([t,i])=>i.ballotType===e.ballotType).filter(([t,i])=>"any"===i.choiceLimitation||i.choiceLimitation===e.limitedChoices).filter(([t,i])=>"all"===h(s)||(e.numberOfSeats,"single"===h(s)?i.minSeats<=1:1!==i.maxSeats)).filter(([t,i])=>"all"===h(s)||e.numberOfSeats>=i.minSeats&&("unlimited"===i.maxSeats||e.numberOfSeats<=i.maxSeats)).map(([e])=>e)}let nt=$(()=>Object.entries(h(o)).filter(([e,t])=>!!t&&!!t.name).filter(([e,t])=>function(e){if(!h(n).length)return!1;const t=1===e.maxSeats?"single":"multi";return h(n).includes(t)}(t)).filter(([e,t])=>function(e){return 0===h(r).length||h(r).includes(e.ballotType)}(t)).filter(([e,t])=>function(e){return"choose-x"!==e.ballotType||(0===h(m).length||("any"===e.choiceLimitation||h(m).includes(e.choiceLimitation)))}(t)).filter(([e,t])=>function(e){const t=!!e.requiresParties;return 0===h(u).length||(!(!t||!h(u).includes("party-required"))||!(t||!h(u).includes("no-party-required")))}(t)).filter(([e,t])=>function(e){return!h(f)||Array.isArray(e.usedBy)&&e.usedBy.length>0}(t)).map(([e,t])=>({id:e,name:t.name,shortDescription:t.shortDescription,category:t.category,isProportional:t.isProportional,isSemiProportional:t.isSemiProportional,ballotType:t.ballotType,choiceLimitation:t.choiceLimitation,minSeats:t.minSeats,maxSeats:t.maxSeats,recommended:["star","approval","pav","spav","star-pr","equal-shares"].includes(e),redFlag:["fptp","irv","block-voting","borda","pr-borda","cpo-stv","schulze-stv","meek-stv"].includes(e)})));function rt(e){const t=h(o)[e];if(t)if(a.tabulationMethod=e,a.ballotType=t.ballotType,"choose-x"===t.ballotType?a.limitedChoices="any"===t.choiceLimitation?"unlimited":t.choiceLimitation:a.limitedChoices="unlimited",1===t.maxSeats)a.numberOfSeats=1;else{const e="number"==typeof t.minSeats?t.minSeats:2;a.numberOfSeats=a.numberOfSeats>1?a.numberOfSeats:Math.max(2,e)}}let lt=$(()=>function(e){if(!e.tabulationMethod)return"Choose a voting method";if(!e.ballotType)return"Choose a voting method";if(!e.tabulationMethod){if("choose-x"===e.ballotType){if("1"===e.limitedChoices)return"First Past The Post";if("unlimited"===e.limitedChoices)return"Approval Voting";if("custom"===e.limitedChoices)return`Limited Voting (${e.customLimit})`}return"Choose a voting method"}const t=h(o)[e.tabulationMethod||""];if(!t)return"Unknown Method";let i=t.name;if(e.listType&&["party-list-pr","mmp"].includes(e.tabulationMethod)){const t=H.find(t=>t.id===e.listType);t&&(i=`${t.name} ${i}`)}if("mmp"===e.tabulationMethod&&e.mixedMember){const t=e.singleWinnerProportion;i+=` (${t}% districts, ${100-t}% list)`}"custom"===e.limitedChoices&&3!==e.customLimit&&(i.includes(`(${e.customLimit})`)||(i+=` (${e.customLimit})`));return i}(a)),ct=$(()=>function(e){if(!e.ballotType)return"";let t="";const i=g.find(t=>t.id===e.ballotType);i&&(t+=`**Ballot Type:** ${i.description}`,"score"===e.ballotType&&(t+=` (${e.scoreMin} to ${e.scoreMax}`,e.allowNegativeVotes&&(t+=", negative scores allowed. Negative values "),t+="). Score voting works best with many candidates and relatively few voters, where the expressivity helps prevent ties"),t+="\n\n");if(e.limitedChoices&&"unlimited"!==e.limitedChoices)if("custom"===e.limitedChoices)t+=`**Choice Limit:** Maximum of ${e.customLimit} candidate${1===e.customLimit?"":"s"}\n\n`;else{const i=z.find(t=>t.id===e.limitedChoices);i&&(t+=`**Choice Limit:** ${i.description}\n\n`)}if(e.tabulationMethod){const i=h(I).find(t=>t.id===e.tabulationMethod);i&&(t+=`**Voting Method:** ${i.description}\n\n`);const a=h(o)[e.tabulationMethod||""];if(a&&a.votingMachineCompatibility){t+=`**Voting Machines:** ${a.votingMachineCompatibility.existingMachines?"✅":"❌"} ${a.votingMachineCompatibility.description}\n\n`}}if(1===e.numberOfSeats)t+="**Single-Winner Election:** Electing 1 seat\n\n";else{t+=`**Multi-Winner Election:** Electing ${e.numberOfSeats} seats\n\n`;let i="**Party Structure:** Election has political parties. ";if(e.canVoteForParties&&e.canVoteForCandidates?i+="Voters can choose both parties and individual candidates.":e.canVoteForParties?i+="Voters choose parties only.":e.canVoteForCandidates&&(i+="Voters choose individual candidates within parties."),e.hasPrimaries?i+=" Parties select candidates through primary elections.":i+=" Parties select candidates through internal processes (conventions, appointments, etc.).",t+=i+"\n\n",["party-list-pr","mmp"].includes(e.tabulationMethod||"")){if(e.listType){const i=H.find(t=>t.id===e.listType);i&&(t+=`**List Type:** ${i.description}\n\n`)}if("mmp"===e.tabulationMethod&&e.mixedMember){const i=e.singleWinnerProportion;t+=`**Mixed System:** ${i}% of seats elected in single-winner districts, ${100-i}% from party lists to ensure proportionality\n\n`}}}return t.trim()}(a)),pt=$(()=>function(e){if(!e.ballotType||!e.tabulationMethod)return"";const t=h(o)[e.tabulationMethod||""];if(!t)return"";let i="";t.detailedCritique&&(i+="**Overview:** "+t.detailedCritique+"\n\n");t.tabulationCritique&&(i+=t.tabulationCritique+"\n\n");if(e.numberOfSeats>1&&t.proportionalityDetails){if(i+=t.proportionalityDetails,e.hasParties&&["party-list-pr","mmp"].includes(e.tabulationMethod||"")){if(i+="\n\n**List Method Types:**\n\n",i+="**Open List:** Voters can choose specific candidates within a party. This maximizes voter choice and allows popular candidates to rise regardless of party ranking. However, it can lead to intra-party competition, potentially fragmenting party unity and making campaigns more expensive as candidates compete against their own party members.\n\n",i+="**Closed List:** The party determines the order of candidates, and voters can only vote for the party as a whole. This strengthens party discipline and cohesion, ensures balanced representation (parties can guarantee diversity), and simplifies voting. However, it reduces voter choice and can lead to party elites having too much control over who gets elected.\n\n",i+="**Hybrid/Flexible List:** Combines elements of both systems. Voters can either vote for the party (accepting its ranking) or for specific candidates. If enough voters choose a candidate, they can move up the list. This balances party cohesion with voter choice, though it adds complexity to both voting and vote counting.\n\n",e.listType&&t.listTypeCritique){const o=t.listTypeCritique[e.listType];o&&(i+="**Your Selected "+("flexible"===e.listType?"Flexible":e.listType.charAt(0).toUpperCase()+e.listType.slice(1))+" List System:** "+o.replace(/^\*\*[^:]+:\*\*\s*/,""))}}else if(e.listType&&t.listTypeCritique){const o=t.listTypeCritique[e.listType];o&&(i+="\n\n"+o)}if("mmp"===e.tabulationMethod&&e.mixedMember){i+="\n\n";const t=e.singleWinnerProportion;i+=t>70?"**High District Proportion:** Maintains strong local representation but may reduce proportionality effectiveness.":t<30?"**High List Proportion:** Maximizes proportionality but may weaken local representation and accountability.":"**Balanced Mixed System:** Good compromise between local representation and proportionality."}if(e.hasParties&&t.primaryCritique){i+="\n\n";const o=e.hasPrimaries?"withPrimaries":"withoutPrimaries",a=t.primaryCritique[o];a&&(i+=a)}}return i.trim()}(a)),dt=$(()=>function(e){const t={proportionality:0,simplicity:0,honestStrategyResistance:0,strategicStraightforwardness:0,representation:0};if(!e.ballotType||!e.tabulationMethod)return t;const i=h(o)[e.tabulationMethod||""];if(!i)return t;const a={...i.scores};e.numberOfSeats>1&&"block-approval"===e.tabulationMethod&&(a.representation=2);"1"===e.limitedChoices&&"choose-x"===e.ballotType&&(a.honestStrategyResistance=0,a.strategicStraightforwardness=0,a.representation=1);1===e.numberOfSeats&&(a.proportionality=0);return a}(a));let ht=w(null);function mt(e){y(ht,h(ht)===e?null:e,!0)}function ut(){y(ht,null)}let vt=w(!1),ft=w(b([]));function yt(e){y(ft,e.filter(e=>e in h(o)),!0),y(vt,!0)}function gt(){y(vt,!1),y(ft,[],!0)}function bt(e){if(!h(o)[e.tabulationMethod||""]||!e.tabulationMethod)return[];const t=j(e),i=e.tabulationMethod,a=e=>t.filter(t=>e(h(o)[t])),s=e=>t.filter(t=>h(o)[t].tags?.includes(e)||!1);var n;return[{methods:a(e=>"score"===e.ballotType&&e.isProportional),title:"Proportional Score Methods",description:"All provide proportional representation with score/approval ballots but use different algorithms"},{methods:a(e=>"score"===e.ballotType&&1!==e.maxSeats),title:"Multi-Winner Score Methods",description:"Different approaches to multi-winner elections with score ballots - from simple block voting to complex proportional systems"},{methods:a(e=>"score"===e.ballotType&&1===e.maxSeats),title:"Single-Winner Score Methods",description:"Different ways to count score ballots - from simple totals to complex runoffs"},{methods:a(e=>"choose-x"===e.ballotType&&1===e.maxSeats),title:"Single-Winner Choose-X Methods",description:"Different approaches to single-winner elections with choose-X ballots"},{methods:a(e=>"choose-x"===e.ballotType&&e.isProportional),title:"Approval-Based Proportional Methods",description:"Ways to achieve proportional representation using approval ballots"},{methods:a(e=>"choose-x"===e.ballotType),title:"Choose-X Methods",description:"Different ways to count choose-X ballots - from simple plurality to complex proportional systems"},{methods:a(e=>"choose-x"===e.ballotType&&1!==e.maxSeats),title:"Multi-Winner Choose-X Methods",description:"Different approaches to multi-winner elections with choose-X ballots - from simple block voting to proportional systems"},{methods:a(e=>"ranking"===e.ballotType),title:"Ranked Choice Methods",description:"Different algorithms for counting ranked ballots"},{methods:a(e=>e.isProportional),title:"Proportional Methods",description:"All methods that achieve proportional representation"},{methods:s("simple"),title:"Simple Methods",description:"Easy to understand and implement voting methods"},{methods:s("runoff"),title:"Runoff-Based Methods",description:"Methods that use some form of runoff or elimination process"},{methods:s("consensus"),title:"Consensus-Building Methods",description:"Methods that tend to elect broadly acceptable candidates"},{methods:s("proportional"),title:"Proportional Methods (Tagged)",description:"All methods tagged as proportional"},{methods:(n=["computationally-complex","optimization"],t.filter(e=>n.some(t=>h(o)[e].tags?.includes(t)||!1))),title:"Computationally Complex Methods",description:"Methods that require significant computation or optimization"}].filter(e=>e.methods.includes(i)&&e.methods.length>1)}let wt=$(()=>h(o)[a.tabulationMethod||""]),St=$(()=>h(wt)?.flowchart||X[a.tabulationMethod||""]||""),kt=$(()=>h(wt)?.usedBy||[]);var qt=st();S(e=>{var t=G();M.title="Voting Method Builder - Create Your Custom Voting System - approval.vote",p(e,t)}),k("keydown",D,function(e){"Escape"===e.key&&ut()}),k("click",D,ut);var xt=l(qt),Ct=x(xt),Pt=x(Ct),Tt=x(Pt);B(2),_(Pt),B(2),_(Ct);var Mt=q(Ct,2),Dt=x(Mt),At=x(Dt),Rt=q(x(At),4),Vt=x(Rt),Lt=q(x(Vt));Lt.__click=[Y,mt],Lt.__keydown=[J,mt],_(Vt);var Bt=q(Vt,2),_t=e=>{var t=K();p(e,t)};c(Bt,e=>{"facet-election"===h(ht)&&e(_t)});var Et=q(Bt,2),Nt=x(Et),$t=x(Nt);E($t),$t.__change=[Q,n,v],B(2),_(Nt);var Wt=q(Nt,2),Ft=x(Wt);E(Ft),Ft.__change=[Z,n,v],B(2),_(Wt),_(Et),_(Rt);var Ot=q(Rt,2),zt=x(Ot),Ht=q(x(zt));Ht.__click=[ee,mt],Ht.__keydown=[te,mt],_(zt);var It=q(zt,2),jt=e=>{var t=ie();p(e,t)};c(It,e=>{"facet-ballot"===h(ht)&&e(jt)});var Ut=q(It,2);C(Ut,21,()=>g,N,(e,t)=>{var i=ae(),o=x(i);E(o),o.__change=[oe,r,v,t];var a=q(o,2),s=x(a,!0);_(a),_(i),P(e=>{V(o,e),L(s,h(t).name)},[()=>h(r).includes(h(t).id)]),p(e,i)}),_(Ut),_(Ot);var Xt=q(Ot,2),Gt=e=>{var t=pe(),i=x(t),o=q(x(i));o.__click=[se,mt],o.__keydown=[ne,mt],_(i);var a=q(i,2),s=e=>{var t=re();p(e,t)};c(a,e=>{"facet-choosex"===h(ht)&&e(s)});var n=q(a,2);C(n,21,()=>z,N,(e,t)=>{var i=ce(),o=x(i);E(o),o.__change=[le,m,v,t];var a=q(o,2),s=x(a,!0);_(a),_(i),P(e=>{V(o,e),L(s,h(t).name)},[()=>h(m).includes(h(t).id)]),p(e,i)}),_(n),B(2),_(t),p(e,t)};c(Xt,e=>{h(r).includes("choose-x")&&e(Gt)});var Yt=q(Xt,2),Jt=x(Yt),Kt=q(x(Jt));Kt.__click=[de,mt],Kt.__keydown=[he,mt],_(Jt);var Qt=q(Jt,2),Zt=e=>{var t=me();p(e,t)};c(Qt,e=>{"facet-party"===h(ht)&&e(Zt)});var ei=q(Qt,2),ti=x(ei),ii=x(ti);E(ii),ii.__change=[ue,u,v],B(2),_(ti);var oi=q(ti,2),ai=x(oi);E(ai),ai.__change=[ve,u,v],B(2),_(oi),_(ei),_(Yt);var si=q(Yt,2),ni=x(si),ri=q(x(ni));ri.__click=[fe,mt],ri.__keydown=[ye,mt],_(ni);var li=q(ni,2),ci=e=>{var t=ge();p(e,t)};c(li,e=>{"facet-inuse"===h(ht)&&e(ci)});var pi=q(li,2),di=x(pi),hi=x(di);E(hi),B(2),_(di),_(pi),_(si),_(At),_(Dt);var mi=q(Dt,2),ui=x(mi),vi=x(ui),fi=q(x(vi),2),yi=x(fi);_(fi),_(vi);var gi=q(vi,2);C(gi,21,()=>h(nt),N,(e,t)=>{var i=qe();let o;i.__click=[be,rt,t];var s=x(i),n=x(s),r=x(n,!0);_(n);var l=q(n,2),d=x(l),m=e=>{var t=we();p(e,t)};c(d,e=>{h(t).isProportional&&e(m)});var u=q(d,2),v=e=>{var t=Se();p(e,t)};c(u,e=>{h(t).recommended&&e(v)});var f=q(u,2),y=e=>{var t=ke();p(e,t)};c(f,e=>{h(t).redFlag&&e(y)}),_(l),_(s);var g=q(s,2),b=x(g,!0);_(g),_(i),P(e=>{o=W(i,1,"method-card svelte-fldkqt",null,o,e),L(r,h(t).name),L(b,h(t).shortDescription)},[()=>({selected:a.tabulationMethod===h(t).id})]),p(e,i)}),_(gi),_(ui),_(mi);var bi=q(mi,2),wi=x(bi),Si=x(wi),ki=x(Si),qi=q(ki),xi=e=>{var t=xe();p(e,t)};c(qi,e=>{(function(e){if(e.numberOfSeats<=1)return!1;const t=h(o)[e.tabulationMethod||""];return t?.isProportional||!1})(a)&&e(xi)}),_(Si);var Ci=q(Si,2),Pi=e=>{var t=Fe(),i=q(x(t),2),o=x(i),a=x(o),s=x(a),n=x(s);n.__click=[Ce,mt],n.__keydown=[Pe,mt],_(s);var r=q(s,2),l=x(r),d=q(l,2),m=x(d);_(d),_(r),_(a);var u=q(a,2),v=e=>{var t=Te();p(e,t)};c(u,e=>{"proportionality"===h(ht)&&e(v)}),_(o);var f=q(o,2),y=x(f),g=x(y),b=x(g);b.__click=[Me,mt],b.__keydown=[De,mt],_(g);var w=q(g,2),S=x(w),k=q(S,2),C=x(k);_(k),_(w),_(y);var T=q(y,2),M=e=>{var t=Ae();p(e,t)};c(T,e=>{"simplicity"===h(ht)&&e(M)}),_(f);var D=q(f,2),A=x(D),V=x(A),B=x(V);B.__click=[Re,mt],B.__keydown=[Ve,mt],_(V);var E=q(V,2),N=x(E),$=q(N,2),W=x($);_($),_(E),_(A);var O=q(A,2),z=e=>{var t=Le();p(e,t)};c(O,e=>{"honest-resistance"===h(ht)&&e(z)}),_(D);var H=q(D,2),I=x(H),j=x(I),U=x(j);U.__click=[Be,mt],U.__keydown=[_e,mt],_(j);var X=q(j,2),G=x(X),Y=q(G,2),J=x(Y);_(Y),_(X),_(I);var K=q(I,2),Q=e=>{var t=Ee();p(e,t)};c(K,e=>{"quality"===h(ht)&&e(Q)}),_(H);var Z=q(H,2),ee=x(Z),te=x(ee),ie=x(te);ie.__click=[Ne,mt],ie.__keydown=[$e,mt],_(te);var oe=q(te,2),ae=x(oe),se=q(ae,2),ne=x(se);_(se),_(oe),_(ee);var re=q(ee,2),le=e=>{var t=We();p(e,t)};c(re,e=>{"straightforwardness"===h(ht)&&e(le)}),_(Z),_(i),_(t),P(()=>{R(l,"data-score",h(dt).proportionality),F(l,`width: ${h(dt).proportionality/5*100}%`),L(m,`${h(dt).proportionality??""}/5`),R(S,"data-score",h(dt).simplicity),F(S,`width: ${h(dt).simplicity/5*100}%`),L(C,`${h(dt).simplicity??""}/5`),R(N,"data-score",h(dt).honestStrategyResistance),F(N,`width: ${h(dt).honestStrategyResistance/5*100}%`),L(W,`${h(dt).honestStrategyResistance??""}/5`),R(G,"data-score",h(dt).representation),F(G,`width: ${h(dt).representation/5*100}%`),L(J,`${h(dt).representation??""}/5`),R(ae,"data-score",h(dt).strategicStraightforwardness),F(ae,`width: ${h(dt).strategicStraightforwardness/5*100}%`),L(ne,`${h(dt).strategicStraightforwardness??""}/5`)}),p(e,t)};c(Ci,e=>{a.ballotType&&a.tabulationMethod&&e(Pi)});var Ti=q(Ci,2),Mi=e=>{var t=Oe(),i=x(t);O(i,()=>h(ct).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n\n/g,"<br><br>")),_(t),p(e,t)};c(Ti,e=>{h(ct)&&e(Mi)});var Di=q(Ti,2),Ai=e=>{var t=ze(),i=q(x(t),2);O(i,()=>h(pt).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n\n/g,"<br><br>")),_(t),p(e,t)};c(Di,e=>{h(pt)&&e(Ai)});var Ri=q(Di,2),Vi=e=>{var t=Ie(),i=q(x(t),2);C(i,21,()=>h(kt),N,(e,t)=>{var i=He(),o=x(i,!0);_(i),P(()=>{R(i,"title",h(t).name),L(o,h(t).flag)}),p(e,i)}),_(i),_(t),p(e,t)};c(Ri,e=>{h(kt).length&&e(Vi)});var Li=q(Ri,2),Bi=e=>{var t=je();U(q(x(t),2),{get code(){return h(St)}}),_(t),p(e,t)};c(Li,e=>{h(St)&&e(Bi)});var _i=q(Li,2),Ei=e=>{var t=Ye(),i=l(t),o=e=>{var t=Ge(),i=q(x(t),2);C(i,17,()=>bt(a),N,(e,t)=>{var i=Xe(),o=x(i);o.__click=[Ue,yt,t];var a=x(o);_(o);var s=q(o,2),n=x(s,!0);_(s),_(i),P(()=>{L(a,`Compare ${h(t).title??""}`),L(n,h(t).description)}),p(e,i)}),_(t),p(e,t)};c(i,e=>{a.tabulationMethod&&bt(a).length>0&&e(o)});var s=q(i,2),n=x(s);B(2),_(s),P(e=>R(n,"href",e),[()=>A("/about-approval-voting")]),p(e,t)};c(_i,e=>{a.ballotType&&e(Ei)}),_(wi),_(bi),_(Mt),_(xt);var Ni=q(xt,2),$i=e=>{var t=at();t.__click=gt,t.__keydown=[Je,gt];var i=x(t);i.__click=[Ke],i.__keydown=[Qe];var s=x(i);q(x(s),2).__click=gt,_(s);var n=q(s,2),r=x(n);C(r,21,()=>h(ft),N,(e,t)=>{var i=ot();let s;var n=x(i),r=x(n),l=x(r,!0);_(r);var d=q(r,2),m=e=>{var t=Ze();p(e,t)};c(d,e=>{h(t)===a.tabulationMethod&&e(m)}),_(n);var u=q(n,2),v=x(u),f=q(x(v));_(v),_(u);var y=q(u,2),g=x(y),b=q(x(g),2),w=x(b);_(b);var S=q(b,2),k=x(S);_(S),_(g);var C=q(g,2),T=q(x(C),2),M=x(T);_(T);var D=q(T,2),A=x(D);_(D),_(C);var R=q(C,2),V=q(x(R),2),B=x(V);_(V);var E=q(V,2),N=x(E);_(E),_(R);var $=q(R,2),O=q(x($),2),z=x(O);_(O);var H=q(O,2),I=x(H);_(H),_($);var j=q($,2),U=q(x(j),2),X=x(U);_(U);var G=q(U,2),Y=x(G);_(G),_(j),_(y);var J=q(y,2),K=x(J),Q=q(x(K));_(K),_(J);var Z=q(J,2),ee=e=>{var i=et(),a=q(x(i),2);let s;var n=x(a,!0);_(a),_(i),P(e=>{s=W(a,1,"compatibility-value svelte-fldkqt",null,s,e),L(n,h(o)[h(t)].votingMachineCompatibility.existingMachines?"Compatible":"Requires New Machines")},[()=>({compatible:h(o)[h(t)].votingMachineCompatibility.existingMachines,incompatible:!h(o)[h(t)].votingMachineCompatibility.existingMachines})]),p(e,i)};c(Z,e=>{h(o)[h(t)].votingMachineCompatibility&&e(ee)});var te=q(Z,2),ie=e=>{var i=it();i.__click=[tt,rt,t,gt],p(e,i)};c(te,e=>{h(t)!==a.tabulationMethod&&e(ie)}),_(i),P((e,a)=>{s=W(i,1,"comparison-card svelte-fldkqt",null,s,e),L(l,h(o)[h(t)].name),L(f,` ${h(o)[h(t)].shortDescription??""}`),F(w,`width: ${h(o)[h(t)].scores.proportionality/5*100}%`),L(k,`${h(o)[h(t)].scores.proportionality??""}/5`),F(M,`width: ${h(o)[h(t)].scores.simplicity/5*100}%`),L(A,`${h(o)[h(t)].scores.simplicity??""}/5`),F(B,`width: ${h(o)[h(t)].scores.honestStrategyResistance/5*100}%`),L(N,`${h(o)[h(t)].scores.honestStrategyResistance??""}/5`),F(z,`width: ${h(o)[h(t)].scores.strategicStraightforwardness/5*100}%`),L(I,`${h(o)[h(t)].scores.strategicStraightforwardness??""}/5`),F(X,`width: ${h(o)[h(t)].scores.representation/5*100}%`),L(Y,`${h(o)[h(t)].scores.representation??""}/5`),L(Q,` ${a??""}.`)},[()=>({current:h(t)===a.tabulationMethod}),()=>h(o)[h(t)].detailedCritique.split(".")[0]]),p(e,i)}),_(r),_(n),_(i),_(t),p(e,t)};c(Ni,e=>{h(vt)&&e($i)}),P((e,t,i,o,a)=>{R(Tt,"href",e),V($t,t),V(Ft,i),V(ii,o),V(ai,a),L(yi,`Showing ${h(nt).length??""} method${1===h(nt).length?"":"s"}`),L(ki,`${h(lt)??""} `)},[()=>A("/"),()=>h(n).includes("single"),()=>h(n).includes("multi"),()=>h(u).includes("party-required"),()=>h(u).includes("no-party-required")]),T(hi,()=>h(f),e=>y(f,e)),p(t,qt),d()}g(["click","keydown","change"]);export{nt as component,I as universal};
