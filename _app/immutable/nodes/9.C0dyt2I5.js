import{d as Oe,e as ct,t as b,a as y}from"../chunks/D19XyXUK.js";import"../chunks/iIWnB1Q4.js";import{K as dt,k as Ae,L as Fe,V as vt,X as Be,ad as pt,ax as mt,aw as ut,Q as yt,_ as bt,ab as ht,p as ft,aF as S,aG as _t,t as R,g as s,a as gt,$ as Mt,s as l,c as r,h as C,au as V,aH as v,r as i,n as L}from"../chunks/CpbLT8wC.js";import{s as g}from"../chunks/vYA8tnFk.js";import{i as M}from"../chunks/DEq72ILl.js";import{e as X,i as Y}from"../chunks/CIgMzm45.js";import{h as xt}from"../chunks/BthQLBe8.js";import{r as T,s as j}from"../chunks/D4op4pnj.js";import{s as K}from"../chunks/ENxnXUmu.js";import{e as A}from"../chunks/D5Hs2XXA.js";import{a as I,c as E}from"../chunks/B7sToE8C.js";import{i as Pt}from"../chunks/BbZWc1PI.js";import{b as kt}from"../chunks/BDpFWMQr.js";function qe(U,Z,D,G,J){var F=U,O="",$;dt(()=>{if(O===(O=Z()??"")){Ae&&Fe();return}$!==void 0&&(ht($),$=void 0),O!==""&&($=vt(()=>{if(Ae){Be.data;for(var x=Fe(),k=x;x!==null&&(x.nodeType!==8||x.data!=="");)k=x,x=pt(x);if(x===null)throw mt(),ut;Oe(Be,k),F=yt(x);return}var a=O+"",B=ct(a);Oe(bt(B),B.lastChild),F.before(B)}))})}var wt=b('<meta name="description" content="Interactive tool to design and analyze custom voting methods. Mix and match ballot types, tabulation methods, and multi-winner options to create your ideal voting system.">'),Tt=b('<button><div class="option-name svelte-r5mcy5"> </div> <div class="option-description svelte-r5mcy5"> </div></button>'),St=b('<div class="sub-options svelte-r5mcy5"><label class="svelte-r5mcy5">Score Range: <input type="number" min="-10" max="0" style="width: 60px;" class="svelte-r5mcy5"> to <input type="number" min="1" max="10" style="width: 60px;" class="svelte-r5mcy5"></label> <label class="svelte-r5mcy5"><input type="checkbox"> Allow negative scores</label></div>'),Vt=b('<button><div class="option-name svelte-r5mcy5"> </div> <div class="option-description svelte-r5mcy5"> </div></button>'),Ct=b('<div class="sub-options svelte-r5mcy5"><label class="svelte-r5mcy5">Custom maximum: <input type="number" min="1" max="20" style="width: 80px;" class="svelte-r5mcy5"> </label></div>'),$t=b('<section class="config-section svelte-r5mcy5"><h2 class="svelte-r5mcy5">ğŸ”¢ Choice Limitations</h2> <p class="section-description svelte-r5mcy5">How many candidates can voters select?</p> <div class="option-grid svelte-r5mcy5"></div> <!></section>'),Rt=b('<p class="primary-description svelte-r5mcy5">Parties use primary elections to select their candidates before the general election.</p>'),Lt=b('<div class="sub-options svelte-r5mcy5"><p><strong>What can voters choose?</strong></p> <div class="voting-targets svelte-r5mcy5"><label class="toggle-label svelte-r5mcy5"><input type="checkbox" class="svelte-r5mcy5"> <span class="toggle-text svelte-r5mcy5">Vote for parties</span></label> <label class="toggle-label svelte-r5mcy5"><input type="checkbox" class="svelte-r5mcy5"> <span class="toggle-text svelte-r5mcy5">Vote for individual candidates</span></label></div> <div class="primaries-section svelte-r5mcy5"><label class="toggle-label svelte-r5mcy5"><input type="checkbox" class="svelte-r5mcy5"> <span class="toggle-text svelte-r5mcy5">Parties hold primary elections</span></label> <!></div></div>'),Ot=b('<button><div class="option-name svelte-r5mcy5"> </div> <div class="option-description svelte-r5mcy5"> </div></button>'),At=b('<section class="config-section svelte-r5mcy5"><h2 class="svelte-r5mcy5">ğŸ”¢ Tabulation Method</h2> <p class="section-description svelte-r5mcy5">How are votes counted to determine winners?</p> <div class="option-grid svelte-r5mcy5"></div></section>'),Ft=b('<button><div class="option-name svelte-r5mcy5"> </div> <div class="option-description svelte-r5mcy5"> </div></button>'),Bt=b('<div class="slider-section svelte-r5mcy5"><label class="svelte-r5mcy5">Single-winner seats: <strong> </strong> <input type="range" min="0" max="100" step="5" class="proportion-slider svelte-r5mcy5"> <div class="slider-labels svelte-r5mcy5"><span>All List (0%)</span> <span>Mixed (50%)</span> <span>All Districts (100%)</span></div></label></div>'),qt=b('<div class="sub-options svelte-r5mcy5"><div class="toggle-section svelte-r5mcy5"><label class="toggle-label svelte-r5mcy5"><input type="checkbox" class="svelte-r5mcy5"> <span class="toggle-text svelte-r5mcy5">Enable mixed member system</span></label></div> <!></div>'),Wt=b('<section class="config-section svelte-r5mcy5"><h2 class="svelte-r5mcy5">ğŸ—³ï¸ Party-Based Method Options</h2> <div class="sub-options svelte-r5mcy5"><p><strong>List Type:</strong></p> <div class="option-grid svelte-r5mcy5"></div></div> <!></section>'),Et=b('<span class="proportional-badge svelte-r5mcy5" title="This is a proportional representation method that ensures fair party/group representation">âš–ï¸</span>'),Ht=b('<span class="proportional-badge svelte-r5mcy5" title="This is a semi-proportional method that provides some fairness but not full proportional representation">âš–ï¸âœ¨</span>'),Nt=b('<div class="method-scores svelte-r5mcy5"><h3 class="svelte-r5mcy5">System Analysis</h3> <div class="score-grid svelte-r5mcy5"><div class="score-item svelte-r5mcy5"><span class="score-label svelte-r5mcy5">Proportionality</span> <div class="score-bar svelte-r5mcy5"><div class="score-fill svelte-r5mcy5"></div> <span class="score-value svelte-r5mcy5"> </span></div></div> <div class="score-item svelte-r5mcy5"><span class="score-label svelte-r5mcy5">Voter Simplicity</span> <div class="score-bar svelte-r5mcy5"><div class="score-fill svelte-r5mcy5"></div> <span class="score-value svelte-r5mcy5"> </span></div></div> <div class="score-item svelte-r5mcy5"><span class="score-label svelte-r5mcy5">Strategy Resistance</span> <div class="score-bar svelte-r5mcy5"><div class="score-fill svelte-r5mcy5"></div> <span class="score-value svelte-r5mcy5"> </span></div></div> <div class="score-item svelte-r5mcy5"><span class="score-label svelte-r5mcy5">Representation Quality</span> <div class="score-bar svelte-r5mcy5"><div class="score-fill svelte-r5mcy5"></div> <span class="score-value svelte-r5mcy5"> </span></div></div></div></div>'),zt=b('<div class="method-summary svelte-r5mcy5"><!></div>'),jt=b('<div class="method-critique svelte-r5mcy5"><h3 class="svelte-r5mcy5">Detailed Analysis</h3> <!></div>'),It=b('<div class="method-actions svelte-r5mcy5"><a class="action-link svelte-r5mcy5">Learn about voting systems</a></div>'),Dt=b('<div class="container wide-builder"><div class="description"><h1>Voting Method Builder</h1> <p class="subtitle svelte-r5mcy5">Mix and match components to design your ideal voting system</p></div> <div class="builder-layout svelte-r5mcy5"><div class="config-panel"><section class="config-section svelte-r5mcy5"><h2 class="svelte-r5mcy5">ğŸ›ï¸ Election Size</h2> <p class="section-description svelte-r5mcy5">How many seats are being elected?</p> <div class="slider-section svelte-r5mcy5"><label>Number of seats to elect: <strong> </strong> <input type="range" min="1" max="500" step="1" class="seats-slider svelte-r5mcy5"> <div class="slider-labels svelte-r5mcy5"><span>Single (1)</span> <span>Small Council (5)</span> <span>Parliament (100)</span> <span>Large Assembly (500)</span></div></label></div></section> <section class="config-section svelte-r5mcy5"><h2 class="svelte-r5mcy5">ğŸ“ Ballot Type</h2> <p class="section-description svelte-r5mcy5">How do voters express their preferences?</p> <div class="option-grid svelte-r5mcy5"></div> <!></section> <!> <section class="config-section svelte-r5mcy5"><h2 class="svelte-r5mcy5">ğŸ›ï¸ Party Structure</h2> <p class="section-description svelte-r5mcy5">Are candidates organized into political parties?</p> <div class="toggle-section svelte-r5mcy5"><label class="toggle-label svelte-r5mcy5"><input type="checkbox" class="svelte-r5mcy5"> <span class="toggle-text svelte-r5mcy5">Election has political parties</span></label></div> <!></section> <!> <!></div> <div class="results-panel svelte-r5mcy5"><div class="result-card svelte-r5mcy5"><h2 class="method-name svelte-r5mcy5"> <!></h2> <!> <!> <!> <!></div></div></div></div>');function rs(U,Z){ft(Z,!1);const D=V(),G=V(),J=V(),F=V(),O=V(),$=V(),x=V(),k=V();let a=V({ballotType:null,limitedChoices:null,customLimit:3,tabulationMethod:null,numberOfSeats:100,hasParties:!1,canVoteForParties:!1,canVoteForCandidates:!0,hasPrimaries:!1,listType:null,mixedMember:!1,singleWinnerProportion:50,allowNegativeVotes:!1,scoreMin:0,scoreMax:5});const B=[{id:"choose-x",name:"Choose X",description:"Select a limited number of candidates"},{id:"ranking",name:"Ranked",description:"Rank candidates in order of preference"},{id:"score",name:"Score",description:"Give each candidate a numerical score"}],ee=[{id:"1",name:"Pick 1",description:"Must select exactly 1 (FPTP)"},{id:"custom",name:"Custom limit",description:"Set your own maximum"},{id:"unlimited",name:"As many as you like",description:"No limit on selections (approval voting)"}],ue=[{id:"irv",name:"IRV (Instant Runoff)",description:"Eliminate lowest candidate, transfer votes"},{id:"borda",name:"Borda Count",description:"Points based on ranking position"},{id:"condorcet",name:"Condorcet",description:"Head-to-head winner if one exists"},{id:"plurality",name:"Plurality (First Choice)",description:"Most first-place votes wins"},{id:"stv",name:"STV (Single Transferable Vote)",description:"Proportional ranked choice voting"}],We=[{id:"most-votes",name:"Most Approvals",description:"Candidate with most approvals wins"},{id:"satisfaction-approval",name:"Satisfaction Approval",description:"Semi-proportional method - splits votes equally between approved candidates"},{id:"pav",name:"PAV (Proportional Approval)",description:"Proportional method - splits votes between winning candidates"},{id:"sequential-monroe",name:"Sequential Monroe",description:"Proportional method maximizing equal voter satisfaction"}],ye=[{id:"party-list-pr",name:"Party List PR",description:"Proportional seats by party vote share"},{id:"mmp",name:"MMP (Mixed Member Proportional)",description:"Combines single-winner districts with party lists"}],be=[{id:"highest-total",name:"Highest Total Score",description:"Sum all scores, highest wins"},{id:"highest-average",name:"Highest Average",description:"Best average score wins"},{id:"star",name:"STAR Voting",description:"Score then automatic runoff"},{id:"majority-judgment",name:"Majority Judgment",description:"Based on median score"}],te=[{id:"closed",name:"Closed List",description:"Voters vote for parties, party decides candidate order"},{id:"open",name:"Open List",description:"Voters vote for individual candidates within parties"},{id:"flexible",name:"Flexible List",description:"Voters can vote for party or individual candidates"}];let se=V([]);function Ee(e){if(!e.ballotType)return"Select a ballot type to begin";let t="";if(e.numberOfSeats>1)if(["party-list-pr","mmp"].includes(e.tabulationMethod||"")){const n=[...ye].find(o=>o.id===e.tabulationMethod);if(n){if(t=n.name,e.listType){const o=te.find(c=>c.id===e.listType);o&&(t=`${o.name} ${t}`)}if(e.tabulationMethod==="mmp"&&e.mixedMember){const o=e.singleWinnerProportion,c=100-o;t+=` (${o}% districts, ${c}% list)`}}}else e.ballotType==="choose-x"?e.limitedChoices==="1"?t="Block Voting (FPTP)":e.limitedChoices==="unlimited"?t="Block Approval Voting":e.limitedChoices==="custom"?t=`Block Voting (${e.customLimit})`:t="Block Voting (Limited)":e.ballotType==="ranking"?t="Block Voting (Ranked)":e.ballotType==="score"&&(t="Block Score Voting");else if(e.ballotType==="choose-x")e.limitedChoices==="1"?t="First Past The Post":e.limitedChoices==="unlimited"?t="Approval Voting":e.limitedChoices==="custom"?t=`Limited Voting (${e.customLimit})`:t="Limited Voting";else if(e.ballotType==="ranking"&&e.tabulationMethod){const n=ue.find(o=>o.id===e.tabulationMethod);t=n?n.name:"Ranked Choice"}else if(e.ballotType==="score"&&e.tabulationMethod){const n=be.find(o=>o.id===e.tabulationMethod);t=n?n.name:"Score Voting"}if(e.limitedChoices&&e.limitedChoices!=="unlimited"){const n=ee.find(o=>o.id===e.limitedChoices);n&&!t.includes(n.name)&&(t+=` (${n.name})`)}return t||"Custom Voting Method"}function He(e){if(!e.ballotType)return"";let t="";const n=B.find(o=>o.id===e.ballotType);if(n&&(t+=`**Ballot Type:** ${n.description}`,e.ballotType==="score"&&(t+=` (${e.scoreMin} to ${e.scoreMax}`,e.allowNegativeVotes&&(t+=", negative scores allowed"),t+=")"),t+=`

`),e.limitedChoices&&e.limitedChoices!=="unlimited")if(e.limitedChoices==="custom")t+=`**Choice Limit:** Maximum of ${e.customLimit} candidate${e.customLimit===1?"":"s"}

`;else{const o=ee.find(c=>c.id===e.limitedChoices);o&&(t+=`**Choice Limit:** ${o.description}

`)}if(e.tabulationMethod){const o=s(se).find(c=>c.id===e.tabulationMethod);o&&(t+=`**Tabulation:** ${o.description}

`)}if(e.numberOfSeats===1)t+=`**Single-Winner Election:** Electing 1 seat

`;else{if(t+=`**Multi-Winner Election:** Electing ${e.numberOfSeats} seats

`,e.hasParties){let o="**Party Structure:** Election has political parties. ";e.canVoteForParties&&e.canVoteForCandidates?o+="Voters can choose both parties and individual candidates.":e.canVoteForParties?o+="Voters choose parties only.":e.canVoteForCandidates&&(o+="Voters choose individual candidates within parties."),e.hasPrimaries?o+=" Parties select candidates through primary elections.":o+=" Parties select candidates through internal processes (conventions, appointments, etc.).",t+=o+`

`}else t+=`**Party Structure:** Non-partisan election - candidates run independently

`;if(["party-list-pr","mmp"].includes(e.tabulationMethod||"")){if(e.listType){const o=te.find(c=>c.id===e.listType);o&&(t+=`**List Type:** ${o.description}

`)}if(e.tabulationMethod==="mmp"&&e.mixedMember){const o=e.singleWinnerProportion,c=100-o;t+=`**Mixed System:** ${o}% of seats elected in single-winner districts, ${c}% from party lists to ensure proportionality

`}}}return t.trim()}function Ne(e){if(!e.ballotType)return"";let t="";switch(e.ballotType){case"choose-x":e.limitedChoices==="1"?t+="**Strengths:** Simple and familiar. **Weaknesses:** Severe vote splitting, spoiler effects, doesn't capture full voter preferences.":e.limitedChoices==="unlimited"?t+="**Strengths:** Simple, eliminates vote splitting, encourages honest voting. **Weaknesses:** No preference intensity, potential for bullet voting.":t+="**Strengths:** Reduces vote splitting compared to FPTP, allows some preference expression. **Weaknesses:** Arbitrary limit may not reflect true preferences, still susceptible to strategic voting.";break;case"ranking":t+="**Strengths:** Captures preference order, eliminates spoiler effect. **Weaknesses:** Can be complex for voters, may have non-monotonic results.";break;case"score":t+="**Strengths:** Expresses preference intensity, highly expressive. **Weaknesses:** Strategic voting concerns, normalization issues between voters.";break}if(t+=`

`,e.tabulationMethod){switch(e.tabulationMethod){case"irv":t+="**IRV:** Good at eliminating spoiler effects but can eliminate Condorcet winners and has center-squeeze problems.";break;case"borda":t+="**Borda:** Rewards broadly acceptable candidates but highly vulnerable to strategic nomination.";break;case"condorcet":t+="**Condorcet:** Elects the candidate who beats all others head-to-head, but may have no winner in some cases.";break;case"plurality":t+="**Plurality:** Simple but suffers from vote splitting and spoiler effects with multiple candidates.";break;case"most-votes":t+="**Most Approvals:** Simple and intuitive, encourages honest voting without strategic downsides.";break;case"satisfaction-approval":t+="**Satisfaction Approval:** Semi-proportional system that splits each vote equally between all approved candidates. More proportional than block voting but requires strategic coordination - voters must know how many seats their party deserves and vote for exactly that many candidates. Vulnerable to 'wipeout' if strategy fails.";break;case"pav":t+="**PAV:** Proportional approval voting that encourages diverse representation, but can be computationally complex.";break;case"sequential-monroe":t+="**Sequential Monroe:** Maximizes equal voter satisfaction across all seats, ensuring minority representation.";break;case"stv":t+="**STV:** Provides proportional representation with ranked ballots, maintaining local representation while ensuring diversity.";break;case"highest-total":t+="**Highest Total:** Simple sum of scores, but may favor candidates with broader but shallow support.";break;case"highest-average":t+="**Highest Average:** Rewards quality over quantity of support, but can be skewed by few very high scores.";break;case"star":t+="**STAR:** Combines benefits of score voting with runoff security, but relatively new and untested at scale.";break;case"majority-judgment":t+="**Majority Judgment:** Based on median scores, resistant to tactical voting but can have tie-breaking complexity.";break}t+=`

`}if(e.numberOfSeats>1){if(["party-list-pr","mmp","pav","sequential-monroe","stv"].includes(e.tabulationMethod||"")){if(t+="**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",e.listType)switch(t+=`

`,e.listType){case"closed":t+="**Closed Lists:** Give parties full control over candidate selection and ordering, which can strengthen party discipline but reduce voter choice.";break;case"open":t+="**Open Lists:** Allow voters to choose specific candidates within parties, increasing voter choice but potentially fragmenting party unity.";break;case"flexible":t+="**Flexible Lists:** Balance party control with voter choice, allowing both party and candidate votes to influence outcomes.";break}if(e.tabulationMethod==="mmp"&&e.mixedMember){t+=`

`;const n=e.singleWinnerProportion;n>70?t+="**High District Proportion:** Maintains strong local representation but may reduce proportionality effectiveness.":n<30?t+="**High List Proportion:** Maximizes proportionality but may weaken local representation and accountability.":t+="**Balanced Mixed System:** Good compromise between local representation and proportionality."}}else t+="**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.";e.hasParties&&(t+=`

`,e.hasPrimaries?t+="**Primary Elections:** Increase voter choice and party democracy but can favor extreme candidates, reduce general election competitiveness, and increase campaign costs. May lead to more polarized candidates who appeal to party bases rather than general electorate.":t+="**No Primaries:** Parties select candidates internally (conventions, appointments, etc.). This gives party leadership more control but may reduce grassroots democracy and voter input in candidate selection.")}return t.trim()}function ze(e){const t={proportionality:0,simplicity:0,strategyResistance:0,representation:0};if(!e.ballotType||!e.tabulationMethod)return t;switch(e.ballotType){case"choose-x":t.simplicity=5,t.strategyResistance=3;break;case"ranking":t.simplicity=3,t.strategyResistance=4;break;case"score":t.simplicity=4,t.strategyResistance=3;break}switch(e.tabulationMethod){case"most-votes":t.representation=e.numberOfSeats>1?2:4;break;case"satisfaction-approval":t.proportionality=3,t.representation=4;break;case"pav":case"sequential-monroe":case"stv":case"party-list-pr":t.proportionality=5,t.representation=5;break;case"mmp":t.proportionality=5,t.representation=5,t.simplicity=Math.max(1,t.simplicity-1);break;case"irv":t.representation=4;break;case"borda":t.strategyResistance=2,t.representation=3;break;case"star":t.strategyResistance=4,t.representation=4;break}return e.numberOfSeats===1&&(t.proportionality=0),e.limitedChoices==="1"&&e.ballotType==="choose-x"&&(t.strategyResistance=2),t}function je(e){const t=["pav","sequential-monroe","stv","party-list-pr","mmp"];return e.numberOfSeats>1&&t.includes(e.tabulationMethod||"")}function Ie(e){return e.numberOfSeats>1&&e.tabulationMethod==="satisfaction-approval"}function H(e,t){if(v(a,s(a)[e]=t),e==="ballotType"&&(v(a,s(a).tabulationMethod=null),t==="choose-x"&&v(a,s(a).limitedChoices="unlimited")),e==="ballotType"&&(t==="choose-x"?v(a,s(a).tabulationMethod=s(a).numberOfSeats>1?"pav":"most-votes"):t==="score"?v(a,s(a).tabulationMethod="highest-total"):t==="ranking"&&v(a,s(a).tabulationMethod=s(a).numberOfSeats>1?"stv":"irv")),e==="numberOfSeats"){const n=t>1;s(a).ballotType==="choose-x"?v(a,s(a).tabulationMethod=n?"pav":"most-votes"):s(a).ballotType==="ranking"&&v(a,s(a).tabulationMethod=n?"stv":"irv"),n||(v(a,s(a).hasParties=!1),v(a,s(a).canVoteForParties=!1),v(a,s(a).canVoteForCandidates=!0),v(a,s(a).hasPrimaries=!1),v(a,s(a).listType=null),v(a,s(a).mixedMember=!1),v(a,s(a).singleWinnerProportion=50))}e==="hasParties"&&!t&&(["party-list-pr","mmp"].includes(s(a).tabulationMethod||"")&&(s(a).ballotType==="choose-x"&&s(a).numberOfSeats>1?v(a,s(a).tabulationMethod="pav"):s(a).ballotType==="ranking"&&s(a).numberOfSeats>1&&v(a,s(a).tabulationMethod="stv")),v(a,s(a).listType=null),v(a,s(a).mixedMember=!1))}function he(){s(a).hasParties&&!s(a).canVoteForParties&&!s(a).canVoteForCandidates&&v(a,s(a).canVoteForCandidates=!0)}S(()=>s(a),()=>{C(D,s(a).ballotType==="ranking")}),S(()=>s(a),()=>{C(G,s(a).ballotType==="choose-x")}),S(()=>s(a),()=>{C(J,s(a).ballotType==="score")}),S(()=>s(a),()=>{C(F,s(a).numberOfSeats>1)}),S(()=>(s(D),s(G),s(J),s(a),s(F)),()=>{let e=[];s(D)?e=[...ue]:s(G)?e=[...We]:s(J)&&(e=[...be]),s(a).hasParties&&s(F)&&(e=[...e,...ye]),C(se,e)}),S(()=>s(a),()=>{C(O,Ee(s(a)))}),S(()=>s(a),()=>{C($,He(s(a)))}),S(()=>s(a),()=>{C(x,Ne(s(a)))}),S(()=>s(a),()=>{C(k,ze(s(a)))}),S(()=>s(a),()=>{s(a).hasParties||v(a,s(a).hasPrimaries=!1)}),_t(),Pt();var ae=Dt();xt(e=>{var t=wt();Mt.title="Voting Method Builder - Create Your Custom Voting System - approval.vote",y(e,t)});var fe=l(r(ae),2),ie=r(fe),re=r(ie),_e=l(r(re),4),ge=r(_e),oe=l(r(ge)),De=r(oe,!0);i(oe);var ne=l(oe,2);T(ne),L(2),i(ge),i(_e),i(re);var le=l(re,2),ce=l(r(le),4);X(ce,5,()=>B,Y,(e,t)=>{var n=Tt();let o;var c=r(n),u=r(c,!0);i(c);var p=l(c,2),d=r(p,!0);i(p),i(n),R(()=>{o=K(n,1,"option-button svelte-r5mcy5",null,o,{selected:s(a).ballotType===s(t).id}),g(u,s(t).name),g(d,s(t).description)}),A("click",n,()=>H("ballotType",s(t).id)),y(e,n)}),i(ce);var Ge=l(ce,2);{var Je=e=>{var t=St(),n=r(t),o=l(r(n));T(o);var c=l(o,2);T(c),i(n);var u=l(n,2),p=r(u);T(p),L(),i(u),i(t),I(o,()=>s(a).scoreMin,d=>v(a,s(a).scoreMin=d)),I(c,()=>s(a).scoreMax,d=>v(a,s(a).scoreMax=d)),E(p,()=>s(a).allowNegativeVotes,d=>v(a,s(a).allowNegativeVotes=d)),y(e,t)};M(Ge,e=>{s(a).ballotType==="score"&&e(Je)})}i(le);var Me=l(le,2);{var Qe=e=>{var t=$t(),n=l(r(t),4);X(n,5,()=>ee,Y,(u,p)=>{var d=Vt();let m;var h=r(d),_=r(h,!0);i(h);var w=l(h,2),f=r(w,!0);i(w),i(d),R(()=>{m=K(d,1,"option-button small svelte-r5mcy5",null,m,{selected:s(a).limitedChoices===s(p).id}),g(_,s(p).name),g(f,s(p).description)}),A("click",d,()=>H("limitedChoices",s(p).id)),y(u,d)}),i(n);var o=l(n,2);{var c=u=>{var p=Ct(),d=r(p),m=l(r(d));T(m);var h=l(m);i(d),i(p),R(()=>g(h,` candidate${(s(a).customLimit===1?"":"s")??""}`)),I(m,()=>s(a).customLimit,_=>v(a,s(a).customLimit=_)),y(u,p)};M(o,u=>{s(a).limitedChoices==="custom"&&u(c)})}i(t),y(e,t)};M(Me,e=>{s(a).ballotType==="choose-x"&&e(Qe)})}var de=l(Me,2),ve=l(r(de),4),xe=r(ve),Pe=r(xe);T(Pe),L(2),i(xe),i(ve);var Xe=l(ve,2);{var Ye=e=>{var t=Lt(),n=l(r(t),2),o=r(n),c=r(o);T(c),L(2),i(o);var u=l(o,2),p=r(u);T(p),L(2),i(u),i(n);var d=l(n,2),m=r(d),h=r(m);T(h),L(2),i(m);var _=l(m,2);{var w=f=>{var P=Rt();y(f,P)};M(_,f=>{s(a).hasPrimaries&&f(w)})}i(d),i(t),E(c,()=>s(a).canVoteForParties,f=>v(a,s(a).canVoteForParties=f)),A("change",c,he),E(p,()=>s(a).canVoteForCandidates,f=>v(a,s(a).canVoteForCandidates=f)),A("change",p,he),E(h,()=>s(a).hasPrimaries,f=>v(a,s(a).hasPrimaries=f)),y(e,t)};M(Xe,e=>{s(a).hasParties&&e(Ye)})}i(de);var ke=l(de,2);{var Ke=e=>{var t=At(),n=l(r(t),4);X(n,5,()=>s(se),Y,(o,c)=>{var u=Ot();let p;var d=r(u),m=r(d,!0);i(d);var h=l(d,2),_=r(h,!0);i(h),i(u),R(()=>{p=K(u,1,"option-button svelte-r5mcy5",null,p,{selected:s(a).tabulationMethod===s(c).id}),g(m,s(c).name),g(_,s(c).description)}),A("click",u,()=>H("tabulationMethod",s(c).id)),y(o,u)}),i(n),i(t),y(e,t)};M(ke,e=>{s(a).ballotType&&e(Ke)})}var Ue=l(ke,2);{var Ze=e=>{var t=Wt(),n=l(r(t),2),o=l(r(n),2);X(o,5,()=>te,Y,(p,d)=>{var m=Ft();let h;var _=r(m),w=r(_,!0);i(_);var f=l(_,2),P=r(f,!0);i(f),i(m),R(()=>{h=K(m,1,"option-button small svelte-r5mcy5",null,h,{selected:s(a).listType===s(d).id}),g(w,s(d).name),g(P,s(d).description)}),A("click",m,()=>H("listType",s(d).id)),y(p,m)}),i(o),i(n);var c=l(n,2);{var u=p=>{var d=qt(),m=r(d),h=r(m),_=r(h);T(_),L(2),i(h),i(m);var w=l(m,2);{var f=P=>{var q=Bt(),N=r(q),W=l(r(N)),me=r(W);i(W);var z=l(W,2);T(z),L(2),i(N),i(q),R(()=>g(me,`${s(a).singleWinnerProportion??""}%`)),I(z,()=>s(a).singleWinnerProportion,Q=>v(a,s(a).singleWinnerProportion=Q)),y(P,q)};M(w,P=>{s(a).mixedMember&&P(f)})}i(d),E(_,()=>s(a).mixedMember,P=>v(a,s(a).mixedMember=P)),y(p,d)};M(c,p=>{s(a).tabulationMethod==="mmp"&&p(u)})}i(t),y(e,t)};M(Ue,e=>{s(a).tabulationMethod&&["party-list-pr","mmp"].includes(s(a).tabulationMethod)&&e(Ze)})}i(ie);var we=l(ie,2),Te=r(we),pe=r(Te),Se=r(pe),et=l(Se);{var tt=e=>{var t=Et();y(e,t)},st=(e,t)=>{{var n=o=>{var c=Ht();y(o,c)};M(e,o=>{Ie(s(a))&&o(n)},t)}};M(et,e=>{je(s(a))?e(tt):e(st,!1)})}i(pe);var Ve=l(pe,2);{var at=e=>{var t=Nt(),n=l(r(t),2),o=r(n),c=l(r(o),2),u=r(c),p=l(u,2),d=r(p);i(p),i(c),i(o);var m=l(o,2),h=l(r(m),2),_=r(h),w=l(_,2),f=r(w);i(w),i(h),i(m);var P=l(m,2),q=l(r(P),2),N=r(q),W=l(N,2),me=r(W);i(W),i(q),i(P);var z=l(P,2),Q=l(r(z),2),Re=r(Q),Le=l(Re,2),lt=r(Le);i(Le),i(Q),i(z),i(n),i(t),R(()=>{j(u,"style",`width: ${s(k).proportionality/5*100}%`),g(d,`${s(k).proportionality??""}/5`),j(_,"style",`width: ${s(k).simplicity/5*100}%`),g(f,`${s(k).simplicity??""}/5`),j(N,"style",`width: ${s(k).strategyResistance/5*100}%`),g(me,`${s(k).strategyResistance??""}/5`),j(Re,"style",`width: ${s(k).representation/5*100}%`),g(lt,`${s(k).representation??""}/5`)}),y(e,t)};M(Ve,e=>{s(a).ballotType&&s(a).tabulationMethod&&e(at)})}var Ce=l(Ve,2);{var it=e=>{var t=zt(),n=r(t);qe(n,()=>s($).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n\n/g,"<br><br>")),i(t),y(e,t)};M(Ce,e=>{s($)&&e(it)})}var $e=l(Ce,2);{var rt=e=>{var t=jt(),n=l(r(t),2);qe(n,()=>s(x).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n\n/g,"<br><br>")),i(t),y(e,t)};M($e,e=>{s(x)&&e(rt)})}var ot=l($e,2);{var nt=e=>{var t=It(),n=r(t);j(n,"href",`${kt??""}/about-approval-voting`),i(t),y(e,t)};M(ot,e=>{s(a).ballotType&&e(nt)})}i(Te),i(we),i(fe),i(ae),R(()=>{g(De,s(a).numberOfSeats),g(Se,`${s(O)??""} `)}),I(ne,()=>s(a).numberOfSeats,e=>v(a,s(a).numberOfSeats=e)),A("input",ne,()=>H("numberOfSeats",s(a).numberOfSeats)),E(Pe,()=>s(a).hasParties,e=>v(a,s(a).hasParties=e)),y(U,ae),gt()}export{rs as component};
