import{ag as M,ah as N,h,a1 as U,S as D,B as x,ai as C,Y as G,aj as $,ak as j,al as w,g as c,k as b,am as z,an as V,ao as Z,ap as y,v as F,q as H,aq as J,ar as K}from"./Gxk3G9fS.js";import{p as Q}from"./BHSkShIe.js";import{c as W}from"./BRfSDgYx.js";function B(a,e){return a===e||(a==null?void 0:a[D])===e}function p(a={},e,s,v){return M(()=>{var f,i;return N(()=>{f=i,i=[],h(()=>{a!==s(...i)&&(e(a,...i),f&&B(s(...f),a)&&e(null,...f))})}),()=>{U(()=>{i&&B(s(...i),a)&&e(null,...i)})}}),a}function aa(a,e,s,v){var L;var f=(s&K)!==0,i=!j||(s&w)!==0,P=(s&z)!==0,T=(s&J)!==0,A=!1,t;P?[t,A]=W(()=>a[e]):t=a[e];var Y=D in a||$ in a,l=P&&(((L=x(a,e))==null?void 0:L.set)??(Y&&e in a&&(r=>a[e]=r)))||void 0,n=v,S=!0,I=!1,O=()=>(I=!0,S&&(S=!1,T?n=h(v):n=v),n);t===void 0&&v!==void 0&&(l&&i&&V(),t=O(),l&&l(t));var u;if(i)u=()=>{var r=a[e];return r===void 0?O():(S=!0,I=!1,r)};else{var q=(f?b:G)(()=>a[e]);q.f|=C,u=()=>{var r=c(q);return r!==void 0&&(n=void 0),r===void 0?n:r}}if((s&Z)===0)return u;if(l){var m=a.$$legacy;return function(r,_){return arguments.length>0?((!i||!_||m||A)&&l(_?u():r),r):u()}}var E=!1,R=H(t),d=b(()=>{var r=u(),_=c(R);return E?(E=!1,_):R.v=r});return f||(d.equals=y),function(r,_){if(arguments.length>0){const g=_?c(d):i&&P?Q(r):r;return d.equals(g)||(E=!0,F(R,g),I&&n!==void 0&&(n=g),h(()=>c(d))),r}return c(d)}}export{p as b,aa as p};
