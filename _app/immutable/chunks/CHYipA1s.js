const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CsO4UMui.js","./DUw-49M1.js","./Bk2F-biz.js","./CpowRF39.js","./pGSKa80M.js","./Csu6qFzw.js","./Bj6rPO07.js","./CWNxjrir.js","./BppvdS9i.js","./C-rF4pXm.js","./JnDt3pAd.js","./CAI64GI4.js","./B0tV6CbG.js","./BpCu0HLi.js","./Dtml9H7w.js","./C4COEpID.js","./CmPJEmyC.js","./m1rCMB2Y.js","./Dp1pzeXC.js","./DyfiqJoM.js","./CqkleIqs.js","./CGb-b8vx.js","./Gi6I4Gst.js","./C4B-KCzX.js","./B1qStOVU.js","./CmMt-DnY.js","./ChcDh4AE.js","./CmKTTxBW.js","./uYgfBDj-.js","./B7rnQKiP.js","./CKSFrlMo.js","./4YvWl9ln.js","./C_w_CTyT.js","./BeiaS27P.js","./OxUMtMiL.js","./CRY4doYh.js","./BTIeupa1.js","./DhORzUp4.js","./DtkaNfvi.js","./BQ48ry4D.js","./DMB63MHE.js","./BTKho27n.js","./H7aaydby.js","./F6dmVYmL.js","./B5UdrWF8.js","./ajJ9W05s.js","./7xD02diL.js","./DcWzVnm6.js","./ChmeZZBv.js"])))=>i.map(i=>d[i]);
var O0=Object.defineProperty;var I0=(e,t,r)=>t in e?O0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ot=(e,t,r)=>I0(e,typeof t!="symbol"?t+"":t,r);import"./Bzak7iHL.js";import{i as cp}from"./yPi0kpIG.js";import{t as Ue,j as wh,z as Ch,a8 as N0,b0 as q0,F as kh,T as z0,a4 as W0,aA as H0,az as j0,B as Sh,K as V0,A as U0,G as cs,p as hp,aZ as ye,aw as xl,a_ as up,aX as Y0,d as _l,a as Ct,b as pp,g as _,v as zt,b1 as Or,f as kt,x as Dt,$ as G0,b2 as Th,s as H,c as q,h as it,n as br,r as R}from"./DydWS1Xi.js";import{s as Yt}from"./DEldWQiM.js";import{i as It}from"./C0tocX6D.js";import{e as Ui,i as Yi}from"./kKFzd9QN.js";import{h as X0}from"./D-ARTFG6.js";import{s as Dr,c as Gi,a as ri,r as hs}from"./DgP5RtvJ.js";import{s as Qo}from"./CvumzuCw.js";import{e as wt}from"./73AqwjYG.js";import{s as Je}from"./CRJi8v3J.js";import{a as Z0}from"./wEkNtDhj.js";import{p as dp,b as K0}from"./BpMw7OUb.js";import{o as Q0}from"./C6Mczum-.js";import{_ as Pt}from"./Dp1pzeXC.js";import{g as J0}from"./CqkleIqs.js";function Mh(e,t,r=!1,i=!1,a=!1){var n=e,o="";Ue(()=>{var s=N0;if(o===(o=t()??"")){wh&&Ch();return}if(s.nodes_start!==null&&(q0(s.nodes_start,s.nodes_end),s.nodes_start=s.nodes_end=null),o!==""){if(wh){kh.data;for(var l=Ch(),c=l;l!==null&&(l.nodeType!==z0||l.data!=="");)c=l,l=W0(l);if(l===null)throw H0(),j0;Sh(kh,c),n=V0(l);return}var h=o+"";r?h=`<svg>${h}</svg>`:i&&(h=`<math>${h}</math>`);var u=U0(h);if((r||i)&&(u=cs(u)),Sh(cs(u),u.lastChild),r||i)for(;cs(u);)n.before(cs(u));else n.before(u)}})}const tb={fptp:{name:"First Past The Post",shortDescription:"Most votes wins",detailedCritique:'First Past The Post (FPTP) is the most widely used voting system globally, where voters select one candidate and the candidate with the most votes wins. While its simplicity makes it easy to understand and implement, FPTP suffers from severe limitations that can undermine democratic representation. The system is highly susceptible to vote splitting, where similar candidates divide their shared voter base, potentially allowing a less popular candidate to win. This creates the spoiler effect, forcing voters to strategically vote for a "lesser evil" rather than their true preference. FPTP tends to produce two-party dominance over time, as voters abandon third parties to avoid wasting their votes. In multi-candidate races, winners can have surprisingly low vote shares - sometimes under 30% - meaning the majority of voters preferred someone else. The system also leads to gerrymandering concerns and can produce highly disproportionate results when used for legislative elections.',ballotType:"choose-x",choiceLimitation:"1",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:0,strategicStraightforwardness:0,representation:1},isProportional:!1,isSemiProportional:!1,category:"plurality",tabulationCritique:"**FPTP:** Simple but suffers from vote splitting and spoiler effects with multiple candidates.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["simple","plurality","majoritarian","single-mark"]},approval:{name:"Approval Voting",shortDescription:"Approve any number of candidates",detailedCritique:"Approval Voting represents a minimal yet powerful reform to plurality voting, allowing voters to select as many candidates as they approve of, with the candidate receiving the most approvals winning. This elegantly simple change eliminates the spoiler effect entirely - voters can support both their favorite candidate and a more viable alternative without harming either. The system encourages honest voting since supporting additional candidates never hurts those you've already selected. Studies and real-world implementations show Approval Voting tends to elect broadly acceptable consensus candidates rather than polarizing figures. It requires no new voting equipment, as it uses the same ballots as plurality voting. The main limitation is the lack of preference expression - you cannot indicate that you prefer one approved candidate over another. However, this simplicity is also a strength, making the system transparent and easy to understand. Approval Voting has been successfully used by the UN, various professional societies, and the cities of Fargo and St. Louis.",usedBy:[{code:"US-ND",name:"Fargo (USA)",flag:"🇺🇸"},{code:"US-MO",name:"St. Louis (USA)",flag:"🇺🇸"},{code:"UN",name:"United Nations (various committees)",flag:"🇺🇳"}],ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:5,strategicStraightforwardness:1,representation:4},isProportional:!1,isSemiProportional:!1,category:"approval",tabulationCritique:"**Most Approvals:** Simple and intuitive, encourages honest voting without strategic downsides.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["simple","consensus","binary-choice","spoiler-free"]},"limited-voting-single":{name:"Limited Voting (Single Winner)",shortDescription:"Pick up to X candidates, most votes wins",detailedCritique:"Voters can select up to a specified number of candidates (less than total candidates). The candidate with the most votes wins. Reduces vote splitting compared to FPTP.",ballotType:"choose-x",choiceLimitation:"custom",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:4,honestStrategyResistance:2,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!1,category:"approval",tabulationCritique:"**Limited Voting (Single Winner):** Allows voters to select multiple candidates but only elects one winner. Can reduce vote splitting when limit is greater than 1.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},irv:{name:"IRV / RCV (Instant Runoff)",shortDescription:"Eliminate lowest, transfer votes",detailedCritique:`Instant Runoff Voting (IRV), also called Ranked Choice Voting (RCV) or Alternate Vote (AV, in the UK). Allows voters to rank candidates in order of preference. If no candidate receives a majority of first-choice votes, the candidate with the fewest votes is eliminated and their voters' ballots are transferred to their next choice. This process continues until someone has a majority. While IRV does eliminate the most basic spoiler effects between similar candidates, it suffers from several paradoxes that can produce counterintuitive results. The system can eliminate centrist candidates who would beat any other candidate head-to-head (the "center squeeze" problem), and in some cases, getting more first-choice votes can actually cause a candidate to lose (non-monotonicity). IRV is also vulnerable to strategic voting - "bullet voting" (only ranking one candidate) can sometimes help your favorite candidate. The sequential elimination process makes results difficult to predict and can take days to tabulate in close races. Despite these flaws, IRV does ensure majority support (among remaining candidates) and allows voters to express preferences.`,usedBy:[{code:"AU",name:"Australia (House of Representatives)",flag:"🇦🇺"},{code:"IE",name:"Ireland (Presidential elections)",flag:"🇮🇪"},{code:"US",name:"Multiple US cities",flag:"🇺🇸"}],ballotType:"ranking",choiceLimitation:"any",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},scores:{proportionality:0,simplicity:1,honestStrategyResistance:3,strategicStraightforwardness:4,representation:4},isProportional:!1,isSemiProportional:!1,category:"ranked",tabulationCritique:"**IRV:** Good at eliminating spoiler effects but can eliminate Condorcet winners and has center-squeeze problems.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",flowchart:`flowchart TD
    A["Start: Count first-choice votes"] --> B{"Any candidate has<br/>majority (>50%)?"}
    B -->|Yes| C["Winner: Candidate with majority"]
    B -->|No| D["Identify candidate with<br/>fewest first-choice votes"]
    D --> E["Eliminate candidate<br/>with fewest votes"]
    E --> F["Transfer votes to voters'<br/>next ranked choice"]
    F --> G["Recount all remaining votes"]
    G --> H{"Any candidate has<br/>majority (>50%)?"}
    H -->|Yes| I["Winner: Candidate with majority"]
    H -->|No| J{"Only 2 candidates<br/>remain?"}
    J -->|Yes| K["Winner: Candidate with<br/>more votes"]
    J -->|No| D

    style A fill:#e1f5fe
    style C fill:#c8e6c9
    style I fill:#c8e6c9
    style K fill:#c8e6c9`,tags:["ranked","runoff","instant-runoff","elimination","transfers"]},borda:{name:"Borda Count",shortDescription:"Points based on ranking position",detailedCritique:"Rewards broadly acceptable candidates but highly vulnerable to strategic manipulation and compromise.",ballotType:"ranking",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:1,honestStrategyResistance:0,strategicStraightforwardness:0,representation:3},isProportional:!1,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},tabulationCritique:"**Borda:** Rewards broadly acceptable candidates but highly vulnerable to strategic nomination.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["ranked","positional","compromise","strategic-vulnerable","summable"]},condorcet:{name:"Condorcet",shortDescription:"Head-to-head winner if exists",detailedCritique:"Theoretically optimal but can have no winner (Condorcet paradox) requiring complex tie-breaking.",ballotType:"ranking",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:1,honestStrategyResistance:5,strategicStraightforwardness:5,representation:4},isProportional:!1,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},tabulationCritique:"**Condorcet:** Elects the candidate who beats all others head-to-head, but may have no winner in some cases.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["ranked","condorcet-compliant","pairwise","head-to-head","complex"]},"highest-total":{name:"Score Voting",shortDescription:"Sum all scores, highest wins",detailedCritique:"Adds up all scores for each candidate - the candidate with the highest sum wins. Simple. Works best with many candidates and relatively few voters where expressivity helps prevent ties.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},scores:{proportionality:0,simplicity:4,honestStrategyResistance:2,strategicStraightforwardness:2,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Highest Total:** Adds up all scores for each candidate - the candidate with the highest sum wins. Simple. Works best with many candidates and relatively few voters where expressivity helps prevent ties.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["score","cardinal","expressive","simple","summable"]},star:{name:"STAR Voting",shortDescription:"Score then automatic runoff",detailedCritique:"Combines benefits of score voting with runoff security, eliminating strategic concerns. The scoring phase works best with many candidates and relatively few voters, while the runoff provides decisive results.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,votingMachineCompatibility:{existingMachines:!1,description:"Requires new voting machines and ballot software"},scores:{proportionality:0,simplicity:4,honestStrategyResistance:3,strategicStraightforwardness:4,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**STAR:** Combines benefits of score voting with runoff security, eliminating strategic concerns. The scoring phase works best with many candidates and relatively few voters, while the runoff provides decisive results.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["score","cardinal","hybrid","runoff","two-phase","consensus","spoiler-resistant"]},"block-voting":{name:"Block Voting",shortDescription:"Choose one, top candidates win multiple seats",detailedCritique:'Also called "Plurality-at-large". Voters choose one candidate, and the candidates with the most votes win seats. Simple but tends to give all seats to the most popular party or faction.',ballotType:"choose-x",choiceLimitation:"1",minSeats:2,maxSeats:"unlimited",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:0,strategicStraightforwardness:0,representation:1},isProportional:!1,isSemiProportional:!1,category:"plurality",tabulationCritique:"**Block Voting:** Simple plurality system for multiple seats. Tends to give all seats to the most popular party - very poor minority representation.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",tags:["simple","majoritarian","plurality","single-mark","bloc-voting","sweep-prone"]},"block-approval":{name:"Block Approval Voting",shortDescription:"Approve any number, top candidates win multiple seats",detailedCritique:"Simple extension of approval to multiple winners but provides no proportional representation.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},scores:{proportionality:0,simplicity:5,honestStrategyResistance:5,strategicStraightforwardness:1,representation:2},isProportional:!1,isSemiProportional:!1,category:"approval",tabulationCritique:"**Block Approval:** Simple extension of approval voting to multiple seats. Better minority representation than Block Voting.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"limited-voting":{name:"Limited Voting",shortDescription:"Voters pick fewer candidates than seats available",detailedCritique:'Also called "Block Voting with limitations." Voters can select up to a specific number of candidates (less than the total seats). Candidates with the most votes win. Provides some minority representation but not fully proportional.',ballotType:"choose-x",choiceLimitation:"custom",minSeats:2,maxSeats:"unlimited",scores:{proportionality:0,simplicity:4,honestStrategyResistance:1,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**Limited Voting:** Provides some minority representation but not fully proportional. Strategic nomination is important.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},"cumulative-voting":{name:"Cumulative Voting",shortDescription:"Voters get points equal to seats and distribute them freely",detailedCritique:"Voters receive a number of points equal to the number of seats and can distribute them among candidates however they choose, including giving multiple points to the same candidate. Semi-proportional system that allows minority representation.",ballotType:"choose-x",choiceLimitation:"custom",minSeats:2,maxSeats:"unlimited",scores:{proportionality:0,simplicity:3,honestStrategyResistance:1,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**Cumulative Voting:** Allows voters to distribute points strategically. Semi-proportional system that can provide minority representation with proper strategy.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},sntv:{name:"SNTV (Single Non-Transferable Vote)",shortDescription:"Semi-proportional for choose-one ballots",detailedCritique:"Semi-proportional method for choose-one ballots. Requires strategic nomination by parties to achieve proportionality - too many candidates splits the vote, too few wastes votes.",ballotType:"choose-x",choiceLimitation:"1",minSeats:2,maxSeats:"unlimited",scores:{proportionality:3,simplicity:5,honestStrategyResistance:2,strategicStraightforwardness:2,representation:3},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**SNTV:** Semi-proportional method for choose-one ballots. Requires strategic nomination by parties to achieve proportionality - too many candidates splits the vote, too few wastes votes.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},"satisfaction-approval":{name:"Satisfaction Approval",shortDescription:"Semi-proportional splits votes equally",detailedCritique:"Semi-proportional system that splits each vote equally between all approved candidates. More proportional than block voting but requires strategic coordination - voters must know how many seats their party deserves and vote for exactly that many candidates. Vulnerable to 'wipeout' if strategy fails.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",scores:{proportionality:3,simplicity:5,honestStrategyResistance:3,strategicStraightforwardness:3,representation:4},isProportional:!1,isSemiProportional:!0,category:"approval",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"},tabulationCritique:"**Satisfaction Approval:** Semi-proportional system that splits each vote equally between all approved candidates. More proportional than block voting but requires strategic coordination - voters must know how many seats their party deserves and vote for exactly that many candidates. Vulnerable to 'wipeout' if strategy fails.",proportionalityDetails:"**Semi-Proportional:** Provides some minority representation but not full proportional representation."},spav:{name:"SPAV (Sequential Proportional Approval)",shortDescription:"Proportional approval using sequential selection",detailedCritique:"Sequential Proportional Approval Voting that encourages diverse representation. Much more practical to implement than the theoretical PAV optimization.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:4,honestStrategyResistance:3,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"approval",tabulationCritique:"**SPAV:** Sequential Proportional Approval Voting that encourages diverse representation. Much more practical to implement than the theoretical PAV optimization.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},stv:{name:"STV (Single Transferable Vote)",shortDescription:"Proportional ranked choice voting",detailedCritique:"Provides proportional representation with ranked ballots, maintaining local representation while ensuring diversity.",usedBy:[{code:"IE",name:"Ireland (Dáil Éireann)",flag:"🇮🇪"},{code:"MT",name:"Malta",flag:"🇲🇹"},{code:"AU",name:"Australia (Senate)",flag:"🇦🇺"}],ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:3,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",tabulationCritique:"**STV:** Provides proportional representation with ranked ballots, maintaining local representation while ensuring diversity.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",tags:["proportional","ranked","transfers","quota-based","complex","candidate-based","surplus-transfer"]},"cpo-stv":{name:"CPO-STV",shortDescription:"Condorcet-refined proportional ranked choice",detailedCritique:"Comparison of Pairs of Outcomes STV combines proportional representation with Condorcet-style optimality. More theoretically sound than traditional STV but significantly more complex to compute and explain.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires specialized software for complex calculations"},tabulationCritique:"**CPO-STV:** Uses Condorcet-style comparisons to find the optimal proportional outcome. More theoretically sound than standard STV but requires exponentially complex calculations.",proportionalityDetails:"**Proportional Representation:** Ensures optimal proportional outcomes by comparing all possible seat allocations, though at the cost of computational complexity."},"schulze-stv":{name:"Schulze STV",shortDescription:"Schulze method extended to proportional representation",detailedCritique:"Applies the Schulze method principles to multi-winner elections for proportional representation. Eliminates many strategic voting problems but is extremely complex to calculate and verify.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:5,strategicStraightforwardness:4,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires specialized software for very complex calculations"},tabulationCritique:"**Schulze STV:** Extends the Schulze method to achieve proportional representation. Excellent theoretical properties but extremely complex implementation.",proportionalityDetails:"**Proportional Representation:** Provides optimal proportional representation using Schulze method principles, ensuring strong Condorcet-style criteria are met."},"meek-stv":{name:"Meek STV",shortDescription:"STV with iterative reweighting",detailedCritique:"Uses iterative reweighting instead of fractional vote transfers. More mathematically elegant than traditional STV and avoids some anomalies, but harder to verify by hand.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:2,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new software for iterative calculations"},tabulationCritique:"**Meek STV:** Uses iterative reweighting instead of fractional transfers. More mathematically sound than traditional STV but requires computer calculation.",proportionalityDetails:"**Proportional Representation:** Achieves excellent proportional representation through continuous reweighting, avoiding some traditional STV anomalies."},"pr-borda":{name:"PR-Borda",shortDescription:"Proportional representation using Borda count",detailedCritique:"Allocates seats proportionally based on Borda count scores. Rewards consensus candidates and provides proportional representation, but highly vulnerable to strategic nomination and cloning.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:4,simplicity:1,honestStrategyResistance:0,strategicStraightforwardness:0,representation:4},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires new software for Borda calculations and proportional allocation"},tabulationCritique:"**PR-Borda:** Calculates Borda scores and allocates seats proportionally. Simple concept but extremely vulnerable to strategic nomination and candidate cloning.",proportionalityDetails:"**Proportional Representation:** Provides proportional representation based on Borda scores, rewarding broadly acceptable candidates across party lines."},"wright-stv":{name:"Wright STV",shortDescription:"STV variant with refined transfer rules",detailedCritique:"A variant of STV that uses different vote transfer mechanisms to reduce some strategic voting opportunities. More complex than traditional STV but with better theoretical properties.",ballotType:"ranking",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:1,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"ranked",votingMachineCompatibility:{existingMachines:!1,description:"Requires specialized software for refined transfer calculations"},tabulationCritique:"**Wright STV:** Uses refined transfer rules to improve upon traditional STV. Better theoretical properties but more complex implementation and verification.",proportionalityDetails:"**Proportional Representation:** Achieves proportional representation with improved transfer mechanisms that reduce some strategic voting opportunities."},"party-list-pr":{name:"Party List PR",shortDescription:"Proportional seats by party vote share. Can use Open Lists (voters pick candidates within a party) or Closed Lists (party sets candidate order).",detailedCritique:"Pure proportional representation where voters choose parties, and seats are allocated based on each party's share of the vote. Can be Open List (voters choose specific candidates within a party, increasing voter choice but potentially creating intra‑party competition), Closed List (party decides candidate order, strengthening cohesion but reducing voter choice), or Flexible/Hybrid List (voters may either accept party order or elevate specific candidates). Ensures fair representation but can reduce individual candidate accountability. Used in many European countries like the Netherlands, Israel, and Finland.",requiresParties:!0,usedBy:[{code:"NL",name:"Netherlands",flag:"🇳🇱"},{code:"IL",name:"Israel",flag:"🇮🇱"},{code:"SE",name:"Sweden",flag:"🇸🇪"}],ballotType:"choose-x",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:4,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"mixed",hasVariants:!0,variants:{listType:!0},tabulationCritique:"**Party List PR:** Direct proportional representation where parties receive seats based on their vote share. Achieves excellent proportionality but may weaken the link between voters and individual representatives. Works best with diverse multi-party systems.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",listTypeCritique:{closed:"**Closed Lists:** Give parties full control over candidate selection and ordering, which can strengthen party discipline but reduce voter choice.",open:"**Open Lists:** Allow voters to choose specific candidates within parties, increasing voter choice but potentially fragmenting party unity.",flexible:"**Flexible Lists:** Balance party control with voter choice, allowing both party and candidate votes to influence outcomes."},primaryCritique:{withPrimaries:"**Primary Elections:** Increase voter choice and party democracy but can favor extreme candidates, reduce general election competitiveness, and increase campaign costs. May lead to more polarized candidates who appeal to party bases rather than general electorate.",withoutPrimaries:"**No Primaries:** Parties select candidates internally (conventions, appointments, etc.). This gives party leadership more control but may reduce grassroots democracy and voter input in candidate selection."}},mmp:{name:"MMP (Mixed Member Proportional)",shortDescription:"Combines districts with party lists. Party lists may be Open or Closed depending on implementation.",detailedCritique:'Hybrid system combining local districts with party lists. Voters cast two ballots: one for a local representative and one for a party. Party lists can be Open (voters can select candidates within the party) or Closed (party sets the order). Additional "top-up" seats ensure overall proportionality while preserving local representation. Successfully used in Germany, New Zealand, and Scotland.',requiresParties:!0,ballotType:"choose-x",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:3,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"mixed",hasVariants:!0,variants:{listType:!0,mixedMember:!0},tabulationCritique:"**MMP:** Combines the best of both worlds - local accountability through districts and fair representation through proportional top-up seats. More complex to implement but provides excellent balance between local representation and proportionality. May create two classes of representatives.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",listTypeCritique:{closed:"**Closed Lists:** Give parties full control over candidate selection and ordering, which can strengthen party discipline but reduce voter choice.",open:"**Open Lists:** Allow voters to choose specific candidates within parties, increasing voter choice but potentially fragmenting party unity.",flexible:"**Flexible Lists:** Balance party control with voter choice, allowing both party and candidate votes to influence outcomes."},primaryCritique:{withPrimaries:"**Primary Elections:** Increase voter choice and party democracy but can favor extreme candidates, reduce general election competitiveness, and increase campaign costs. May lead to more polarized candidates who appeal to party bases rather than general electorate.",withoutPrimaries:"**No Primaries:** Parties select candidates internally (conventions, appointments, etc.). This gives party leadership more control but may reduce grassroots democracy and voter input in candidate selection."}},"block-score":{name:"Block Score Voting",shortDescription:"Highest total scores win multiple seats",detailedCritique:"Multi-winner extension of score voting where candidates with the highest total scores win seats. Simple but provides no proportional representation.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:0,simplicity:5,honestStrategyResistance:2,strategicStraightforwardness:2,representation:2},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Block Score Voting:** Simple extension of score voting to multiple winners. Candidates with highest total scores win seats, but provides no proportional representation.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"equal-shares":{name:"Method of Equal Shares",shortDescription:"Equal budget per voter",detailedCritique:"Ensures each voter gets an equal 'budget' of representation. Excellent proportionality and fairness, but complex for voters to understand. The detailed scoring works best with many candidates and relatively few voters.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:3,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"score",tabulationCritique:"**Method of Equal Shares:** Ensures each voter gets an equal 'budget' of representation. Excellent proportionality and fairness, but complex for voters to understand. The detailed scoring works best with many candidates and relatively few voters.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},pav:{name:"PAV (Proportional Approval Voting)",shortDescription:"Optimal approval-based proportional representation",detailedCritique:"The theoretical optimum for proportional representation using approval ballots. Maximizes voter satisfaction but requires complex optimization algorithms that are computationally intensive for large elections.",ballotType:"choose-x",choiceLimitation:"unlimited",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:2,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"approval",tabulationCritique:"**PAV:** The theoretical optimum for proportional representation using approval ballots. Maximizes voter satisfaction but requires complex optimization algorithms that are computationally intensive for large elections.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability.",tags:["proportional","approval","optimization","theoretically-optimal","computationally-complex","np-hard"]},"star-pr":{name:"STAR-PR",shortDescription:"Proportional STAR voting",detailedCritique:"Extends STAR voting to multi-winner elections by using proportional allocation. Combines the benefits of score voting expressiveness with proportional representation, but adds complexity to the tabulation process.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:5,simplicity:3,honestStrategyResistance:4,strategicStraightforwardness:3,representation:5},isProportional:!0,isSemiProportional:!1,category:"score",tabulationCritique:"**STAR-PR:** Extends STAR voting to multi-winner elections by using proportional allocation. Combines the benefits of score voting expressiveness with proportional representation, but adds complexity to the tabulation process.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},"allocated-score":{name:"Allocated Score",shortDescription:"Practical proportional score voting",detailedCritique:"A practical implementation of proportional score voting that allocates candidates based on weighted scores. Simpler than Method of Equal Shares while still achieving good proportionality.",ballotType:"score",choiceLimitation:"any",minSeats:2,maxSeats:"unlimited",scores:{proportionality:4,simplicity:4,honestStrategyResistance:3,strategicStraightforwardness:3,representation:4},isProportional:!0,isSemiProportional:!1,category:"score",tabulationCritique:"**Allocated Score:** A practical approach to proportional score voting that's easier to implement than Method of Equal Shares while maintaining good proportional outcomes.",proportionalityDetails:"**Proportional Representation:** Ensures fair party representation but may reduce local accountability."},"range-voting":{name:"Range Voting",shortDescription:"Pure score voting without runoff",detailedCritique:"Simple score voting where the candidate with the highest total score wins. More expressive than approval voting but vulnerable to strategic exaggeration and normalization issues between voters.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:4,honestStrategyResistance:2,strategicStraightforwardness:2,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Range Voting:** Simple score voting where the candidate with the highest total score wins. More expressive than approval voting but vulnerable to strategic exaggeration and normalization issues between voters.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"3-2-1-voting":{name:"3-2-1 Voting",shortDescription:"Score 3-2-1, advance top 2, pick winner",detailedCritique:"Voters score candidates as Good (3), OK (2), or Bad (1). The two highest-scoring candidates advance to a runoff based on who is rated higher by more voters. Simple to understand and resistant to tactical voting.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:4,honestStrategyResistance:4,strategicStraightforwardness:3,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**3-2-1 Voting:** Simple to understand and resistant to tactical voting. Uses a constrained score range that's easy for voters to grasp.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"majority-judgment":{name:"Majority Judgment",shortDescription:"Winner has highest median score",detailedCritique:"Uses the median (middle) score for each candidate rather than totals or averages. Highly resistant to strategic manipulation since extreme scores don't affect the median. Can lead to ties requiring complex tie-breaking rules.",ballotType:"score",choiceLimitation:"any",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:3,honestStrategyResistance:2,strategicStraightforwardness:1,representation:4},isProportional:!1,isSemiProportional:!1,category:"score",tabulationCritique:"**Majority Judgment:** Uses the median (middle) score for each candidate rather than totals or averages. This makes it highly resistant to strategic manipulation since extreme scores (very high or very low) don't affect the median. However, it can lead to ties when candidates have the same median, requiring complex tie-breaking rules. The detailed scoring is most valuable when there are many candidates to differentiate.",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation."},"top-two-runoff":{name:"Top-Two Runoff",shortDescription:"Top 2 candidates advance to runoff election",detailedCritique:"Two-round system where if no candidate gets a majority, the top two candidates compete in a second election. Simple and familiar but can eliminate popular candidates in the first round.",ballotType:"choose-x",choiceLimitation:"1",minSeats:1,maxSeats:1,scores:{proportionality:0,simplicity:4,honestStrategyResistance:1,strategicStraightforwardness:2,representation:2},isProportional:!1,isSemiProportional:!1,category:"plurality",tabulationCritique:"**Top-Two Runoff:** Ensures the winner has majority support in the final round, but can eliminate popular candidates who don't make the top two. Technically not a different tabulation method, but just block voting then FPTP",proportionalityDetails:"**Non-Proportional Multi-Winner:** May lead to sweep victories and poor minority representation.",votingMachineCompatibility:{existingMachines:!0,description:"Compatible with existing voting machines"}}},eb=async()=>({votingMethods:tb}),V3=Object.freeze(Object.defineProperty({__proto__:null,load:eb},Symbol.toStringTag,{value:"Module"}));var ws={exports:{}},rb=ws.exports,Ah;function ib(){return Ah||(Ah=1,function(e,t){(function(r,i){e.exports=i()})(rb,function(){var r=1e3,i=6e4,a=36e5,n="millisecond",o="second",s="minute",l="hour",c="day",h="week",u="month",p="quarter",d="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var F=["th","st","nd","rd"],L=E%100;return"["+E+(F[(L-20)%10]||F[L]||F[0])+"]"}},w=function(E,F,L){var D=String(E);return!D||D.length>=F?E:""+Array(F+1-D.length).join(L)+E},T={s:w,z:function(E){var F=-E.utcOffset(),L=Math.abs(F),D=Math.floor(L/60),$=L%60;return(F<=0?"+":"-")+w(D,2,"0")+":"+w($,2,"0")},m:function E(F,L){if(F.date()<L.date())return-E(L,F);var D=12*(L.year()-F.year())+(L.month()-F.month()),$=F.clone().add(D,u),X=L-$<0,et=F.clone().add(D+(X?-1:1),u);return+(-(D+(L-$)/(X?$-et:et-$))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:u,y:d,w:h,d:c,D:g,h:l,m:s,s:o,ms:n,Q:p}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},S="en",x={};x[S]=v;var M="$isDayjsObject",N=function(E){return E instanceof U||!(!E||!E[M])},V=function E(F,L,D){var $;if(!F)return S;if(typeof F=="string"){var X=F.toLowerCase();x[X]&&($=X),L&&(x[X]=L,$=X);var et=F.split("-");if(!$&&et.length>1)return E(et[0])}else{var rt=F.name;x[rt]=F,$=rt}return!D&&$&&(S=$),$||!D&&S},z=function(E,F){if(N(E))return E.clone();var L=typeof F=="object"?F:{};return L.date=E,L.args=arguments,new U(L)},P=T;P.l=V,P.i=N,P.w=function(E,F){return z(E,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var U=function(){function E(L){this.$L=V(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[M]=!0}var F=E.prototype;return F.parse=function(L){this.$d=function(D){var $=D.date,X=D.utc;if($===null)return new Date(NaN);if(P.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var et=$.match(y);if(et){var rt=et[2]-1||0,At=(et[7]||"0").substring(0,3);return X?new Date(Date.UTC(et[1],rt,et[3]||1,et[4]||0,et[5]||0,et[6]||0,At)):new Date(et[1],rt,et[3]||1,et[4]||0,et[5]||0,et[6]||0,At)}}return new Date($)}(L),this.init()},F.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},F.$utils=function(){return P},F.isValid=function(){return this.$d.toString()!==m},F.isSame=function(L,D){var $=z(L);return this.startOf(D)<=$&&$<=this.endOf(D)},F.isAfter=function(L,D){return z(L)<this.startOf(D)},F.isBefore=function(L,D){return this.endOf(D)<z(L)},F.$g=function(L,D,$){return P.u(L)?this[D]:this.set($,L)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(L,D){var $=this,X=!!P.u(D)||D,et=P.p(L),rt=function(Rt,Ft){var jt=P.w($.$u?Date.UTC($.$y,Ft,Rt):new Date($.$y,Ft,Rt),$);return X?jt:jt.endOf(c)},At=function(Rt,Ft){return P.w($.toDate()[Rt].apply($.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(Ft)),$)},bt=this.$W,Ht=this.$M,xt=this.$D,pt="set"+(this.$u?"UTC":"");switch(et){case d:return X?rt(1,0):rt(31,11);case u:return X?rt(1,Ht):rt(0,Ht+1);case h:var ut=this.$locale().weekStart||0,Nt=(bt<ut?bt+7:bt)-ut;return rt(X?xt-Nt:xt+(6-Nt),Ht);case c:case g:return At(pt+"Hours",0);case l:return At(pt+"Minutes",1);case s:return At(pt+"Seconds",2);case o:return At(pt+"Milliseconds",3);default:return this.clone()}},F.endOf=function(L){return this.startOf(L,!1)},F.$set=function(L,D){var $,X=P.p(L),et="set"+(this.$u?"UTC":""),rt=($={},$[c]=et+"Date",$[g]=et+"Date",$[u]=et+"Month",$[d]=et+"FullYear",$[l]=et+"Hours",$[s]=et+"Minutes",$[o]=et+"Seconds",$[n]=et+"Milliseconds",$)[X],At=X===c?this.$D+(D-this.$W):D;if(X===u||X===d){var bt=this.clone().set(g,1);bt.$d[rt](At),bt.init(),this.$d=bt.set(g,Math.min(this.$D,bt.daysInMonth())).$d}else rt&&this.$d[rt](At);return this.init(),this},F.set=function(L,D){return this.clone().$set(L,D)},F.get=function(L){return this[P.p(L)]()},F.add=function(L,D){var $,X=this;L=Number(L);var et=P.p(D),rt=function(Ht){var xt=z(X);return P.w(xt.date(xt.date()+Math.round(Ht*L)),X)};if(et===u)return this.set(u,this.$M+L);if(et===d)return this.set(d,this.$y+L);if(et===c)return rt(1);if(et===h)return rt(7);var At=($={},$[s]=i,$[l]=a,$[o]=r,$)[et]||1,bt=this.$d.getTime()+L*At;return P.w(bt,this)},F.subtract=function(L,D){return this.add(-1*L,D)},F.format=function(L){var D=this,$=this.$locale();if(!this.isValid())return $.invalidDate||m;var X=L||"YYYY-MM-DDTHH:mm:ssZ",et=P.z(this),rt=this.$H,At=this.$m,bt=this.$M,Ht=$.weekdays,xt=$.months,pt=$.meridiem,ut=function(Ft,jt,ne,fe){return Ft&&(Ft[jt]||Ft(D,X))||ne[jt].slice(0,fe)},Nt=function(Ft){return P.s(rt%12||12,Ft,"0")},Rt=pt||function(Ft,jt,ne){var fe=Ft<12?"AM":"PM";return ne?fe.toLowerCase():fe};return X.replace(b,function(Ft,jt){return jt||function(ne){switch(ne){case"YY":return String(D.$y).slice(-2);case"YYYY":return P.s(D.$y,4,"0");case"M":return bt+1;case"MM":return P.s(bt+1,2,"0");case"MMM":return ut($.monthsShort,bt,xt,3);case"MMMM":return ut(xt,bt);case"D":return D.$D;case"DD":return P.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return ut($.weekdaysMin,D.$W,Ht,2);case"ddd":return ut($.weekdaysShort,D.$W,Ht,3);case"dddd":return Ht[D.$W];case"H":return String(rt);case"HH":return P.s(rt,2,"0");case"h":return Nt(1);case"hh":return Nt(2);case"a":return Rt(rt,At,!0);case"A":return Rt(rt,At,!1);case"m":return String(At);case"mm":return P.s(At,2,"0");case"s":return String(D.$s);case"ss":return P.s(D.$s,2,"0");case"SSS":return P.s(D.$ms,3,"0");case"Z":return et}return null}(Ft)||et.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(L,D,$){var X,et=this,rt=P.p(D),At=z(L),bt=(At.utcOffset()-this.utcOffset())*i,Ht=this-At,xt=function(){return P.m(et,At)};switch(rt){case d:X=xt()/12;break;case u:X=xt();break;case p:X=xt()/3;break;case h:X=(Ht-bt)/6048e5;break;case c:X=(Ht-bt)/864e5;break;case l:X=Ht/a;break;case s:X=Ht/i;break;case o:X=Ht/r;break;default:X=Ht}return $?X:P.a(X)},F.daysInMonth=function(){return this.endOf(u).$D},F.$locale=function(){return x[this.$L]},F.locale=function(L,D){if(!L)return this.$L;var $=this.clone(),X=V(L,D,!0);return X&&($.$L=X),$},F.clone=function(){return P.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},E}(),O=U.prototype;return z.prototype=O,[["$ms",n],["$s",o],["$m",s],["$H",l],["$W",c],["$M",u],["$y",d],["$D",g]].forEach(function(E){O[E[1]]=function(F){return this.$g(F,E[0],E[1])}}),z.extend=function(E,F){return E.$i||(E(F,U,z),E.$i=!0),z},z.locale=V,z.isDayjs=N,z.unix=function(E){return z(1e3*E)},z.en=x[S],z.Ls=x,z.p={},z})}(ws)),ws.exports}var ab=ib();const nb=J0(ab),Cs={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},i)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const a=r<.5?r*(1+t):r+t-r*t,n=2*r-a;switch(i){case"r":return Cs.hue2rgb(n,a,e+1/3)*255;case"g":return Cs.hue2rgb(n,a,e)*255;case"b":return Cs.hue2rgb(n,a,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},i)=>{e/=255,t/=255,r/=255;const a=Math.max(e,t,r),n=Math.min(e,t,r),o=(a+n)/2;if(i==="l")return o*100;if(a===n)return 0;const s=a-n,l=o>.5?s/(2-a-n):s/(a+n);if(i==="s")return l*100;switch(a){case e:return((t-r)/s+(t<r?6:0))*60;case t:return((r-e)/s+2)*60;case r:return((e-t)/s+4)*60;default:return-1}}},sb={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},ob={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},mt={channel:Cs,lang:sb,unit:ob},Rr={};for(let e=0;e<=255;e++)Rr[e]=mt.unit.dec2hex(e);const ue={ALL:0,RGB:1,HSL:2};class lb{constructor(){this.type=ue.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=ue.ALL}is(t){return this.type===t}}class cb{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new lb}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=ue.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:i,l:a}=t;r===void 0&&(t.h=mt.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=mt.channel.rgb2hsl(t,"s")),a===void 0&&(t.l=mt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:i,b:a}=t;r===void 0&&(t.r=mt.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=mt.channel.hsl2rgb(t,"g")),a===void 0&&(t.b=mt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(ue.HSL)&&r!==void 0?r:(this._ensureHSL(),mt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(ue.HSL)&&r!==void 0?r:(this._ensureHSL(),mt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(ue.HSL)&&r!==void 0?r:(this._ensureHSL(),mt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(ue.RGB)&&r!==void 0?r:(this._ensureRGB(),mt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(ue.RGB)&&r!==void 0?r:(this._ensureRGB(),mt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(ue.RGB)&&r!==void 0?r:(this._ensureRGB(),mt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(ue.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(ue.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(ue.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(ue.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(ue.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(ue.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const xo=new cb({r:0,g:0,b:0,a:0},"transparent"),ta={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(ta.re);if(!t)return;const r=t[1],i=parseInt(r,16),a=r.length,n=a%4===0,o=a>4,s=o?1:17,l=o?8:4,c=n?0:-1,h=o?255:15;return xo.set({r:(i>>l*(c+3)&h)*s,g:(i>>l*(c+2)&h)*s,b:(i>>l*(c+1)&h)*s,a:n?(i&h)*s/255:1},e)},stringify:e=>{const{r:t,g:r,b:i,a}=e;return a<1?`#${Rr[Math.round(t)]}${Rr[Math.round(r)]}${Rr[Math.round(i)]}${Rr[Math.round(a*255)]}`:`#${Rr[Math.round(t)]}${Rr[Math.round(r)]}${Rr[Math.round(i)]}`}},oi={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(oi.hueRe);if(t){const[,r,i]=t;switch(i){case"grad":return mt.channel.clamp.h(parseFloat(r)*.9);case"rad":return mt.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return mt.channel.clamp.h(parseFloat(r)*360)}}return mt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(oi.re);if(!r)return;const[,i,a,n,o,s]=r;return xo.set({h:oi._hue2deg(i),s:mt.channel.clamp.s(parseFloat(a)),l:mt.channel.clamp.l(parseFloat(n)),a:o?mt.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:r,l:i,a}=e;return a<1?`hsla(${mt.lang.round(t)}, ${mt.lang.round(r)}%, ${mt.lang.round(i)}%, ${a})`:`hsl(${mt.lang.round(t)}, ${mt.lang.round(r)}%, ${mt.lang.round(i)}%)`}},bn={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=bn.colors[e];if(t)return ta.parse(t)},stringify:e=>{const t=ta.stringify(e);for(const r in bn.colors)if(bn.colors[r]===t)return r}},un={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(un.re);if(!r)return;const[,i,a,n,o,s,l,c,h]=r;return xo.set({r:mt.channel.clamp.r(a?parseFloat(i)*2.55:parseFloat(i)),g:mt.channel.clamp.g(o?parseFloat(n)*2.55:parseFloat(n)),b:mt.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:c?mt.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:r,b:i,a}=e;return a<1?`rgba(${mt.lang.round(t)}, ${mt.lang.round(r)}, ${mt.lang.round(i)}, ${mt.lang.round(a)})`:`rgb(${mt.lang.round(t)}, ${mt.lang.round(r)}, ${mt.lang.round(i)})`}},sr={format:{keyword:bn,hex:ta,rgb:un,rgba:un,hsl:oi,hsla:oi},parse:e=>{if(typeof e!="string")return e;const t=ta.parse(e)||un.parse(e)||oi.parse(e)||bn.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(ue.HSL)||e.data.r===void 0?oi.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?un.stringify(e):ta.stringify(e)},fp=(e,t)=>{const r=sr.parse(e);for(const i in t)r[i]=mt.channel.clamp[i](t[i]);return sr.stringify(r)},vn=(e,t,r=0,i=1)=>{if(typeof e!="number")return fp(e,{a:t});const a=xo.set({r:mt.channel.clamp.r(e),g:mt.channel.clamp.g(t),b:mt.channel.clamp.b(r),a:mt.channel.clamp.a(i)});return sr.stringify(a)},hb=e=>{const{r:t,g:r,b:i}=sr.parse(e),a=.2126*mt.channel.toLinear(t)+.7152*mt.channel.toLinear(r)+.0722*mt.channel.toLinear(i);return mt.lang.round(a)},ub=e=>hb(e)>=.5,Rn=e=>!ub(e),gp=(e,t,r)=>{const i=sr.parse(e),a=i[t],n=mt.channel.clamp[t](a+r);return a!==n&&(i[t]=n),sr.stringify(i)},Q=(e,t)=>gp(e,"l",t),dt=(e,t)=>gp(e,"l",-t),A=(e,t)=>{const r=sr.parse(e),i={};for(const a in t)t[a]&&(i[a]=r[a]+t[a]);return fp(e,i)},pb=(e,t,r=50)=>{const{r:i,g:a,b:n,a:o}=sr.parse(e),{r:s,g:l,b:c,a:h}=sr.parse(t),u=r/100,p=u*2-1,d=o-h,m=((p*d===-1?p:(p+d)/(1+p*d))+1)/2,y=1-m,b=i*m+s*y,v=a*m+l*y,w=n*m+c*y,T=o*u+h*(1-u);return vn(b,v,w,T)},Y=(e,t=100)=>{const r=sr.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,pb(r,e,t)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:mp,setPrototypeOf:Bh,isFrozen:db,getPrototypeOf:fb,getOwnPropertyDescriptor:gb}=Object;let{freeze:we,seal:ze,create:yp}=Object,{apply:wl,construct:Cl}=typeof Reflect<"u"&&Reflect;we||(we=function(t){return t});ze||(ze=function(t){return t});wl||(wl=function(t,r,i){return t.apply(r,i)});Cl||(Cl=function(t,r){return new t(...r)});const us=Ce(Array.prototype.forEach),mb=Ce(Array.prototype.lastIndexOf),Lh=Ce(Array.prototype.pop),Ka=Ce(Array.prototype.push),yb=Ce(Array.prototype.splice),ks=Ce(String.prototype.toLowerCase),Jo=Ce(String.prototype.toString),Eh=Ce(String.prototype.match),Qa=Ce(String.prototype.replace),bb=Ce(String.prototype.indexOf),vb=Ce(String.prototype.trim),Ye=Ce(Object.prototype.hasOwnProperty),me=Ce(RegExp.prototype.test),Ja=xb(TypeError);function Ce(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return wl(e,t,i)}}function xb(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Cl(e,r)}}function _t(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ks;Bh&&Bh(e,null);let i=t.length;for(;i--;){let a=t[i];if(typeof a=="string"){const n=r(a);n!==a&&(db(t)||(t[i]=n),a=n)}e[a]=!0}return e}function _b(e){for(let t=0;t<e.length;t++)Ye(e,t)||(e[t]=null);return e}function _r(e){const t=yp(null);for(const[r,i]of mp(e))Ye(e,r)&&(Array.isArray(i)?t[r]=_b(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=_r(i):t[r]=i);return t}function tn(e,t){for(;e!==null;){const i=gb(e,t);if(i){if(i.get)return Ce(i.get);if(typeof i.value=="function")return Ce(i.value)}e=fb(e)}function r(){return null}return r}const $h=we(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tl=we(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),el=we(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wb=we(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rl=we(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Cb=we(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Fh=we(["#text"]),Ph=we(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),il=we(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Dh=we(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ps=we(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kb=ze(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Sb=ze(/<%[\w\W]*|[\w\W]*%>/gm),Tb=ze(/\$\{[\w\W]*/gm),Mb=ze(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ab=ze(/^aria-[\-\w]+$/),bp=ze(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Bb=ze(/^(?:\w+script|data):/i),Lb=ze(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vp=ze(/^html$/i),Eb=ze(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rh=Object.freeze({__proto__:null,ARIA_ATTR:Ab,ATTR_WHITESPACE:Lb,CUSTOM_ELEMENT:Eb,DATA_ATTR:Mb,DOCTYPE_NAME:vp,ERB_EXPR:Sb,IS_ALLOWED_URI:bp,IS_SCRIPT_OR_DATA:Bb,MUSTACHE_EXPR:kb,TMPLIT_EXPR:Tb});const en={element:1,text:3,progressingInstruction:7,comment:8,document:9},$b=function(){return typeof window>"u"?null:window},Fb=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(i=r.getAttribute(a));const n="dompurify"+(i?"#"+i:"");try{return t.createPolicy(n,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}},Oh=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function xp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$b();const t=st=>xp(st);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==en.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const i=r,a=i.currentScript,{DocumentFragment:n,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:c,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:p,trustedTypes:d}=e,g=l.prototype,m=tn(g,"cloneNode"),y=tn(g,"remove"),b=tn(g,"nextSibling"),v=tn(g,"childNodes"),w=tn(g,"parentNode");if(typeof o=="function"){const st=r.createElement("template");st.content&&st.content.ownerDocument&&(r=st.content.ownerDocument)}let T,S="";const{implementation:x,createNodeIterator:M,createDocumentFragment:N,getElementsByTagName:V}=r,{importNode:z}=i;let P=Oh();t.isSupported=typeof mp=="function"&&typeof w=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:O,TMPLIT_EXPR:E,DATA_ATTR:F,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:X}=Rh;let{IS_ALLOWED_URI:et}=Rh,rt=null;const At=_t({},[...$h,...tl,...el,...rl,...Fh]);let bt=null;const Ht=_t({},[...Ph,...il,...Dh,...ps]);let xt=Object.seal(yp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pt=null,ut=null,Nt=!0,Rt=!0,Ft=!1,jt=!0,ne=!1,fe=!0,ke=!1,Ti=!1,Yr=!1,Qe=!1,Gr=!1,Mi=!1,Ma=!0,Ai=!1;const Yn="user-content-";let Xr=!0,hr=!1,ur={},pr=null;const Gn=_t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Aa=null;const Bi=_t({},["audio","video","img","source","image","track"]);let Zr=null;const Ba=_t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fr="http://www.w3.org/1998/Math/MathML",Pr="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1999/xhtml";let dr=Ee,Li=!1,La=null;const Xn=_t({},[Fr,Pr,Ee],Jo);let Kr=_t({},["mi","mo","mn","ms","mtext"]),Ei=_t({},["annotation-xml"]);const Ea=_t({},["title","style","font","a","script"]);let fr=null;const Zn=["application/xhtml+xml","text/html"],Kn="text/html";let Kt=null,gr=null;const $a=r.createElement("form"),$i=function(k){return k instanceof RegExp||k instanceof Function},Fi=function(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(gr&&gr===k)){if((!k||typeof k!="object")&&(k={}),k=_r(k),fr=Zn.indexOf(k.PARSER_MEDIA_TYPE)===-1?Kn:k.PARSER_MEDIA_TYPE,Kt=fr==="application/xhtml+xml"?Jo:ks,rt=Ye(k,"ALLOWED_TAGS")?_t({},k.ALLOWED_TAGS,Kt):At,bt=Ye(k,"ALLOWED_ATTR")?_t({},k.ALLOWED_ATTR,Kt):Ht,La=Ye(k,"ALLOWED_NAMESPACES")?_t({},k.ALLOWED_NAMESPACES,Jo):Xn,Zr=Ye(k,"ADD_URI_SAFE_ATTR")?_t(_r(Ba),k.ADD_URI_SAFE_ATTR,Kt):Ba,Aa=Ye(k,"ADD_DATA_URI_TAGS")?_t(_r(Bi),k.ADD_DATA_URI_TAGS,Kt):Bi,pr=Ye(k,"FORBID_CONTENTS")?_t({},k.FORBID_CONTENTS,Kt):Gn,pt=Ye(k,"FORBID_TAGS")?_t({},k.FORBID_TAGS,Kt):_r({}),ut=Ye(k,"FORBID_ATTR")?_t({},k.FORBID_ATTR,Kt):_r({}),ur=Ye(k,"USE_PROFILES")?k.USE_PROFILES:!1,Nt=k.ALLOW_ARIA_ATTR!==!1,Rt=k.ALLOW_DATA_ATTR!==!1,Ft=k.ALLOW_UNKNOWN_PROTOCOLS||!1,jt=k.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=k.SAFE_FOR_TEMPLATES||!1,fe=k.SAFE_FOR_XML!==!1,ke=k.WHOLE_DOCUMENT||!1,Qe=k.RETURN_DOM||!1,Gr=k.RETURN_DOM_FRAGMENT||!1,Mi=k.RETURN_TRUSTED_TYPE||!1,Yr=k.FORCE_BODY||!1,Ma=k.SANITIZE_DOM!==!1,Ai=k.SANITIZE_NAMED_PROPS||!1,Xr=k.KEEP_CONTENT!==!1,hr=k.IN_PLACE||!1,et=k.ALLOWED_URI_REGEXP||bp,dr=k.NAMESPACE||Ee,Kr=k.MATHML_TEXT_INTEGRATION_POINTS||Kr,Ei=k.HTML_INTEGRATION_POINTS||Ei,xt=k.CUSTOM_ELEMENT_HANDLING||{},k.CUSTOM_ELEMENT_HANDLING&&$i(k.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xt.tagNameCheck=k.CUSTOM_ELEMENT_HANDLING.tagNameCheck),k.CUSTOM_ELEMENT_HANDLING&&$i(k.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xt.attributeNameCheck=k.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),k.CUSTOM_ELEMENT_HANDLING&&typeof k.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(xt.allowCustomizedBuiltInElements=k.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(Rt=!1),Gr&&(Qe=!0),ur&&(rt=_t({},Fh),bt=[],ur.html===!0&&(_t(rt,$h),_t(bt,Ph)),ur.svg===!0&&(_t(rt,tl),_t(bt,il),_t(bt,ps)),ur.svgFilters===!0&&(_t(rt,el),_t(bt,il),_t(bt,ps)),ur.mathMl===!0&&(_t(rt,rl),_t(bt,Dh),_t(bt,ps))),k.ADD_TAGS&&(rt===At&&(rt=_r(rt)),_t(rt,k.ADD_TAGS,Kt)),k.ADD_ATTR&&(bt===Ht&&(bt=_r(bt)),_t(bt,k.ADD_ATTR,Kt)),k.ADD_URI_SAFE_ATTR&&_t(Zr,k.ADD_URI_SAFE_ATTR,Kt),k.FORBID_CONTENTS&&(pr===Gn&&(pr=_r(pr)),_t(pr,k.FORBID_CONTENTS,Kt)),Xr&&(rt["#text"]=!0),ke&&_t(rt,["html","head","body"]),rt.table&&(_t(rt,["tbody"]),delete pt.tbody),k.TRUSTED_TYPES_POLICY){if(typeof k.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ja('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof k.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ja('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=k.TRUSTED_TYPES_POLICY,S=T.createHTML("")}else T===void 0&&(T=Fb(d,a)),T!==null&&typeof S=="string"&&(S=T.createHTML(""));we&&we(k),gr=k}},Pi=_t({},[...tl,...el,...wb]),Fa=_t({},[...rl,...Cb]),Pa=function(k){let W=w(k);(!W||!W.tagName)&&(W={namespaceURI:dr,tagName:"template"});const J=ks(k.tagName),qt=ks(W.tagName);return La[k.namespaceURI]?k.namespaceURI===Pr?W.namespaceURI===Ee?J==="svg":W.namespaceURI===Fr?J==="svg"&&(qt==="annotation-xml"||Kr[qt]):!!Pi[J]:k.namespaceURI===Fr?W.namespaceURI===Ee?J==="math":W.namespaceURI===Pr?J==="math"&&Ei[qt]:!!Fa[J]:k.namespaceURI===Ee?W.namespaceURI===Pr&&!Ei[qt]||W.namespaceURI===Fr&&!Kr[qt]?!1:!Fa[J]&&(Ea[J]||!Pi[J]):!!(fr==="application/xhtml+xml"&&La[k.namespaceURI]):!1},$e=function(k){Ka(t.removed,{element:k});try{w(k).removeChild(k)}catch{y(k)}},mr=function(k,W){try{Ka(t.removed,{attribute:W.getAttributeNode(k),from:W})}catch{Ka(t.removed,{attribute:null,from:W})}if(W.removeAttribute(k),k==="is")if(Qe||Gr)try{$e(W)}catch{}else try{W.setAttribute(k,"")}catch{}},Qn=function(k){let W=null,J=null;if(Yr)k="<remove></remove>"+k;else{const Gt=Eh(k,/^[\r\n\t ]+/);J=Gt&&Gt[0]}fr==="application/xhtml+xml"&&dr===Ee&&(k='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+k+"</body></html>");const qt=T?T.createHTML(k):k;if(dr===Ee)try{W=new p().parseFromString(qt,fr)}catch{}if(!W||!W.documentElement){W=x.createDocument(dr,"template",null);try{W.documentElement.innerHTML=Li?S:qt}catch{}}const ie=W.body||W.documentElement;return k&&J&&ie.insertBefore(r.createTextNode(J),ie.childNodes[0]||null),dr===Ee?V.call(W,ke?"html":"body")[0]:ke?W.documentElement:ie},Da=function(k){return M.call(k.ownerDocument||k,k,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Di=function(k){return k instanceof u&&(typeof k.nodeName!="string"||typeof k.textContent!="string"||typeof k.removeChild!="function"||!(k.attributes instanceof h)||typeof k.removeAttribute!="function"||typeof k.setAttribute!="function"||typeof k.namespaceURI!="string"||typeof k.insertBefore!="function"||typeof k.hasChildNodes!="function")},Ra=function(k){return typeof s=="function"&&k instanceof s};function Fe(st,k,W){us(st,J=>{J.call(t,k,W,gr)})}const Oa=function(k){let W=null;if(Fe(P.beforeSanitizeElements,k,null),Di(k))return $e(k),!0;const J=Kt(k.nodeName);if(Fe(P.uponSanitizeElement,k,{tagName:J,allowedTags:rt}),fe&&k.hasChildNodes()&&!Ra(k.firstElementChild)&&me(/<[/\w!]/g,k.innerHTML)&&me(/<[/\w!]/g,k.textContent)||k.nodeType===en.progressingInstruction||fe&&k.nodeType===en.comment&&me(/<[/\w]/g,k.data))return $e(k),!0;if(!rt[J]||pt[J]){if(!pt[J]&&Ia(J)&&(xt.tagNameCheck instanceof RegExp&&me(xt.tagNameCheck,J)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(J)))return!1;if(Xr&&!pr[J]){const qt=w(k)||k.parentNode,ie=v(k)||k.childNodes;if(ie&&qt){const Gt=ie.length;for(let he=Gt-1;he>=0;--he){const Ie=m(ie[he],!0);Ie.__removalCount=(k.__removalCount||0)+1,qt.insertBefore(Ie,b(k))}}}return $e(k),!0}return k instanceof l&&!Pa(k)||(J==="noscript"||J==="noembed"||J==="noframes")&&me(/<\/no(script|embed|frames)/i,k.innerHTML)?($e(k),!0):(ne&&k.nodeType===en.text&&(W=k.textContent,us([U,O,E],qt=>{W=Qa(W,qt," ")}),k.textContent!==W&&(Ka(t.removed,{element:k.cloneNode()}),k.textContent=W)),Fe(P.afterSanitizeElements,k,null),!1)},Ri=function(k,W,J){if(Ma&&(W==="id"||W==="name")&&(J in r||J in $a))return!1;if(!(Rt&&!ut[W]&&me(F,W))){if(!(Nt&&me(L,W))){if(!bt[W]||ut[W]){if(!(Ia(k)&&(xt.tagNameCheck instanceof RegExp&&me(xt.tagNameCheck,k)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(k))&&(xt.attributeNameCheck instanceof RegExp&&me(xt.attributeNameCheck,W)||xt.attributeNameCheck instanceof Function&&xt.attributeNameCheck(W))||W==="is"&&xt.allowCustomizedBuiltInElements&&(xt.tagNameCheck instanceof RegExp&&me(xt.tagNameCheck,J)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(J))))return!1}else if(!Zr[W]){if(!me(et,Qa(J,$,""))){if(!((W==="src"||W==="xlink:href"||W==="href")&&k!=="script"&&bb(J,"data:")===0&&Aa[k])){if(!(Ft&&!me(D,Qa(J,$,"")))){if(J)return!1}}}}}}return!0},Ia=function(k){return k!=="annotation-xml"&&Eh(k,X)},Jn=function(k){Fe(P.beforeSanitizeAttributes,k,null);const{attributes:W}=k;if(!W||Di(k))return;const J={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:bt,forceKeepAttr:void 0};let qt=W.length;for(;qt--;){const ie=W[qt],{name:Gt,namespaceURI:he,value:Ie}=ie,Qr=Kt(Gt),Oi=Ie;let ae=Gt==="value"?Oi:vb(Oi);if(J.attrName=Qr,J.attrValue=ae,J.keepAttr=!0,J.forceKeepAttr=void 0,Fe(P.uponSanitizeAttribute,k,J),ae=J.attrValue,Ai&&(Qr==="id"||Qr==="name")&&(mr(Gt,k),ae=Yn+ae),fe&&me(/((--!?|])>)|<\/(style|title)/i,ae)){mr(Gt,k);continue}if(J.forceKeepAttr)continue;if(!J.keepAttr){mr(Gt,k);continue}if(!jt&&me(/\/>/i,ae)){mr(Gt,k);continue}ne&&us([U,O,E],es=>{ae=Qa(ae,es," ")});const Na=Kt(k.nodeName);if(!Ri(Na,Qr,ae)){mr(Gt,k);continue}if(T&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!he)switch(d.getAttributeType(Na,Qr)){case"TrustedHTML":{ae=T.createHTML(ae);break}case"TrustedScriptURL":{ae=T.createScriptURL(ae);break}}if(ae!==Oi)try{he?k.setAttributeNS(he,Gt,ae):k.setAttribute(Gt,ae),Di(k)?$e(k):Lh(t.removed)}catch{mr(Gt,k)}}Fe(P.afterSanitizeAttributes,k,null)},ts=function st(k){let W=null;const J=Da(k);for(Fe(P.beforeSanitizeShadowDOM,k,null);W=J.nextNode();)Fe(P.uponSanitizeShadowNode,W,null),Oa(W),Jn(W),W.content instanceof n&&st(W.content);Fe(P.afterSanitizeShadowDOM,k,null)};return t.sanitize=function(st){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=null,J=null,qt=null,ie=null;if(Li=!st,Li&&(st="<!-->"),typeof st!="string"&&!Ra(st))if(typeof st.toString=="function"){if(st=st.toString(),typeof st!="string")throw Ja("dirty is not a string, aborting")}else throw Ja("toString is not a function");if(!t.isSupported)return st;if(Ti||Fi(k),t.removed=[],typeof st=="string"&&(hr=!1),hr){if(st.nodeName){const Ie=Kt(st.nodeName);if(!rt[Ie]||pt[Ie])throw Ja("root node is forbidden and cannot be sanitized in-place")}}else if(st instanceof s)W=Qn("<!---->"),J=W.ownerDocument.importNode(st,!0),J.nodeType===en.element&&J.nodeName==="BODY"||J.nodeName==="HTML"?W=J:W.appendChild(J);else{if(!Qe&&!ne&&!ke&&st.indexOf("<")===-1)return T&&Mi?T.createHTML(st):st;if(W=Qn(st),!W)return Qe?null:Mi?S:""}W&&Yr&&$e(W.firstChild);const Gt=Da(hr?st:W);for(;qt=Gt.nextNode();)Oa(qt),Jn(qt),qt.content instanceof n&&ts(qt.content);if(hr)return st;if(Qe){if(Gr)for(ie=N.call(W.ownerDocument);W.firstChild;)ie.appendChild(W.firstChild);else ie=W;return(bt.shadowroot||bt.shadowrootmode)&&(ie=z.call(i,ie,!0)),ie}let he=ke?W.outerHTML:W.innerHTML;return ke&&rt["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&me(vp,W.ownerDocument.doctype.name)&&(he="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+he),ne&&us([U,O,E],Ie=>{he=Qa(he,Ie," ")}),T&&Mi?T.createHTML(he):he},t.setConfig=function(){let st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fi(st),Ti=!0},t.clearConfig=function(){gr=null,Ti=!1},t.isValidAttribute=function(st,k,W){gr||Fi({});const J=Kt(st),qt=Kt(k);return Ri(J,qt,W)},t.addHook=function(st,k){typeof k=="function"&&Ka(P[st],k)},t.removeHook=function(st,k){if(k!==void 0){const W=mb(P[st],k);return W===-1?void 0:yb(P[st],W,1)[0]}return Lh(P[st])},t.removeHooks=function(st){P[st]=[]},t.removeAllHooks=function(){P=Oh()},t}var ua=xp(),_p=Object.defineProperty,f=(e,t)=>_p(e,"name",{value:t,configurable:!0}),Pb=(e,t)=>{for(var r in t)_p(e,r,{get:t[r],enumerable:!0})},vr={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},I={trace:f((...e)=>{},"trace"),debug:f((...e)=>{},"debug"),info:f((...e)=>{},"info"),warn:f((...e)=>{},"warn"),error:f((...e)=>{},"error"),fatal:f((...e)=>{},"fatal")},vc=f(function(e="fatal"){let t=vr.fatal;typeof e=="string"?e.toLowerCase()in vr&&(t=vr[e]):typeof e=="number"&&(t=e),I.trace=()=>{},I.debug=()=>{},I.info=()=>{},I.warn=()=>{},I.error=()=>{},I.fatal=()=>{},t<=vr.fatal&&(I.fatal=console.error?console.error.bind(console,Ne("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ne("FATAL"))),t<=vr.error&&(I.error=console.error?console.error.bind(console,Ne("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ne("ERROR"))),t<=vr.warn&&(I.warn=console.warn?console.warn.bind(console,Ne("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ne("WARN"))),t<=vr.info&&(I.info=console.info?console.info.bind(console,Ne("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ne("INFO"))),t<=vr.debug&&(I.debug=console.debug?console.debug.bind(console,Ne("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ne("DEBUG"))),t<=vr.trace&&(I.trace=console.debug?console.debug.bind(console,Ne("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ne("TRACE")))},"setLogLevel"),Ne=f(e=>`%c${nb().format("ss.SSS")} : ${e} : `,"format"),wp=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,xn=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Db=/\s*%%.*\n/gm,ia,Cp=(ia=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},f(ia,"UnknownDiagramError"),ia),fi={},xc=f(function(e,t){e=e.replace(wp,"").replace(xn,"").replace(Db,`
`);for(const[r,{detector:i}]of Object.entries(fi))if(i(e,t))return r;throw new Cp(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),kl=f((...e)=>{for(const{id:t,detector:r,loader:i}of e)kp(t,r,i)},"registerLazyLoadedDiagrams"),kp=f((e,t,r)=>{fi[e]&&I.warn(`Detector with key ${e} already exists. Overwriting.`),fi[e]={detector:t,loader:r},I.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),Rb=f(e=>fi[e].loader,"getDiagramLoader"),Sl=f((e,t,{depth:r=2,clobber:i=!1}={})=>{const a={depth:r,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(n=>Sl(e,n,a)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(n=>{e.includes(n)||e.push(n)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(n=>{typeof t[n]=="object"&&(e[n]===void 0||typeof e[n]=="object")?(e[n]===void 0&&(e[n]=Array.isArray(t[n])?[]:{}),e[n]=Sl(e[n],t[n],{depth:r-1,clobber:i})):(i||typeof e[n]!="object"&&typeof t[n]!="object")&&(e[n]=t[n])}),e)},"assignWithDepth"),ce=Sl,_o="#ffffff",wo="#f2f2f2",be=f((e,t)=>t?A(e,{s:-40,l:10}):A(e,{s:-40,l:-10}),"mkBorder"),aa,Ob=(aa=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,i,a,n,o,s,l,c,h,u,p,d,g,m,y,b,v,w,T,S,x;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||A(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||A(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||be(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||be(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||be(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Y(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Y(this.tertiaryColor),this.lineColor=this.lineColor||Y(this.background),this.arrowheadColor=this.arrowheadColor||Y(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?dt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||dt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Y(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Q(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||dt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||dt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Q(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Q(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330}),this.darkMode)for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScale"+M]=dt(this["cScale"+M],75);else for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScale"+M]=dt(this["cScale"+M],25);for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScaleInv"+M]=this["cScaleInv"+M]||Y(this["cScale"+M]);for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this.darkMode?this["cScalePeer"+M]=this["cScalePeer"+M]||Q(this["cScale"+M],10):this["cScalePeer"+M]=this["cScalePeer"+M]||dt(this["cScale"+M],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScaleLabel"+M]=this["cScaleLabel"+M]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let M=0;M<5;M++)this["surface"+M]=this["surface"+M]||A(this.mainBkg,{h:180,s:-15,l:t*(5+M*3)}),this["surfacePeer"+M]=this["surfacePeer"+M]||A(this.mainBkg,{h:180,s:-15,l:t*(8+M*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||A(this.primaryColor,{h:64}),this.fillType3=this.fillType3||A(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||A(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||A(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||A(this.primaryColor,{h:128}),this.fillType7=this.fillType7||A(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||A(this.primaryColor,{l:-10}),this.pie5=this.pie5||A(this.secondaryColor,{l:-10}),this.pie6=this.pie6||A(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||A(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||A(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||A(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||A(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||A(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||A(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((a=this.radar)==null?void 0:a.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((s=this.radar)==null?void 0:s.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((c=this.radar)==null?void 0:c.graticuleOpacity)||.3,legendBoxSize:((h=this.radar)==null?void 0:h.legendBoxSize)||12,legendFontSize:((u=this.radar)==null?void 0:u.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||A(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||A(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||A(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||A(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||A(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||A(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Rn(this.quadrant1Fill)?Q(this.quadrant1Fill):dt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((p=this.xyChart)==null?void 0:p.backgroundColor)||this.background,titleColor:((d=this.xyChart)==null?void 0:d.titleColor)||this.primaryTextColor,xAxisTitleColor:((g=this.xyChart)==null?void 0:g.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((b=this.xyChart)==null?void 0:b.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((w=this.xyChart)==null?void 0:w.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((T=this.xyChart)==null?void 0:T.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((S=this.xyChart)==null?void 0:S.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((x=this.xyChart)==null?void 0:x.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?dt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||A(this.primaryColor,{h:-30}),this.git4=this.git4||A(this.primaryColor,{h:-60}),this.git5=this.git5||A(this.primaryColor,{h:-90}),this.git6=this.git6||A(this.primaryColor,{h:60}),this.git7=this.git7||A(this.primaryColor,{h:120}),this.darkMode?(this.git0=Q(this.git0,25),this.git1=Q(this.git1,25),this.git2=Q(this.git2,25),this.git3=Q(this.git3,25),this.git4=Q(this.git4,25),this.git5=Q(this.git5,25),this.git6=Q(this.git6,25),this.git7=Q(this.git7,25)):(this.git0=dt(this.git0,25),this.git1=dt(this.git1,25),this.git2=dt(this.git2,25),this.git3=dt(this.git3,25),this.git4=dt(this.git4,25),this.git5=dt(this.git5,25),this.git6=dt(this.git6,25),this.git7=dt(this.git7,25)),this.gitInv0=this.gitInv0||Y(this.git0),this.gitInv1=this.gitInv1||Y(this.git1),this.gitInv2=this.gitInv2||Y(this.git2),this.gitInv3=this.gitInv3||Y(this.git3),this.gitInv4=this.gitInv4||Y(this.git4),this.gitInv5=this.gitInv5||Y(this.git5),this.gitInv6=this.gitInv6||Y(this.git6),this.gitInv7=this.gitInv7||Y(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||_o,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||wo}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},f(aa,"Theme"),aa),Ib=f(e=>{const t=new Ob;return t.calculate(e),t},"getThemeVariables"),na,Nb=(na=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Q(this.primaryColor,16),this.tertiaryColor=A(this.primaryColor,{h:-160}),this.primaryBorderColor=Y(this.background),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=Y(this.primaryColor),this.secondaryTextColor=Y(this.secondaryColor),this.tertiaryTextColor=Y(this.tertiaryColor),this.lineColor=Y(this.background),this.textColor=Y(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Q(Y("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=vn(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=dt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=dt(this.sectionBkgColor,10),this.taskBorderColor=vn(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=vn(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Q(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||dt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,i,a,n,o,s,l,c,h,u,p,d,g,m,y,b,v,w,T,S;this.secondBkg=Q(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Q(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Q(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330});for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleInv"+x]=this["cScaleInv"+x]||Y(this["cScale"+x]);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScalePeer"+x]=this["cScalePeer"+x]||Q(this["cScale"+x],10);for(let x=0;x<5;x++)this["surface"+x]=this["surface"+x]||A(this.mainBkg,{h:30,s:-30,l:-(-10+x*4)}),this["surfacePeer"+x]=this["surfacePeer"+x]||A(this.mainBkg,{h:30,s:-30,l:-(-7+x*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleLabel"+x]=this["cScaleLabel"+x]||this.scaleLabelColor;for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["pie"+x]=this["cScale"+x];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||A(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||A(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||A(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||A(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||A(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||A(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Rn(this.quadrant1Fill)?Q(this.quadrant1Fill):dt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((n=this.xyChart)==null?void 0:n.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((p=this.radar)==null?void 0:p.axisColor)||this.lineColor,axisStrokeWidth:((d=this.radar)==null?void 0:d.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((b=this.radar)==null?void 0:b.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((w=this.radar)==null?void 0:w.graticuleOpacity)||.3,legendBoxSize:((T=this.radar)==null?void 0:T.legendBoxSize)||12,legendFontSize:((S=this.radar)==null?void 0:S.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?dt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Q(this.secondaryColor,20),this.git1=Q(this.pie2||this.secondaryColor,20),this.git2=Q(this.pie3||this.tertiaryColor,20),this.git3=Q(this.pie4||A(this.primaryColor,{h:-30}),20),this.git4=Q(this.pie5||A(this.primaryColor,{h:-60}),20),this.git5=Q(this.pie6||A(this.primaryColor,{h:-90}),10),this.git6=Q(this.pie7||A(this.primaryColor,{h:60}),10),this.git7=Q(this.pie8||A(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Y(this.git0),this.gitInv1=this.gitInv1||Y(this.git1),this.gitInv2=this.gitInv2||Y(this.git2),this.gitInv3=this.gitInv3||Y(this.git3),this.gitInv4=this.gitInv4||Y(this.git4),this.gitInv5=this.gitInv5||Y(this.git5),this.gitInv6=this.gitInv6||Y(this.git6),this.gitInv7=this.gitInv7||Y(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Y(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Y(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Q(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Q(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},f(na,"Theme"),na),qb=f(e=>{const t=new Nb;return t.calculate(e),t},"getThemeVariables"),sa,zb=(sa=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=A(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=A(this.primaryColor,{h:-160}),this.primaryBorderColor=be(this.primaryColor,this.darkMode),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=Y(this.primaryColor),this.secondaryTextColor=Y(this.secondaryColor),this.tertiaryTextColor=Y(this.tertiaryColor),this.lineColor=Y(this.background),this.textColor=Y(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=vn(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,i,a,n,o,s,l,c,h,u,p,d,g,m,y,b,v,w,T,S;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||dt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||dt(this.tertiaryColor,40);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScale"+x]=dt(this["cScale"+x],10),this["cScalePeer"+x]=this["cScalePeer"+x]||dt(this["cScale"+x],25);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleInv"+x]=this["cScaleInv"+x]||A(this["cScale"+x],{h:180});for(let x=0;x<5;x++)this["surface"+x]=this["surface"+x]||A(this.mainBkg,{h:30,l:-(5+x*5)}),this["surfacePeer"+x]=this["surfacePeer"+x]||A(this.mainBkg,{h:30,l:-(7+x*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Y(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Y(this.labelTextColor);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleLabel"+x]=this["cScaleLabel"+x]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Q(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Q(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Q(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||A(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||A(this.primaryColor,{l:-10}),this.pie5=this.pie5||A(this.secondaryColor,{l:-30}),this.pie6=this.pie6||A(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||A(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||A(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||A(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||A(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||A(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||A(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||A(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||A(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||A(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||A(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||A(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||A(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Rn(this.quadrant1Fill)?Q(this.quadrant1Fill):dt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((n=this.radar)==null?void 0:n.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((s=this.radar)==null?void 0:s.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.xyChart={backgroundColor:((u=this.xyChart)==null?void 0:u.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((d=this.xyChart)==null?void 0:d.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((b=this.xyChart)==null?void 0:b.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((w=this.xyChart)==null?void 0:w.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((T=this.xyChart)==null?void 0:T.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||A(this.primaryColor,{h:-30}),this.git4=this.git4||A(this.primaryColor,{h:-60}),this.git5=this.git5||A(this.primaryColor,{h:-90}),this.git6=this.git6||A(this.primaryColor,{h:60}),this.git7=this.git7||A(this.primaryColor,{h:120}),this.darkMode?(this.git0=Q(this.git0,25),this.git1=Q(this.git1,25),this.git2=Q(this.git2,25),this.git3=Q(this.git3,25),this.git4=Q(this.git4,25),this.git5=Q(this.git5,25),this.git6=Q(this.git6,25),this.git7=Q(this.git7,25)):(this.git0=dt(this.git0,25),this.git1=dt(this.git1,25),this.git2=dt(this.git2,25),this.git3=dt(this.git3,25),this.git4=dt(this.git4,25),this.git5=dt(this.git5,25),this.git6=dt(this.git6,25),this.git7=dt(this.git7,25)),this.gitInv0=this.gitInv0||dt(Y(this.git0),25),this.gitInv1=this.gitInv1||Y(this.git1),this.gitInv2=this.gitInv2||Y(this.git2),this.gitInv3=this.gitInv3||Y(this.git3),this.gitInv4=this.gitInv4||Y(this.git4),this.gitInv5=this.gitInv5||Y(this.git5),this.gitInv6=this.gitInv6||Y(this.git6),this.gitInv7=this.gitInv7||Y(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Y(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Y(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||_o,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||wo}calculate(t){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},f(sa,"Theme"),sa),Wb=f(e=>{const t=new zb;return t.calculate(e),t},"getThemeVariables"),oa,Hb=(oa=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Q("#cde498",10),this.primaryBorderColor=be(this.primaryColor,this.darkMode),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=Y(this.primaryColor),this.secondaryTextColor=Y(this.secondaryColor),this.tertiaryTextColor=Y(this.primaryColor),this.lineColor=Y(this.background),this.textColor=Y(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,i,a,n,o,s,l,c,h,u,p,d,g,m,y,b,v,w,T,S;this.actorBorder=dt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||dt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||dt(this.tertiaryColor,40);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScale"+x]=dt(this["cScale"+x],10),this["cScalePeer"+x]=this["cScalePeer"+x]||dt(this["cScale"+x],25);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleInv"+x]=this["cScaleInv"+x]||A(this["cScale"+x],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleLabel"+x]=this["cScaleLabel"+x]||this.scaleLabelColor;for(let x=0;x<5;x++)this["surface"+x]=this["surface"+x]||A(this.mainBkg,{h:30,s:-30,l:-(5+x*5)}),this["surfacePeer"+x]=this["surfacePeer"+x]||A(this.mainBkg,{h:30,s:-30,l:-(8+x*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Q(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Q(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||A(this.primaryColor,{l:-30}),this.pie5=this.pie5||A(this.secondaryColor,{l:-30}),this.pie6=this.pie6||A(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||A(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||A(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||A(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||A(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||A(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||A(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||A(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||A(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||A(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||A(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||A(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||A(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Rn(this.quadrant1Fill)?Q(this.quadrant1Fill):dt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((n=this.radar)==null?void 0:n.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((s=this.radar)==null?void 0:s.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((c=this.radar)==null?void 0:c.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.xyChart={backgroundColor:((u=this.xyChart)==null?void 0:u.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((d=this.xyChart)==null?void 0:d.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((g=this.xyChart)==null?void 0:g.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((m=this.xyChart)==null?void 0:m.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((y=this.xyChart)==null?void 0:y.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((b=this.xyChart)==null?void 0:b.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((w=this.xyChart)==null?void 0:w.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((T=this.xyChart)==null?void 0:T.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||A(this.primaryColor,{h:-30}),this.git4=this.git4||A(this.primaryColor,{h:-60}),this.git5=this.git5||A(this.primaryColor,{h:-90}),this.git6=this.git6||A(this.primaryColor,{h:60}),this.git7=this.git7||A(this.primaryColor,{h:120}),this.darkMode?(this.git0=Q(this.git0,25),this.git1=Q(this.git1,25),this.git2=Q(this.git2,25),this.git3=Q(this.git3,25),this.git4=Q(this.git4,25),this.git5=Q(this.git5,25),this.git6=Q(this.git6,25),this.git7=Q(this.git7,25)):(this.git0=dt(this.git0,25),this.git1=dt(this.git1,25),this.git2=dt(this.git2,25),this.git3=dt(this.git3,25),this.git4=dt(this.git4,25),this.git5=dt(this.git5,25),this.git6=dt(this.git6,25),this.git7=dt(this.git7,25)),this.gitInv0=this.gitInv0||Y(this.git0),this.gitInv1=this.gitInv1||Y(this.git1),this.gitInv2=this.gitInv2||Y(this.git2),this.gitInv3=this.gitInv3||Y(this.git3),this.gitInv4=this.gitInv4||Y(this.git4),this.gitInv5=this.gitInv5||Y(this.git5),this.gitInv6=this.gitInv6||Y(this.git6),this.gitInv7=this.gitInv7||Y(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Y(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Y(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||_o,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||wo}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},f(oa,"Theme"),oa),jb=f(e=>{const t=new Hb;return t.calculate(e),t},"getThemeVariables"),la,Vb=(la=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Q(this.contrast,55),this.background="#ffffff",this.tertiaryColor=A(this.primaryColor,{h:-160}),this.primaryBorderColor=be(this.primaryColor,this.darkMode),this.secondaryBorderColor=be(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=be(this.tertiaryColor,this.darkMode),this.primaryTextColor=Y(this.primaryColor),this.secondaryTextColor=Y(this.secondaryColor),this.tertiaryTextColor=Y(this.tertiaryColor),this.lineColor=Y(this.background),this.textColor=Y(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Q(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,i,a,n,o,s,l,c,h,u,p,d,g,m,y,b,v,w,T,S;this.secondBkg=Q(this.contrast,55),this.border2=this.contrast,this.actorBorder=Q(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleInv"+x]=this["cScaleInv"+x]||Y(this["cScale"+x]);for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this.darkMode?this["cScalePeer"+x]=this["cScalePeer"+x]||Q(this["cScale"+x],10):this["cScalePeer"+x]=this["cScalePeer"+x]||dt(this["cScale"+x],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["cScaleLabel"+x]=this["cScaleLabel"+x]||this.scaleLabelColor;for(let x=0;x<5;x++)this["surface"+x]=this["surface"+x]||A(this.mainBkg,{l:-(5+x*5)}),this["surfacePeer"+x]=this["surfacePeer"+x]||A(this.mainBkg,{l:-(8+x*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Q(this.contrast,30),this.sectionBkgColor2=Q(this.contrast,30),this.taskBorderColor=dt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Q(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=dt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128});for(let x=0;x<this.THEME_COLOR_LIMIT;x++)this["pie"+x]=this["cScale"+x];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||A(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||A(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||A(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||A(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||A(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||A(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Rn(this.quadrant1Fill)?Q(this.quadrant1Fill):dt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((n=this.xyChart)==null?void 0:n.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((u=this.xyChart)==null?void 0:u.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((p=this.radar)==null?void 0:p.axisColor)||this.lineColor,axisStrokeWidth:((d=this.radar)==null?void 0:d.axisStrokeWidth)||2,axisLabelFontSize:((g=this.radar)==null?void 0:g.axisLabelFontSize)||12,curveOpacity:((m=this.radar)==null?void 0:m.curveOpacity)||.5,curveStrokeWidth:((y=this.radar)==null?void 0:y.curveStrokeWidth)||2,graticuleColor:((b=this.radar)==null?void 0:b.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((w=this.radar)==null?void 0:w.graticuleOpacity)||.3,legendBoxSize:((T=this.radar)==null?void 0:T.legendBoxSize)||12,legendFontSize:((S=this.radar)==null?void 0:S.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=dt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||A(this.primaryColor,{h:-30}),this.git4=this.pie5||A(this.primaryColor,{h:-60}),this.git5=this.pie6||A(this.primaryColor,{h:-90}),this.git6=this.pie7||A(this.primaryColor,{h:60}),this.git7=this.pie8||A(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Y(this.git0),this.gitInv1=this.gitInv1||Y(this.git1),this.gitInv2=this.gitInv2||Y(this.git2),this.gitInv3=this.gitInv3||Y(this.git3),this.gitInv4=this.gitInv4||Y(this.git4),this.gitInv5=this.gitInv5||Y(this.git5),this.gitInv6=this.gitInv6||Y(this.git6),this.gitInv7=this.gitInv7||Y(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||_o,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||wo}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(i=>{this[i]=t[i]}),this.updateColors(),r.forEach(i=>{this[i]=t[i]})}},f(la,"Theme"),la),Ub=f(e=>{const t=new Vb;return t.calculate(e),t},"getThemeVariables"),Tr={base:{getThemeVariables:Ib},dark:{getThemeVariables:qb},default:{getThemeVariables:Wb},forest:{getThemeVariables:jb},neutral:{getThemeVariables:Ub}},tr={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Sp={...tr,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Tr.default.getThemeVariables(),sequence:{...tr.sequence,messageFont:f(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:f(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:f(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...tr.gantt,tickInterval:void 0,useWidth:void 0},c4:{...tr.c4,useWidth:void 0,personFont:f(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...tr.flowchart,inheritDir:!1},external_personFont:f(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:f(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:f(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:f(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:f(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:f(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:f(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:f(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:f(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:f(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:f(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:f(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:f(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:f(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:f(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:f(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:f(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:f(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:f(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:f(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:f(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...tr.pie,useWidth:984},xyChart:{...tr.xyChart,useWidth:void 0},requirement:{...tr.requirement,useWidth:void 0},packet:{...tr.packet},radar:{...tr.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},Tp=f((e,t="")=>Object.keys(e).reduce((r,i)=>Array.isArray(e[i])?r:typeof e[i]=="object"&&e[i]!==null?[...r,t+i,...Tp(e[i],"")]:[...r,t+i],[]),"keyify"),Yb=new Set(Tp(Sp,"")),Mp=Sp,Is=f(e=>{if(I.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Is(t));return}for(const t of Object.keys(e)){if(I.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!Yb.has(t)||e[t]==null){I.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){I.debug("sanitizing object",t),Is(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const i of r)t.includes(i)&&(I.debug("sanitizing css option",t),e[t]=Gb(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}I.debug("After sanitization",e)}},"sanitizeDirective"),Gb=f(e=>{let t=0,r=0;for(const i of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),pa=Object.freeze(Mp),Me=ce({},pa),Ap,da=[],_n=ce({},pa),Co=f((e,t)=>{let r=ce({},e),i={};for(const a of t)Ep(a),i=ce(i,a);if(r=ce(r,i),i.theme&&i.theme in Tr){const a=ce({},Ap),n=ce(a.themeVariables||{},i.themeVariables);r.theme&&r.theme in Tr&&(r.themeVariables=Tr[r.theme].getThemeVariables(n))}return _n=r,$p(_n),_n},"updateCurrentConfig"),Xb=f(e=>(Me=ce({},pa),Me=ce(Me,e),e.theme&&Tr[e.theme]&&(Me.themeVariables=Tr[e.theme].getThemeVariables(e.themeVariables)),Co(Me,da),Me),"setSiteConfig"),Zb=f(e=>{Ap=ce({},e)},"saveConfigFromInitialize"),Kb=f(e=>(Me=ce(Me,e),Co(Me,da),Me),"updateSiteConfig"),Bp=f(()=>ce({},Me),"getSiteConfig"),Lp=f(e=>($p(e),ce(_n,e),Le()),"setConfig"),Le=f(()=>ce({},_n),"getConfig"),Ep=f(e=>{e&&(["secure",...Me.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(I.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&Ep(e[t])}))},"sanitize"),Qb=f(e=>{var t;Is(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),da.push(e),Co(Me,da)},"addDirective"),Ns=f((e=Me)=>{da=[],Co(e,da)},"reset"),Jb={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Ih={},tv=f(e=>{Ih[e]||(I.warn(Jb[e]),Ih[e]=!0)},"issueWarning"),$p=f(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&tv("LAZY_LOAD_DEPRECATED")},"checkConfig"),On=/<br\s*\/?>/gi,ev=f(e=>e?Dp(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),rv=(()=>{let e=!1;return()=>{e||(Fp(),e=!0)}})();function Fp(){const e="data-temp-href-target";ua.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),ua.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}f(Fp,"setupDompurifyHooks");var Pp=f(e=>(rv(),ua.sanitize(e)),"removeScript"),Nh=f((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const i=t.securityLevel;i==="antiscript"||i==="strict"?e=Pp(e):i!=="loose"&&(e=Dp(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=sv(e))}return e},"sanitizeMore"),gi=f((e,t)=>e&&(t.dompurifyConfig?e=ua.sanitize(Nh(e,t),t.dompurifyConfig).toString():e=ua.sanitize(Nh(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),iv=f((e,t)=>typeof e=="string"?gi(e,t):e.flat().map(r=>gi(r,t)),"sanitizeTextOrArray"),av=f(e=>On.test(e),"hasBreaks"),nv=f(e=>e.split(On),"splitBreaks"),sv=f(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Dp=f(e=>e.replace(On,"#br#"),"breakToPlaceholder"),Rp=f(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),re=f(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),ov=f(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),lv=f(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),qh=f(function(e){const t=e.split(/(,)/),r=[];for(let i=0;i<t.length;i++){let a=t[i];if(a===","&&i>0&&i+1<t.length){const n=t[i-1],o=t[i+1];cv(n,o)&&(a=n+","+o,i++,r.pop())}r.push(hv(a))}return r.join("")},"parseGenericTypes"),Tl=f((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),cv=f((e,t)=>{const r=Tl(e,"~"),i=Tl(t,"~");return r===1&&i===1},"shouldCombineSets"),hv=f(e=>{const t=Tl(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const i=[...e];let a=i.indexOf("~"),n=i.lastIndexOf("~");for(;a!==-1&&n!==-1&&a!==n;)i[a]="<",i[n]=">",a=i.indexOf("~"),n=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),zh=f(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Ml=/\$\$(.*)\$\$/g,fa=f(e=>{var t;return(((t=e.match(Ml))==null?void 0:t.length)??0)>0},"hasKatex"),U3=f(async(e,t)=>{e=await _c(e,t);const r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",r);const a={width:r.clientWidth,height:r.clientHeight};return r.remove(),a},"calculateMathMLDimensions"),_c=f(async(e,t)=>{if(!fa(e))return e;if(!(zh()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Ml,"MathML is unsupported in this environment.");{const{default:r}=await Pt(async()=>{const{default:a}=await import("./ChWnQ-fc.js");return{default:a}},[],import.meta.url),i=t.forceLegacyMathML||!zh()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(On).map(a=>fa(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(Ml,(a,n)=>r.renderToString(n,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatex"),_a={getRows:ev,sanitizeText:gi,sanitizeTextOrArray:iv,hasBreaks:av,splitBreaks:nv,lineBreakRegex:On,removeScript:Pp,getUrl:Rp,evaluate:re,getMax:ov,getMin:lv},uv=f(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),pv=f(function(e,t,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),Op=f(function(e,t,r,i){const a=pv(t,r,i);uv(e,a)},"configureSvgSize"),dv=f(function(e,t,r,i){const a=t.node().getBBox(),n=a.width,o=a.height;I.info(`SVG bounds: ${n}x${o}`,a);let s=0,l=0;I.info(`Graph bounds: ${s}x${l}`,e),s=n+r*2,l=o+r*2,I.info(`Calculated bounds: ${s}x${l}`),Op(t,l,s,i);const c=`${a.x-r} ${a.y-r} ${a.width+2*r} ${a.height+2*r}`;t.attr("viewBox",c)},"setupGraphViewbox"),Ss={},fv=f((e,t,r)=>{let i="";return e in Ss&&Ss[e]?i=Ss[e](r):I.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),gv=f((e,t)=>{t!==void 0&&(Ss[e]=t)},"addStylesForDiagram"),mv=fv,Ip={};Pb(Ip,{clear:()=>yv,getAccDescription:()=>_v,getAccTitle:()=>vv,getDiagramTitle:()=>Cv,setAccDescription:()=>xv,setAccTitle:()=>bv,setDiagramTitle:()=>wv});var wc="",Cc="",kc="",Sc=f(e=>gi(e,Le()),"sanitizeText"),yv=f(()=>{wc="",kc="",Cc=""},"clear"),bv=f(e=>{wc=Sc(e).replace(/^\s+/g,"")},"setAccTitle"),vv=f(()=>wc,"getAccTitle"),xv=f(e=>{kc=Sc(e).replace(/\n\s+/g,`
`)},"setAccDescription"),_v=f(()=>kc,"getAccDescription"),wv=f(e=>{Cc=Sc(e)},"setDiagramTitle"),Cv=f(()=>Cc,"getDiagramTitle"),Wh=I,kv=vc,Lt=Le,Y3=Lp,G3=pa,ko=f(e=>gi(e,Lt()),"sanitizeText"),Sv=dv,Tv=f(()=>Ip,"getCommonDb"),qs={},zs=f((e,t,r)=>{var i;qs[e]&&Wh.warn(`Diagram with id ${e} already registered. Overwriting.`),qs[e]=t,r&&kp(e,r),gv(e,t.styles),(i=t.injectUtils)==null||i.call(t,Wh,kv,Lt,ko,Sv,Tv(),()=>{})},"registerDiagram"),Al=f(e=>{if(e in qs)return qs[e];throw new Mv(e)},"getDiagram"),ca,Mv=(ca=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},f(ca,"DiagramNotFoundError"),ca);function Tc(e){return typeof e>"u"||e===null}f(Tc,"isNothing");function Np(e){return typeof e=="object"&&e!==null}f(Np,"isObject");function qp(e){return Array.isArray(e)?e:Tc(e)?[]:[e]}f(qp,"toArray");function zp(e,t){var r,i,a,n;if(t)for(n=Object.keys(t),r=0,i=n.length;r<i;r+=1)a=n[r],e[a]=t[a];return e}f(zp,"extend");function Wp(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}f(Wp,"repeat");function Hp(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}f(Hp,"isNegativeZero");var Av=Tc,Bv=Np,Lv=qp,Ev=Wp,$v=Hp,Fv=zp,ee={isNothing:Av,isObject:Bv,toArray:Lv,repeat:Ev,isNegativeZero:$v,extend:Fv};function Mc(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}f(Mc,"formatError");function ga(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Mc(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}f(ga,"YAMLException$1");ga.prototype=Object.create(Error.prototype);ga.prototype.constructor=ga;ga.prototype.toString=f(function(t){return this.name+": "+Mc(this,t)},"toString");var Ae=ga;function Ts(e,t,r,i,a){var n="",o="",s=Math.floor(a/2)-1;return i-t>s&&(n=" ... ",t=i-s+n.length),r-i>s&&(o=" ...",r=i+s-o.length),{str:n+e.slice(t,r).replace(/\t/g,"→")+o,pos:i-t+n.length}}f(Ts,"getLine");function Ms(e,t){return ee.repeat(" ",t-e.length)+e}f(Ms,"padStart");function jp(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],a=[],n,o=-1;n=r.exec(e.buffer);)a.push(n.index),i.push(n.index+n[0].length),e.position<=n.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var s="",l,c,h=Math.min(e.line+t.linesAfter,a.length).toString().length,u=t.maxLength-(t.indent+h+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Ts(e.buffer,i[o-l],a[o-l],e.position-(i[o]-i[o-l]),u),s=ee.repeat(" ",t.indent)+Ms((e.line-l+1).toString(),h)+" | "+c.str+`
`+s;for(c=Ts(e.buffer,i[o],a[o],e.position,u),s+=ee.repeat(" ",t.indent)+Ms((e.line+1).toString(),h)+" | "+c.str+`
`,s+=ee.repeat("-",t.indent+h+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=a.length);l++)c=Ts(e.buffer,i[o+l],a[o+l],e.position-(i[o]-i[o+l]),u),s+=ee.repeat(" ",t.indent)+Ms((e.line+l+1).toString(),h)+" | "+c.str+`
`;return s.replace(/\n$/,"")}f(jp,"makeSnippet");var Pv=jp,Dv=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Rv=["scalar","sequence","mapping"];function Vp(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}f(Vp,"compileStyleAliases");function Up(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Dv.indexOf(r)===-1)throw new Ae('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Vp(t.styleAliases||null),Rv.indexOf(this.kind)===-1)throw new Ae('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}f(Up,"Type$1");var pe=Up;function Bl(e,t){var r=[];return e[t].forEach(function(i){var a=r.length;r.forEach(function(n,o){n.tag===i.tag&&n.kind===i.kind&&n.multi===i.multi&&(a=o)}),r[a]=i}),r}f(Bl,"compileList");function Yp(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(f(i,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}f(Yp,"compileMap");function Ws(e){return this.extend(e)}f(Ws,"Schema$1");Ws.prototype.extend=f(function(t){var r=[],i=[];if(t instanceof pe)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Ae("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(n){if(!(n instanceof pe))throw new Ae("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(n.loadKind&&n.loadKind!=="scalar")throw new Ae("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(n.multi)throw new Ae("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(n){if(!(n instanceof pe))throw new Ae("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Ws.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(i),a.compiledImplicit=Bl(a,"implicit"),a.compiledExplicit=Bl(a,"explicit"),a.compiledTypeMap=Yp(a.compiledImplicit,a.compiledExplicit),a},"extend");var Ov=Ws,Iv=new pe("tag:yaml.org,2002:str",{kind:"scalar",construct:f(function(e){return e!==null?e:""},"construct")}),Nv=new pe("tag:yaml.org,2002:seq",{kind:"sequence",construct:f(function(e){return e!==null?e:[]},"construct")}),qv=new pe("tag:yaml.org,2002:map",{kind:"mapping",construct:f(function(e){return e!==null?e:{}},"construct")}),zv=new Ov({explicit:[Iv,Nv,qv]});function Gp(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}f(Gp,"resolveYamlNull");function Xp(){return null}f(Xp,"constructYamlNull");function Zp(e){return e===null}f(Zp,"isNull");var Wv=new pe("tag:yaml.org,2002:null",{kind:"scalar",resolve:Gp,construct:Xp,predicate:Zp,represent:{canonical:f(function(){return"~"},"canonical"),lowercase:f(function(){return"null"},"lowercase"),uppercase:f(function(){return"NULL"},"uppercase"),camelcase:f(function(){return"Null"},"camelcase"),empty:f(function(){return""},"empty")},defaultStyle:"lowercase"});function Kp(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}f(Kp,"resolveYamlBoolean");function Qp(e){return e==="true"||e==="True"||e==="TRUE"}f(Qp,"constructYamlBoolean");function Jp(e){return Object.prototype.toString.call(e)==="[object Boolean]"}f(Jp,"isBoolean");var Hv=new pe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Kp,construct:Qp,predicate:Jp,represent:{lowercase:f(function(e){return e?"true":"false"},"lowercase"),uppercase:f(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:f(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function td(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}f(td,"isHexCode");function ed(e){return 48<=e&&e<=55}f(ed,"isOctCode");function rd(e){return 48<=e&&e<=57}f(rd,"isDecCode");function id(e){if(e===null)return!1;var t=e.length,r=0,i=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;i=!0}return i&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!td(e.charCodeAt(r)))return!1;i=!0}return i&&a!=="_"}if(a==="o"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!ed(e.charCodeAt(r)))return!1;i=!0}return i&&a!=="_"}}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(!rd(e.charCodeAt(r)))return!1;i=!0}return!(!i||a==="_")}f(id,"resolveYamlInteger");function ad(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}f(ad,"constructYamlInteger");function nd(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ee.isNegativeZero(e)}f(nd,"isInteger");var jv=new pe("tag:yaml.org,2002:int",{kind:"scalar",resolve:id,construct:ad,predicate:nd,represent:{binary:f(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:f(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:f(function(e){return e.toString(10)},"decimal"),hexadecimal:f(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Vv=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function sd(e){return!(e===null||!Vv.test(e)||e[e.length-1]==="_")}f(sd,"resolveYamlFloat");function od(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}f(od,"constructYamlFloat");var Uv=/^[-+]?[0-9]+e/;function ld(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ee.isNegativeZero(e))return"-0.0";return r=e.toString(10),Uv.test(r)?r.replace("e",".e"):r}f(ld,"representYamlFloat");function cd(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ee.isNegativeZero(e))}f(cd,"isFloat");var Yv=new pe("tag:yaml.org,2002:float",{kind:"scalar",resolve:sd,construct:od,predicate:cd,represent:ld,defaultStyle:"lowercase"}),hd=zv.extend({implicit:[Wv,Hv,jv,Yv]}),Gv=hd,ud=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),pd=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function dd(e){return e===null?!1:ud.exec(e)!==null||pd.exec(e)!==null}f(dd,"resolveYamlTimestamp");function fd(e){var t,r,i,a,n,o,s,l=0,c=null,h,u,p;if(t=ud.exec(e),t===null&&(t=pd.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,i,a));if(n=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(h=+t[10],u=+(t[11]||0),c=(h*60+u)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(r,i,a,n,o,s,l)),c&&p.setTime(p.getTime()-c),p}f(fd,"constructYamlTimestamp");function gd(e){return e.toISOString()}f(gd,"representYamlTimestamp");var Xv=new pe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:dd,construct:fd,instanceOf:Date,represent:gd});function md(e){return e==="<<"||e===null}f(md,"resolveYamlMerge");var Zv=new pe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:md}),Ac=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function yd(e){if(e===null)return!1;var t,r,i=0,a=e.length,n=Ac;for(r=0;r<a;r++)if(t=n.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}f(yd,"resolveYamlBinary");function bd(e){var t,r,i=e.replace(/[\r\n=]/g,""),a=i.length,n=Ac,o=0,s=[];for(t=0;t<a;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|n.indexOf(i.charAt(t));return r=a%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}f(bd,"constructYamlBinary");function vd(e){var t="",r=0,i,a,n=e.length,o=Ac;for(i=0;i<n;i++)i%3===0&&i&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[i];return a=n%3,a===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):a===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):a===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}f(vd,"representYamlBinary");function xd(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}f(xd,"isBinary");var Kv=new pe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:yd,construct:bd,predicate:xd,represent:vd}),Qv=Object.prototype.hasOwnProperty,Jv=Object.prototype.toString;function _d(e){if(e===null)return!0;var t=[],r,i,a,n,o,s=e;for(r=0,i=s.length;r<i;r+=1){if(a=s[r],o=!1,Jv.call(a)!=="[object Object]")return!1;for(n in a)if(Qv.call(a,n))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(n)===-1)t.push(n);else return!1}return!0}f(_d,"resolveYamlOmap");function wd(e){return e!==null?e:[]}f(wd,"constructYamlOmap");var tx=new pe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:_d,construct:wd}),ex=Object.prototype.toString;function Cd(e){if(e===null)return!0;var t,r,i,a,n,o=e;for(n=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(i=o[t],ex.call(i)!=="[object Object]"||(a=Object.keys(i),a.length!==1))return!1;n[t]=[a[0],i[a[0]]]}return!0}f(Cd,"resolveYamlPairs");function kd(e){if(e===null)return[];var t,r,i,a,n,o=e;for(n=new Array(o.length),t=0,r=o.length;t<r;t+=1)i=o[t],a=Object.keys(i),n[t]=[a[0],i[a[0]]];return n}f(kd,"constructYamlPairs");var rx=new pe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Cd,construct:kd}),ix=Object.prototype.hasOwnProperty;function Sd(e){if(e===null)return!0;var t,r=e;for(t in r)if(ix.call(r,t)&&r[t]!==null)return!1;return!0}f(Sd,"resolveYamlSet");function Td(e){return e!==null?e:{}}f(Td,"constructYamlSet");var ax=new pe("tag:yaml.org,2002:set",{kind:"mapping",resolve:Sd,construct:Td}),Md=Gv.extend({implicit:[Xv,Zv],explicit:[Kv,tx,rx,ax]}),zr=Object.prototype.hasOwnProperty,Hs=1,Ad=2,Bd=3,js=4,al=1,nx=2,Hh=3,sx=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ox=/[\x85\u2028\u2029]/,lx=/[,\[\]\{\}]/,Ld=/^(?:!|!!|![a-z\-]+!)$/i,Ed=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ll(e){return Object.prototype.toString.call(e)}f(Ll,"_class");function Xe(e){return e===10||e===13}f(Xe,"is_EOL");function qr(e){return e===9||e===32}f(qr,"is_WHITE_SPACE");function ve(e){return e===9||e===32||e===10||e===13}f(ve,"is_WS_OR_EOL");function li(e){return e===44||e===91||e===93||e===123||e===125}f(li,"is_FLOW_INDICATOR");function $d(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}f($d,"fromHexCode");function Fd(e){return e===120?2:e===117?4:e===85?8:0}f(Fd,"escapedHexLen");function Pd(e){return 48<=e&&e<=57?e-48:-1}f(Pd,"fromDecimalCode");function El(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}f(El,"simpleEscapeSequence");function Dd(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}f(Dd,"charFromCodepoint");var Rd=new Array(256),Od=new Array(256);for(ii=0;ii<256;ii++)Rd[ii]=El(ii)?1:0,Od[ii]=El(ii);var ii;function Id(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Md,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}f(Id,"State$1");function Bc(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Pv(r),new Ae(t,r)}f(Bc,"generateError");function ht(e,t){throw Bc(e,t)}f(ht,"throwError");function kn(e,t){e.onWarning&&e.onWarning.call(null,Bc(e,t))}f(kn,"throwWarning");var jh={YAML:f(function(t,r,i){var a,n,o;t.version!==null&&ht(t,"duplication of %YAML directive"),i.length!==1&&ht(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),a===null&&ht(t,"ill-formed argument of the YAML directive"),n=parseInt(a[1],10),o=parseInt(a[2],10),n!==1&&ht(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&kn(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:f(function(t,r,i){var a,n;i.length!==2&&ht(t,"TAG directive accepts exactly two arguments"),a=i[0],n=i[1],Ld.test(a)||ht(t,"ill-formed tag handle (first argument) of the TAG directive"),zr.call(t.tagMap,a)&&ht(t,'there is a previously declared suffix for "'+a+'" tag handle'),Ed.test(n)||ht(t,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch{ht(t,"tag prefix is malformed: "+n)}t.tagMap[a]=n},"handleTagDirective")};function Mr(e,t,r,i){var a,n,o,s;if(t<r){if(s=e.input.slice(t,r),i)for(a=0,n=s.length;a<n;a+=1)o=s.charCodeAt(a),o===9||32<=o&&o<=1114111||ht(e,"expected valid JSON character");else sx.test(s)&&ht(e,"the stream contains non-printable characters");e.result+=s}}f(Mr,"captureSegment");function $l(e,t,r,i){var a,n,o,s;for(ee.isObject(r)||ht(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),o=0,s=a.length;o<s;o+=1)n=a[o],zr.call(t,n)||(t[n]=r[n],i[n]=!0)}f($l,"mergeMappings");function ci(e,t,r,i,a,n,o,s,l){var c,h;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),c=0,h=a.length;c<h;c+=1)Array.isArray(a[c])&&ht(e,"nested arrays are not supported inside keys"),typeof a=="object"&&Ll(a[c])==="[object Object]"&&(a[c]="[object Object]");if(typeof a=="object"&&Ll(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(n))for(c=0,h=n.length;c<h;c+=1)$l(e,t,n[c],r);else $l(e,t,n,r);else!e.json&&!zr.call(r,a)&&zr.call(t,a)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,ht(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:n}):t[a]=n,delete r[a];return t}f(ci,"storeMappingPair");function So(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ht(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}f(So,"readLineBreak");function Zt(e,t,r){for(var i=0,a=e.input.charCodeAt(e.position);a!==0;){for(;qr(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(Xe(a))for(So(e),a=e.input.charCodeAt(e.position),i++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&kn(e,"deficient indentation"),i}f(Zt,"skipSeparationSpace");function In(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ve(r)))}f(In,"testDocumentSeparator");function To(e,t){t===1?e.result+=" ":t>1&&(e.result+=ee.repeat(`
`,t-1))}f(To,"writeFoldedLines");function Nd(e,t,r){var i,a,n,o,s,l,c,h,u=e.kind,p=e.result,d;if(d=e.input.charCodeAt(e.position),ve(d)||li(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(a=e.input.charCodeAt(e.position+1),ve(a)||r&&li(a)))return!1;for(e.kind="scalar",e.result="",n=o=e.position,s=!1;d!==0;){if(d===58){if(a=e.input.charCodeAt(e.position+1),ve(a)||r&&li(a))break}else if(d===35){if(i=e.input.charCodeAt(e.position-1),ve(i))break}else{if(e.position===e.lineStart&&In(e)||r&&li(d))break;if(Xe(d))if(l=e.line,c=e.lineStart,h=e.lineIndent,Zt(e,!1,-1),e.lineIndent>=t){s=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=h;break}}s&&(Mr(e,n,o,!1),To(e,e.line-l),n=o=e.position,s=!1),qr(d)||(o=e.position+1),d=e.input.charCodeAt(++e.position)}return Mr(e,n,o,!1),e.result?!0:(e.kind=u,e.result=p,!1)}f(Nd,"readPlainScalar");function qd(e,t){var r,i,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Mr(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,a=e.position;else return!0;else Xe(r)?(Mr(e,i,a,!0),To(e,Zt(e,!1,t)),i=a=e.position):e.position===e.lineStart&&In(e)?ht(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);ht(e,"unexpected end of the stream within a single quoted scalar")}f(qd,"readSingleQuotedScalar");function zd(e,t){var r,i,a,n,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Mr(e,r,e.position,!0),e.position++,!0;if(s===92){if(Mr(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),Xe(s))Zt(e,!1,t);else if(s<256&&Rd[s])e.result+=Od[s],e.position++;else if((o=Fd(s))>0){for(a=o,n=0;a>0;a--)s=e.input.charCodeAt(++e.position),(o=$d(s))>=0?n=(n<<4)+o:ht(e,"expected hexadecimal character");e.result+=Dd(n),e.position++}else ht(e,"unknown escape sequence");r=i=e.position}else Xe(s)?(Mr(e,r,i,!0),To(e,Zt(e,!1,t)),r=i=e.position):e.position===e.lineStart&&In(e)?ht(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}ht(e,"unexpected end of the stream within a double quoted scalar")}f(zd,"readDoubleQuotedScalar");function Wd(e,t){var r=!0,i,a,n,o=e.tag,s,l=e.anchor,c,h,u,p,d,g=Object.create(null),m,y,b,v;if(v=e.input.charCodeAt(e.position),v===91)h=93,d=!1,s=[];else if(v===123)h=125,d=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),v=e.input.charCodeAt(++e.position);v!==0;){if(Zt(e,!0,t),v=e.input.charCodeAt(e.position),v===h)return e.position++,e.tag=o,e.anchor=l,e.kind=d?"mapping":"sequence",e.result=s,!0;r?v===44&&ht(e,"expected the node content, but found ','"):ht(e,"missed comma between flow collection entries"),y=m=b=null,u=p=!1,v===63&&(c=e.input.charCodeAt(e.position+1),ve(c)&&(u=p=!0,e.position++,Zt(e,!0,t))),i=e.line,a=e.lineStart,n=e.position,mi(e,t,Hs,!1,!0),y=e.tag,m=e.result,Zt(e,!0,t),v=e.input.charCodeAt(e.position),(p||e.line===i)&&v===58&&(u=!0,v=e.input.charCodeAt(++e.position),Zt(e,!0,t),mi(e,t,Hs,!1,!0),b=e.result),d?ci(e,s,g,y,m,b,i,a,n):u?s.push(ci(e,null,g,y,m,b,i,a,n)):s.push(m),Zt(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}ht(e,"unexpected end of the stream within a flow collection")}f(Wd,"readFlowCollection");function Hd(e,t){var r,i,a=al,n=!1,o=!1,s=t,l=0,c=!1,h,u;if(u=e.input.charCodeAt(e.position),u===124)i=!1;else if(u===62)i=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)al===a?a=u===43?Hh:nx:ht(e,"repeat of a chomping mode identifier");else if((h=Pd(u))>=0)h===0?ht(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?ht(e,"repeat of an indentation width identifier"):(s=t+h-1,o=!0);else break;if(qr(u)){do u=e.input.charCodeAt(++e.position);while(qr(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!Xe(u)&&u!==0)}for(;u!==0;){for(So(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),Xe(u)){l++;continue}if(e.lineIndent<s){a===Hh?e.result+=ee.repeat(`
`,n?1+l:l):a===al&&n&&(e.result+=`
`);break}for(i?qr(u)?(c=!0,e.result+=ee.repeat(`
`,n?1+l:l)):c?(c=!1,e.result+=ee.repeat(`
`,l+1)):l===0?n&&(e.result+=" "):e.result+=ee.repeat(`
`,l):e.result+=ee.repeat(`
`,n?1+l:l),n=!0,o=!0,l=0,r=e.position;!Xe(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Mr(e,r,e.position,!1)}return!0}f(Hd,"readBlockScalar");function Fl(e,t){var r,i=e.tag,a=e.anchor,n=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=n),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ht(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!ve(o))));){if(s=!0,e.position++,Zt(e,!0,-1)&&e.lineIndent<=t){n.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,mi(e,t,Bd,!1,!0),n.push(e.result),Zt(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)ht(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=i,e.anchor=a,e.kind="sequence",e.result=n,!0):!1}f(Fl,"readBlockSequence");function jd(e,t,r){var i,a,n,o,s,l,c=e.tag,h=e.anchor,u={},p=Object.create(null),d=null,g=null,m=null,y=!1,b=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),v=e.input.charCodeAt(e.position);v!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ht(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),n=e.line,(v===63||v===58)&&ve(i))v===63?(y&&(ci(e,u,p,d,g,null,o,s,l),d=g=m=null),b=!0,y=!0,a=!0):y?(y=!1,a=!0):ht(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=i;else{if(o=e.line,s=e.lineStart,l=e.position,!mi(e,r,Ad,!1,!0))break;if(e.line===n){for(v=e.input.charCodeAt(e.position);qr(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),ve(v)||ht(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(ci(e,u,p,d,g,null,o,s,l),d=g=m=null),b=!0,y=!1,a=!1,d=e.tag,g=e.result;else if(b)ht(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=h,!0}else if(b)ht(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=h,!0}if((e.line===n||e.lineIndent>t)&&(y&&(o=e.line,s=e.lineStart,l=e.position),mi(e,t,js,!0,a)&&(y?g=e.result:m=e.result),y||(ci(e,u,p,d,g,m,o,s,l),d=g=m=null),Zt(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===n||e.lineIndent>t)&&v!==0)ht(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&ci(e,u,p,d,g,null,o,s,l),b&&(e.tag=c,e.anchor=h,e.kind="mapping",e.result=u),b}f(jd,"readBlockMapping");function Vd(e){var t,r=!1,i=!1,a,n,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&ht(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,a="!!",o=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(n=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):ht(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ve(o);)o===33&&(i?ht(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),Ld.test(a)||ht(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),lx.test(n)&&ht(e,"tag suffix cannot contain flow indicator characters")}n&&!Ed.test(n)&&ht(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch{ht(e,"tag name is malformed: "+n)}return r?e.tag=n:zr.call(e.tagMap,a)?e.tag=e.tagMap[a]+n:a==="!"?e.tag="!"+n:a==="!!"?e.tag="tag:yaml.org,2002:"+n:ht(e,'undeclared tag handle "'+a+'"'),!0}f(Vd,"readTagProperty");function Ud(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ht(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ve(r)&&!li(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ht(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}f(Ud,"readAnchorProperty");function Yd(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!ve(i)&&!li(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&ht(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),zr.call(e.anchorMap,r)||ht(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Zt(e,!0,-1),!0}f(Yd,"readAlias");function mi(e,t,r,i,a){var n,o,s,l=1,c=!1,h=!1,u,p,d,g,m,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,n=o=s=js===r||Bd===r,i&&Zt(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Vd(e)||Ud(e);)Zt(e,!0,-1)?(c=!0,s=n,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=c||a),(l===1||js===r)&&(Hs===r||Ad===r?m=t:m=t+1,y=e.position-e.lineStart,l===1?s&&(Fl(e,y)||jd(e,y,m))||Wd(e,m)?h=!0:(o&&Hd(e,m)||qd(e,m)||zd(e,m)?h=!0:Yd(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&ht(e,"alias node should not have any properties")):Nd(e,m,Hs===r)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(h=s&&Fl(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ht(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,p=e.implicitTypes.length;u<p;u+=1)if(g=e.implicitTypes[u],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(zr.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,d=e.typeMap.multi[e.kind||"fallback"],u=0,p=d.length;u<p;u+=1)if(e.tag.slice(0,d[u].tag.length)===d[u].tag){g=d[u];break}g||ht(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&ht(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ht(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}f(mi,"composeNode");function Gd(e){var t=e.position,r,i,a,n=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Zt(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(n=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!ve(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),a=[],i.length<1&&ht(e,"directive name must not be less than one character in length");o!==0;){for(;qr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Xe(o));break}if(Xe(o))break;for(r=e.position;o!==0&&!ve(o);)o=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}o!==0&&So(e),zr.call(jh,i)?jh[i](e,i,a):kn(e,'unknown document directive "'+i+'"')}if(Zt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Zt(e,!0,-1)):n&&ht(e,"directives end mark is expected"),mi(e,e.lineIndent-1,js,!1,!0),Zt(e,!0,-1),e.checkLineBreaks&&ox.test(e.input.slice(t,e.position))&&kn(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&In(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Zt(e,!0,-1));return}if(e.position<e.length-1)ht(e,"end of the stream or a document separator is expected");else return}f(Gd,"readDocument");function Lc(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Id(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,ht(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Gd(r);return r.documents}f(Lc,"loadDocuments");function cx(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=Lc(e,r);if(typeof t!="function")return i;for(var a=0,n=i.length;a<n;a+=1)t(i[a])}f(cx,"loadAll$1");function Xd(e,t){var r=Lc(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ae("expected a single document in the stream, but found more")}}f(Xd,"load$1");var hx=Xd,ux={load:hx},Zd=Object.prototype.toString,Kd=Object.prototype.hasOwnProperty,Ec=65279,px=9,Sn=10,dx=13,fx=32,gx=33,mx=34,Pl=35,yx=37,bx=38,vx=39,xx=42,Qd=44,_x=45,Vs=58,wx=61,Cx=62,kx=63,Sx=64,Jd=91,tf=93,Tx=96,ef=123,Mx=124,rf=125,de={};de[0]="\\0";de[7]="\\a";de[8]="\\b";de[9]="\\t";de[10]="\\n";de[11]="\\v";de[12]="\\f";de[13]="\\r";de[27]="\\e";de[34]='\\"';de[92]="\\\\";de[133]="\\N";de[160]="\\_";de[8232]="\\L";de[8233]="\\P";var Ax=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Bx=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function af(e,t){var r,i,a,n,o,s,l;if(t===null)return{};for(r={},i=Object.keys(t),a=0,n=i.length;a<n;a+=1)o=i[a],s=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&Kd.call(l.styleAliases,s)&&(s=l.styleAliases[s]),r[o]=s;return r}f(af,"compileStyleMap");function nf(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Ae("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ee.repeat("0",i-t.length)+t}f(nf,"encodeHex");var Lx=1,Tn=2;function sf(e){this.schema=e.schema||Md,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ee.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=af(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Tn:Lx,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}f(sf,"State");function Dl(e,t){for(var r=ee.repeat(" ",t),i=0,a=-1,n="",o,s=e.length;i<s;)a=e.indexOf(`
`,i),a===-1?(o=e.slice(i),i=s):(o=e.slice(i,a+1),i=a+1),o.length&&o!==`
`&&(n+=r),n+=o;return n}f(Dl,"indentString");function Us(e,t){return`
`+ee.repeat(" ",e.indent*t)}f(Us,"generateNextLine");function of(e,t){var r,i,a;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}f(of,"testImplicitResolving");function Mn(e){return e===fx||e===px}f(Mn,"isWhitespace");function ma(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Ec||65536<=e&&e<=1114111}f(ma,"isPrintable");function Rl(e){return ma(e)&&e!==Ec&&e!==dx&&e!==Sn}f(Rl,"isNsCharOrWhitespace");function Ol(e,t,r){var i=Rl(e),a=i&&!Mn(e);return(r?i:i&&e!==Qd&&e!==Jd&&e!==tf&&e!==ef&&e!==rf)&&e!==Pl&&!(t===Vs&&!a)||Rl(t)&&!Mn(t)&&e===Pl||t===Vs&&a}f(Ol,"isPlainSafe");function lf(e){return ma(e)&&e!==Ec&&!Mn(e)&&e!==_x&&e!==kx&&e!==Vs&&e!==Qd&&e!==Jd&&e!==tf&&e!==ef&&e!==rf&&e!==Pl&&e!==bx&&e!==xx&&e!==gx&&e!==Mx&&e!==wx&&e!==Cx&&e!==vx&&e!==mx&&e!==yx&&e!==Sx&&e!==Tx}f(lf,"isPlainSafeFirst");function cf(e){return!Mn(e)&&e!==Vs}f(cf,"isPlainSafeLast");function Ji(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}f(Ji,"codePointAt");function $c(e){var t=/^\n* /;return t.test(e)}f($c,"needIndentIndicator");var hf=1,Il=2,uf=3,pf=4,Ki=5;function df(e,t,r,i,a,n,o,s){var l,c=0,h=null,u=!1,p=!1,d=i!==-1,g=-1,m=lf(Ji(e,0))&&cf(Ji(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Ji(e,l),!ma(c))return Ki;m=m&&Ol(c,h,s),h=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Ji(e,l),c===Sn)u=!0,d&&(p=p||l-g-1>i&&e[g+1]!==" ",g=l);else if(!ma(c))return Ki;m=m&&Ol(c,h,s),h=c}p=p||d&&l-g-1>i&&e[g+1]!==" "}return!u&&!p?m&&!o&&!a(e)?hf:n===Tn?Ki:Il:r>9&&$c(e)?Ki:o?n===Tn?Ki:Il:p?pf:uf}f(df,"chooseScalarStyle");function ff(e,t,r,i,a){e.dump=function(){if(t.length===0)return e.quotingType===Tn?'""':"''";if(!e.noCompatMode&&(Ax.indexOf(t)!==-1||Bx.test(t)))return e.quotingType===Tn?'"'+t+'"':"'"+t+"'";var n=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-n),s=i||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return of(e,c)}switch(f(l,"testAmbiguity"),df(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!i,a)){case hf:return t;case Il:return"'"+t.replace(/'/g,"''")+"'";case uf:return"|"+Nl(t,e.indent)+ql(Dl(t,n));case pf:return">"+Nl(t,e.indent)+ql(Dl(gf(t,o),n));case Ki:return'"'+mf(t)+'"';default:throw new Ae("impossible error: invalid scalar style")}}()}f(ff,"writeScalar");function Nl(e,t){var r=$c(e)?String(t):"",i=e[e.length-1]===`
`,a=i&&(e[e.length-2]===`
`||e===`
`),n=a?"+":i?"":"-";return r+n+`
`}f(Nl,"blockHeader");function ql(e){return e[e.length-1]===`
`?e.slice(0,-1):e}f(ql,"dropEndingNewline");function gf(e,t){for(var r=/(\n+)([^\n]*)/g,i=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,zl(e.slice(0,c),t)}(),a=e[0]===`
`||e[0]===" ",n,o;o=r.exec(e);){var s=o[1],l=o[2];n=l[0]===" ",i+=s+(!a&&!n&&l!==""?`
`:"")+zl(l,t),a=n}return i}f(gf,"foldString");function zl(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,a=0,n,o=0,s=0,l="";i=r.exec(e);)s=i.index,s-a>t&&(n=o>a?o:s,l+=`
`+e.slice(a,n),a=n+1),o=s;return l+=`
`,e.length-a>t&&o>a?l+=e.slice(a,o)+`
`+e.slice(o+1):l+=e.slice(a),l.slice(1)}f(zl,"foldLine");function mf(e){for(var t="",r=0,i,a=0;a<e.length;r>=65536?a+=2:a++)r=Ji(e,a),i=de[r],!i&&ma(r)?(t+=e[a],r>=65536&&(t+=e[a+1])):t+=i||nf(r);return t}f(mf,"escapeString");function yf(e,t,r){var i="",a=e.tag,n,o,s;for(n=0,o=r.length;n<o;n+=1)s=r[n],e.replacer&&(s=e.replacer.call(r,String(n),s)),(or(e,t,s,!1,!1)||typeof s>"u"&&or(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=a,e.dump="["+i+"]"}f(yf,"writeFlowSequence");function Wl(e,t,r,i){var a="",n=e.tag,o,s,l;for(o=0,s=r.length;o<s;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(or(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&or(e,t+1,null,!0,!0,!1,!0))&&((!i||a!=="")&&(a+=Us(e,t)),e.dump&&Sn===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=n,e.dump=a||"[]"}f(Wl,"writeBlockSequence");function bf(e,t,r){var i="",a=e.tag,n=Object.keys(r),o,s,l,c,h;for(o=0,s=n.length;o<s;o+=1)h="",i!==""&&(h+=", "),e.condenseFlow&&(h+='"'),l=n[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),or(e,t,l,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),or(e,t,c,!1,!1)&&(h+=e.dump,i+=h));e.tag=a,e.dump="{"+i+"}"}f(bf,"writeFlowMapping");function vf(e,t,r,i){var a="",n=e.tag,o=Object.keys(r),s,l,c,h,u,p;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Ae("sortKeys must be a boolean or a function");for(s=0,l=o.length;s<l;s+=1)p="",(!i||a!=="")&&(p+=Us(e,t)),c=o[s],h=r[c],e.replacer&&(h=e.replacer.call(r,c,h)),or(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&Sn===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,u&&(p+=Us(e,t)),or(e,t+1,h,!0,u)&&(e.dump&&Sn===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,a+=p));e.tag=n,e.dump=a||"{}"}f(vf,"writeBlockMapping");function Hl(e,t,r){var i,a,n,o,s,l;for(a=r?e.explicitTypes:e.implicitTypes,n=0,o=a.length;n<o;n+=1)if(s=a[n],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,Zd.call(s.represent)==="[object Function]")i=s.represent(t,l);else if(Kd.call(s.represent,l))i=s.represent[l](t,l);else throw new Ae("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');e.dump=i}return!0}return!1}f(Hl,"detectType");function or(e,t,r,i,a,n,o){e.tag=null,e.dump=r,Hl(e,r,!1)||Hl(e,r,!0);var s=Zd.call(e.dump),l=i,c;i&&(i=e.flowLevel<0||e.flowLevel>t);var h=s==="[object Object]"||s==="[object Array]",u,p;if(h&&(u=e.duplicates.indexOf(r),p=u!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(a=!1),p&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&p&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),s==="[object Object]")i&&Object.keys(e.dump).length!==0?(vf(e,t,e.dump,a),p&&(e.dump="&ref_"+u+e.dump)):(bf(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if(s==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Wl(e,t-1,e.dump,a):Wl(e,t,e.dump,a),p&&(e.dump="&ref_"+u+e.dump)):(yf(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&ff(e,e.dump,t,n,l);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ae("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}f(or,"writeNode");function xf(e,t){var r=[],i=[],a,n;for(Ys(e,r,i),a=0,n=i.length;a<n;a+=1)t.duplicates.push(r[i[a]]);t.usedDuplicates=new Array(n)}f(xf,"getDuplicateReferences");function Ys(e,t,r){var i,a,n;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,n=e.length;a<n;a+=1)Ys(e[a],t,r);else for(i=Object.keys(e),a=0,n=i.length;a<n;a+=1)Ys(e[i[a]],t,r)}f(Ys,"inspectNode");function Ex(e,t){t=t||{};var r=new sf(t);r.noRefs||xf(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),or(r,0,i,!0,!0)?r.dump+`
`:""}f(Ex,"dump$1");function $x(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}f($x,"renamed");var Fx=hd,Px=ux.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var qe={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function pn(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Vt(e),t=Vt(t);const[r,i]=[e.x,e.y],[a,n]=[t.x,t.y],o=a-r,s=n-i;return{angle:Math.atan(s/o),deltaX:o,deltaY:s}}f(pn,"calculateDeltaAndAngle");var Vt=f(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),Dx=f(e=>({x:f(function(t,r,i){let a=0;const n=Vt(i[0]).x<Vt(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(qe,e.arrowTypeStart)){const{angle:d,deltaX:g}=pn(i[0],i[1]);a=qe[e.arrowTypeStart]*Math.cos(d)*(g>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(qe,e.arrowTypeEnd)){const{angle:d,deltaX:g}=pn(i[i.length-1],i[i.length-2]);a=qe[e.arrowTypeEnd]*Math.cos(d)*(g>=0?1:-1)}const o=Math.abs(Vt(t).x-Vt(i[i.length-1]).x),s=Math.abs(Vt(t).y-Vt(i[i.length-1]).y),l=Math.abs(Vt(t).x-Vt(i[0]).x),c=Math.abs(Vt(t).y-Vt(i[0]).y),h=qe[e.arrowTypeStart],u=qe[e.arrowTypeEnd],p=1;if(o<u&&o>0&&s<u){let d=u+p-o;d*=n==="right"?-1:1,a-=d}if(l<h&&l>0&&c<h){let d=h+p-l;d*=n==="right"?-1:1,a+=d}return Vt(t).x+a},"x"),y:f(function(t,r,i){let a=0;const n=Vt(i[0]).y<Vt(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(qe,e.arrowTypeStart)){const{angle:d,deltaY:g}=pn(i[0],i[1]);a=qe[e.arrowTypeStart]*Math.abs(Math.sin(d))*(g>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(qe,e.arrowTypeEnd)){const{angle:d,deltaY:g}=pn(i[i.length-1],i[i.length-2]);a=qe[e.arrowTypeEnd]*Math.abs(Math.sin(d))*(g>=0?1:-1)}const o=Math.abs(Vt(t).y-Vt(i[i.length-1]).y),s=Math.abs(Vt(t).x-Vt(i[i.length-1]).x),l=Math.abs(Vt(t).y-Vt(i[0]).y),c=Math.abs(Vt(t).x-Vt(i[0]).x),h=qe[e.arrowTypeStart],u=qe[e.arrowTypeEnd],p=1;if(o<u&&o>0&&s<u){let d=u+p-o;d*=n==="up"?-1:1,a-=d}if(l<h&&l>0&&c<h){let d=h+p-l;d*=n==="up"?-1:1,a+=d}return Vt(t).y+a},"y")}),"getLineFunctionsWithOffset"),Fc=f(({flowchart:e})=>{var a,n;const t=((a=e==null?void 0:e.subGraphTitleMargin)==null?void 0:a.top)??0,r=((n=e==null?void 0:e.subGraphTitleMargin)==null?void 0:n.bottom)??0,i=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),Rx=f(e=>{const{handDrawnSeed:t}=Lt();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),wa=f(e=>{const t=Ox([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),Ox=f(e=>{const t=new Map;return e.forEach(r=>{const[i,a]=r.split(":");t.set(i.trim(),a==null?void 0:a.trim())}),t},"styles2Map"),_f=f(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),lt=f(e=>{const{stylesArray:t}=wa(e),r=[],i=[],a=[],n=[];return t.forEach(o=>{const s=o[0];_f(s)?r.push(o.join(":")+" !important"):(i.push(o.join(":")+" !important"),s.includes("stroke")&&a.push(o.join(":")+" !important"),s==="fill"&&n.push(o.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:n}},"styles2String"),nt=f((e,t)=>{var l;const{themeVariables:r,handDrawnSeed:i}=Lt(),{nodeBorder:a,mainBkg:n}=r,{stylesMap:o}=wa(e);return Object.assign({roughness:.7,fill:o.get("fill")||n,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||a,seed:i,strokeWidth:((l=o.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides"),rn={},te={},Vh;function Ix(){return Vh||(Vh=1,Object.defineProperty(te,"__esModule",{value:!0}),te.BLANK_URL=te.relativeFirstCharacters=te.whitespaceEscapeCharsRegex=te.urlSchemeRegex=te.ctrlCharactersRegex=te.htmlCtrlEntityRegex=te.htmlEntitiesRegex=te.invalidProtocolRegex=void 0,te.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,te.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,te.htmlCtrlEntityRegex=/&(newline|tab);/gi,te.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te.urlSchemeRegex=/^.+(:|&colon;)/gim,te.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,te.relativeFirstCharacters=[".","/"],te.BLANK_URL="about:blank"),te}var Uh;function Nx(){if(Uh)return rn;Uh=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.sanitizeUrl=void 0;var e=Ix();function t(o){return e.relativeFirstCharacters.indexOf(o[0])>-1}function r(o){var s=o.replace(e.ctrlCharactersRegex,"");return s.replace(e.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function i(o){return URL.canParse(o)}function a(o){try{return decodeURIComponent(o)}catch{return o}}function n(o){if(!o)return e.BLANK_URL;var s,l=a(o.trim());do l=r(l).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),l=a(l),s=l.match(e.ctrlCharactersRegex)||l.match(e.htmlEntitiesRegex)||l.match(e.htmlCtrlEntityRegex)||l.match(e.whitespaceEscapeCharsRegex);while(s&&s.length>0);var c=l;if(!c)return e.BLANK_URL;if(t(c))return c;var h=c.trimStart(),u=h.match(e.urlSchemeRegex);if(!u)return c;var p=u[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(p))return e.BLANK_URL;var d=h.replace(/\\/g,"/");if(p==="mailto:"||p.includes("://"))return d;if(p==="http:"||p==="https:"){if(!i(d))return e.BLANK_URL;var g=new URL(d);return g.protocol=g.protocol.toLowerCase(),g.hostname=g.hostname.toLowerCase(),g.toString()}return d}return rn.sanitizeUrl=n,rn}var qx=Nx(),zx={value:()=>{}};function wf(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new As(r)}function As(e){this._=e}function Wx(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",a=r.indexOf(".");if(a>=0&&(i=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}As.prototype=wf.prototype={constructor:As,on:function(e,t){var r=this._,i=Wx(e+"",r),a,n=-1,o=i.length;if(arguments.length<2){for(;++n<o;)if((a=(e=i[n]).type)&&(a=Hx(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++n<o;)if(a=(e=i[n]).type)r[a]=Yh(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Yh(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new As(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),i=0,a,n;i<a;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,n=i.length;a<n;++a)i[a].value.apply(t,r)}};function Hx(e,t){for(var r=0,i=e.length,a;r<i;++r)if((a=e[r]).name===t)return a.value}function Yh(e,t,r){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=zx,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}var jl="http://www.w3.org/1999/xhtml";const Gh={svg:"http://www.w3.org/2000/svg",xhtml:jl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mo(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Gh.hasOwnProperty(t)?{space:Gh[t],local:e}:e}function jx(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===jl&&t.documentElement.namespaceURI===jl?t.createElement(e):t.createElementNS(r,e)}}function Vx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Cf(e){var t=Mo(e);return(t.local?Vx:jx)(t)}function Ux(){}function Pc(e){return e==null?Ux:function(){return this.querySelector(e)}}function Yx(e){typeof e!="function"&&(e=Pc(e));for(var t=this._groups,r=t.length,i=new Array(r),a=0;a<r;++a)for(var n=t[a],o=n.length,s=i[a]=new Array(o),l,c,h=0;h<o;++h)(l=n[h])&&(c=e.call(l,l.__data__,h,n))&&("__data__"in l&&(c.__data__=l.__data__),s[h]=c);return new Oe(i,this._parents)}function Gx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Xx(){return[]}function kf(e){return e==null?Xx:function(){return this.querySelectorAll(e)}}function Zx(e){return function(){return Gx(e.apply(this,arguments))}}function Kx(e){typeof e=="function"?e=Zx(e):e=kf(e);for(var t=this._groups,r=t.length,i=[],a=[],n=0;n<r;++n)for(var o=t[n],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),a.push(l));return new Oe(i,a)}function Sf(e){return function(){return this.matches(e)}}function Tf(e){return function(t){return t.matches(e)}}var Qx=Array.prototype.find;function Jx(e){return function(){return Qx.call(this.children,e)}}function t1(){return this.firstElementChild}function e1(e){return this.select(e==null?t1:Jx(typeof e=="function"?e:Tf(e)))}var r1=Array.prototype.filter;function i1(){return Array.from(this.children)}function a1(e){return function(){return r1.call(this.children,e)}}function n1(e){return this.selectAll(e==null?i1:a1(typeof e=="function"?e:Tf(e)))}function s1(e){typeof e!="function"&&(e=Sf(e));for(var t=this._groups,r=t.length,i=new Array(r),a=0;a<r;++a)for(var n=t[a],o=n.length,s=i[a]=[],l,c=0;c<o;++c)(l=n[c])&&e.call(l,l.__data__,c,n)&&s.push(l);return new Oe(i,this._parents)}function Mf(e){return new Array(e.length)}function o1(){return new Oe(this._enter||this._groups.map(Mf),this._parents)}function Gs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gs.prototype={constructor:Gs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function l1(e){return function(){return e}}function c1(e,t,r,i,a,n){for(var o=0,s,l=t.length,c=n.length;o<c;++o)(s=t[o])?(s.__data__=n[o],i[o]=s):r[o]=new Gs(e,n[o]);for(;o<l;++o)(s=t[o])&&(a[o]=s)}function h1(e,t,r,i,a,n,o){var s,l,c=new Map,h=t.length,u=n.length,p=new Array(h),d;for(s=0;s<h;++s)(l=t[s])&&(p[s]=d=o.call(l,l.__data__,s,t)+"",c.has(d)?a[s]=l:c.set(d,l));for(s=0;s<u;++s)d=o.call(e,n[s],s,n)+"",(l=c.get(d))?(i[s]=l,l.__data__=n[s],c.delete(d)):r[s]=new Gs(e,n[s]);for(s=0;s<h;++s)(l=t[s])&&c.get(p[s])===l&&(a[s]=l)}function u1(e){return e.__data__}function p1(e,t){if(!arguments.length)return Array.from(this,u1);var r=t?h1:c1,i=this._parents,a=this._groups;typeof e!="function"&&(e=l1(e));for(var n=a.length,o=new Array(n),s=new Array(n),l=new Array(n),c=0;c<n;++c){var h=i[c],u=a[c],p=u.length,d=d1(e.call(h,h&&h.__data__,c,i)),g=d.length,m=s[c]=new Array(g),y=o[c]=new Array(g),b=l[c]=new Array(p);r(h,u,m,y,b,d,t);for(var v=0,w=0,T,S;v<g;++v)if(T=m[v]){for(v>=w&&(w=v+1);!(S=y[w])&&++w<g;);T._next=S||null}}return o=new Oe(o,i),o._enter=s,o._exit=l,o}function d1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f1(){return new Oe(this._exit||this._groups.map(Mf),this._parents)}function g1(e,t,r){var i=this.enter(),a=this,n=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?n.remove():r(n),i&&a?i.merge(a).order():a}function m1(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,a=r.length,n=i.length,o=Math.min(a,n),s=new Array(a),l=0;l<o;++l)for(var c=r[l],h=i[l],u=c.length,p=s[l]=new Array(u),d,g=0;g<u;++g)(d=c[g]||h[g])&&(p[g]=d);for(;l<a;++l)s[l]=r[l];return new Oe(s,this._parents)}function y1(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],a=i.length-1,n=i[a],o;--a>=0;)(o=i[a])&&(n&&o.compareDocumentPosition(n)^4&&n.parentNode.insertBefore(o,n),n=o);return this}function b1(e){e||(e=v1);function t(u,p){return u&&p?e(u.__data__,p.__data__):!u-!p}for(var r=this._groups,i=r.length,a=new Array(i),n=0;n<i;++n){for(var o=r[n],s=o.length,l=a[n]=new Array(s),c,h=0;h<s;++h)(c=o[h])&&(l[h]=c);l.sort(t)}return new Oe(a,this._parents).order()}function v1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function x1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _1(){return Array.from(this)}function w1(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],a=0,n=i.length;a<n;++a){var o=i[a];if(o)return o}return null}function C1(){let e=0;for(const t of this)++e;return e}function k1(){return!this.node()}function S1(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var a=t[r],n=0,o=a.length,s;n<o;++n)(s=a[n])&&e.call(s,s.__data__,n,a);return this}function T1(e){return function(){this.removeAttribute(e)}}function M1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A1(e,t){return function(){this.setAttribute(e,t)}}function B1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function L1(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function E1(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function $1(e,t){var r=Mo(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?M1:T1:typeof t=="function"?r.local?E1:L1:r.local?B1:A1)(r,t))}function Af(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function F1(e){return function(){this.style.removeProperty(e)}}function P1(e,t,r){return function(){this.style.setProperty(e,t,r)}}function D1(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function R1(e,t,r){return arguments.length>1?this.each((t==null?F1:typeof t=="function"?D1:P1)(e,t,r??"")):ya(this.node(),e)}function ya(e,t){return e.style.getPropertyValue(t)||Af(e).getComputedStyle(e,null).getPropertyValue(t)}function O1(e){return function(){delete this[e]}}function I1(e,t){return function(){this[e]=t}}function N1(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function q1(e,t){return arguments.length>1?this.each((t==null?O1:typeof t=="function"?N1:I1)(e,t)):this.node()[e]}function Bf(e){return e.trim().split(/^|\s+/)}function Dc(e){return e.classList||new Lf(e)}function Lf(e){this._node=e,this._names=Bf(e.getAttribute("class")||"")}Lf.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ef(e,t){for(var r=Dc(e),i=-1,a=t.length;++i<a;)r.add(t[i])}function $f(e,t){for(var r=Dc(e),i=-1,a=t.length;++i<a;)r.remove(t[i])}function z1(e){return function(){Ef(this,e)}}function W1(e){return function(){$f(this,e)}}function H1(e,t){return function(){(t.apply(this,arguments)?Ef:$f)(this,e)}}function j1(e,t){var r=Bf(e+"");if(arguments.length<2){for(var i=Dc(this.node()),a=-1,n=r.length;++a<n;)if(!i.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?H1:t?z1:W1)(r,t))}function V1(){this.textContent=""}function U1(e){return function(){this.textContent=e}}function Y1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function G1(e){return arguments.length?this.each(e==null?V1:(typeof e=="function"?Y1:U1)(e)):this.node().textContent}function X1(){this.innerHTML=""}function Z1(e){return function(){this.innerHTML=e}}function K1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Q1(e){return arguments.length?this.each(e==null?X1:(typeof e=="function"?K1:Z1)(e)):this.node().innerHTML}function J1(){this.nextSibling&&this.parentNode.appendChild(this)}function t_(){return this.each(J1)}function e_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r_(){return this.each(e_)}function i_(e){var t=typeof e=="function"?e:Cf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function a_(){return null}function n_(e,t){var r=typeof e=="function"?e:Cf(e),i=t==null?a_:typeof t=="function"?t:Pc(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function s_(){var e=this.parentNode;e&&e.removeChild(this)}function o_(){return this.each(s_)}function l_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function c_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function h_(e){return this.select(e?c_:l_)}function u_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function p_(e){return function(t){e.call(this,t,this.__data__)}}function d_(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function f_(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,a=t.length,n;r<a;++r)n=t[r],(!e.type||n.type===e.type)&&n.name===e.name?this.removeEventListener(n.type,n.listener,n.options):t[++i]=n;++i?t.length=i:delete this.__on}}}function g_(e,t,r){return function(){var i=this.__on,a,n=p_(t);if(i){for(var o=0,s=i.length;o<s;++o)if((a=i[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=n,a.options=r),a.value=t;return}}this.addEventListener(e.type,n,r),a={type:e.type,name:e.name,value:t,listener:n,options:r},i?i.push(a):this.__on=[a]}}function m_(e,t,r){var i=d_(e+""),a,n=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,h;l<c;++l)for(a=0,h=s[l];a<n;++a)if((o=i[a]).type===h.type&&o.name===h.name)return h.value}return}for(s=t?g_:f_,a=0;a<n;++a)this.each(s(i[a],t,r));return this}function Ff(e,t,r){var i=Af(e),a=i.CustomEvent;typeof a=="function"?a=new a(t,r):(a=i.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function y_(e,t){return function(){return Ff(this,e,t)}}function b_(e,t){return function(){return Ff(this,e,t.apply(this,arguments))}}function v_(e,t){return this.each((typeof t=="function"?b_:y_)(e,t))}function*x_(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],a=0,n=i.length,o;a<n;++a)(o=i[a])&&(yield o)}var Pf=[null];function Oe(e,t){this._groups=e,this._parents=t}function Nn(){return new Oe([[document.documentElement]],Pf)}function __(){return this}Oe.prototype=Nn.prototype={constructor:Oe,select:Yx,selectAll:Kx,selectChild:e1,selectChildren:n1,filter:s1,data:p1,enter:o1,exit:f1,join:g1,merge:m1,selection:__,order:y1,sort:b1,call:x1,nodes:_1,node:w1,size:C1,empty:k1,each:S1,attr:$1,style:R1,property:q1,classed:j1,text:G1,html:Q1,raise:t_,lower:r_,append:i_,insert:n_,remove:o_,clone:h_,datum:u_,on:m_,dispatch:v_,[Symbol.iterator]:x_};function Tt(e){return typeof e=="string"?new Oe([[document.querySelector(e)]],[document.documentElement]):new Oe([[e]],Pf)}function Rc(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Df(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function qn(){}var An=.7,Xs=1/An,ea="\\s*([+-]?\\d+)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w_=/^#([0-9a-f]{3,8})$/,C_=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),k_=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),S_=new RegExp(`^rgba\\(${ea},${ea},${ea},${Bn}\\)$`),T_=new RegExp(`^rgba\\(${nr},${nr},${nr},${Bn}\\)$`),M_=new RegExp(`^hsl\\(${Bn},${nr},${nr}\\)$`),A_=new RegExp(`^hsla\\(${Bn},${nr},${nr},${Bn}\\)$`),Xh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rc(qn,Ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zh,formatHex:Zh,formatHex8:B_,formatHsl:L_,formatRgb:Kh,toString:Kh});function Zh(){return this.rgb().formatHex()}function B_(){return this.rgb().formatHex8()}function L_(){return Rf(this).formatHsl()}function Kh(){return this.rgb().formatRgb()}function Ln(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=w_.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Qh(t):r===3?new Be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ds(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ds(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=C_.exec(e))?new Be(t[1],t[2],t[3],1):(t=k_.exec(e))?new Be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S_.exec(e))?ds(t[1],t[2],t[3],t[4]):(t=T_.exec(e))?ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=M_.exec(e))?eu(t[1],t[2]/100,t[3]/100,1):(t=A_.exec(e))?eu(t[1],t[2]/100,t[3]/100,t[4]):Xh.hasOwnProperty(e)?Qh(Xh[e]):e==="transparent"?new Be(NaN,NaN,NaN,0):null}function Qh(e){return new Be(e>>16&255,e>>8&255,e&255,1)}function ds(e,t,r,i){return i<=0&&(e=t=r=NaN),new Be(e,t,r,i)}function E_(e){return e instanceof qn||(e=Ln(e)),e?(e=e.rgb(),new Be(e.r,e.g,e.b,e.opacity)):new Be}function Vl(e,t,r,i){return arguments.length===1?E_(e):new Be(e,t,r,i??1)}function Be(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}Rc(Be,Vl,Df(qn,{brighter(e){return e=e==null?Xs:Math.pow(Xs,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?An:Math.pow(An,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Be(pi(this.r),pi(this.g),pi(this.b),Zs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jh,formatHex:Jh,formatHex8:$_,formatRgb:tu,toString:tu}));function Jh(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}`}function $_(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}${hi((isNaN(this.opacity)?1:this.opacity)*255)}`}function tu(){const e=Zs(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Zs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hi(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function eu(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ge(e,t,r,i)}function Rf(e){if(e instanceof Ge)return new Ge(e.h,e.s,e.l,e.opacity);if(e instanceof qn||(e=Ln(e)),!e)return new Ge;if(e instanceof Ge)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,a=Math.min(t,r,i),n=Math.max(t,r,i),o=NaN,s=n-a,l=(n+a)/2;return s?(t===n?o=(r-i)/s+(r<i)*6:r===n?o=(i-t)/s+2:o=(t-r)/s+4,s/=l<.5?n+a:2-n-a,o*=60):s=l>0&&l<1?0:o,new Ge(o,s,l,e.opacity)}function F_(e,t,r,i){return arguments.length===1?Rf(e):new Ge(e,t,r,i??1)}function Ge(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}Rc(Ge,F_,Df(qn,{brighter(e){return e=e==null?Xs:Math.pow(Xs,e),new Ge(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?An:Math.pow(An,e),new Ge(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,a=2*r-i;return new Be(nl(e>=240?e-240:e+120,a,i),nl(e,a,i),nl(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new Ge(ru(this.h),fs(this.s),fs(this.l),Zs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zs(this.opacity);return`${e===1?"hsl(":"hsla("}${ru(this.h)}, ${fs(this.s)*100}%, ${fs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ru(e){return e=(e||0)%360,e<0?e+360:e}function fs(e){return Math.max(0,Math.min(1,e||0))}function nl(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Oc=e=>()=>e;function Of(e,t){return function(r){return e+r*t}}function P_(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function X3(e,t){var r=t-e;return r?Of(e,r>180||r<-180?r-360*Math.round(r/360):r):Oc(isNaN(e)?t:e)}function D_(e){return(e=+e)==1?If:function(t,r){return r-t?P_(t,r,e):Oc(isNaN(t)?r:t)}}function If(e,t){var r=t-e;return r?Of(e,r):Oc(isNaN(e)?t:e)}const iu=function e(t){var r=D_(t);function i(a,n){var o=r((a=Vl(a)).r,(n=Vl(n)).r),s=r(a.g,n.g),l=r(a.b,n.b),c=If(a.opacity,n.opacity);return function(h){return a.r=o(h),a.g=s(h),a.b=l(h),a.opacity=c(h),a+""}}return i.gamma=e,i}(1);function Ir(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(Ul.source,"g");function R_(e){return function(){return e}}function O_(e){return function(t){return e(t)+""}}function I_(e,t){var r=Ul.lastIndex=sl.lastIndex=0,i,a,n,o=-1,s=[],l=[];for(e=e+"",t=t+"";(i=Ul.exec(e))&&(a=sl.exec(t));)(n=a.index)>r&&(n=t.slice(r,n),s[o]?s[o]+=n:s[++o]=n),(i=i[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Ir(i,a)})),r=sl.lastIndex;return r<t.length&&(n=t.slice(r),s[o]?s[o]+=n:s[++o]=n),s.length<2?l[0]?O_(l[0].x):R_(t):(t=l.length,function(c){for(var h=0,u;h<t;++h)s[(u=l[h]).i]=u.x(c);return s.join("")})}var au=180/Math.PI,Yl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nf(e,t,r,i,a,n){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*i)&&(r-=e*l,i-=t*l),(s=Math.sqrt(r*r+i*i))&&(r/=s,i/=s,l/=s),e*i<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:n,rotate:Math.atan2(t,e)*au,skewX:Math.atan(l)*au,scaleX:o,scaleY:s}}var gs;function N_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yl:Nf(t.a,t.b,t.c,t.d,t.e,t.f)}function q_(e){return e==null||(gs||(gs=document.createElementNS("http://www.w3.org/2000/svg","g")),gs.setAttribute("transform",e),!(e=gs.transform.baseVal.consolidate()))?Yl:(e=e.matrix,Nf(e.a,e.b,e.c,e.d,e.e,e.f))}function qf(e,t,r,i){function a(c){return c.length?c.pop()+" ":""}function n(c,h,u,p,d,g){if(c!==u||h!==p){var m=d.push("translate(",null,t,null,r);g.push({i:m-4,x:Ir(c,u)},{i:m-2,x:Ir(h,p)})}else(u||p)&&d.push("translate("+u+t+p+r)}function o(c,h,u,p){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),p.push({i:u.push(a(u)+"rotate(",null,i)-2,x:Ir(c,h)})):h&&u.push(a(u)+"rotate("+h+i)}function s(c,h,u,p){c!==h?p.push({i:u.push(a(u)+"skewX(",null,i)-2,x:Ir(c,h)}):h&&u.push(a(u)+"skewX("+h+i)}function l(c,h,u,p,d,g){if(c!==u||h!==p){var m=d.push(a(d)+"scale(",null,",",null,")");g.push({i:m-4,x:Ir(c,u)},{i:m-2,x:Ir(h,p)})}else(u!==1||p!==1)&&d.push(a(d)+"scale("+u+","+p+")")}return function(c,h){var u=[],p=[];return c=e(c),h=e(h),n(c.translateX,c.translateY,h.translateX,h.translateY,u,p),o(c.rotate,h.rotate,u,p),s(c.skewX,h.skewX,u,p),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,p),c=h=null,function(d){for(var g=-1,m=p.length,y;++g<m;)u[(y=p[g]).i]=y.x(d);return u.join("")}}}var z_=qf(N_,"px, ","px)","deg)"),W_=qf(q_,", ",")",")"),ba=0,dn=0,an=0,zf=1e3,Ks,fn,Qs=0,yi=0,Ao=0,En=typeof performance=="object"&&performance.now?performance:Date,Wf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ic(){return yi||(Wf(H_),yi=En.now()+Ao)}function H_(){yi=0}function Js(){this._call=this._time=this._next=null}Js.prototype=Hf.prototype={constructor:Js,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Ic():+r)+(t==null?0:+t),!this._next&&fn!==this&&(fn?fn._next=this:Ks=this,fn=this),this._call=e,this._time=r,Gl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gl())}};function Hf(e,t,r){var i=new Js;return i.restart(e,t,r),i}function j_(){Ic(),++ba;for(var e=Ks,t;e;)(t=yi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ba}function nu(){yi=(Qs=En.now())+Ao,ba=dn=0;try{j_()}finally{ba=0,U_(),yi=0}}function V_(){var e=En.now(),t=e-Qs;t>zf&&(Ao-=t,Qs=e)}function U_(){for(var e,t=Ks,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ks=r);fn=e,Gl(i)}function Gl(e){if(!ba){dn&&(dn=clearTimeout(dn));var t=e-yi;t>24?(e<1/0&&(dn=setTimeout(nu,e-En.now()-Ao)),an&&(an=clearInterval(an))):(an||(Qs=En.now(),an=setInterval(V_,zf)),ba=1,Wf(nu))}}function su(e,t,r){var i=new Js;return t=t==null?0:+t,i.restart(a=>{i.stop(),e(a+t)},t,r),i}var Y_=wf("start","end","cancel","interrupt"),G_=[],jf=0,ou=1,Xl=2,Bs=3,lu=4,Zl=5,Ls=6;function Bo(e,t,r,i,a,n){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;X_(e,r,{name:t,index:i,group:a,on:Y_,tween:G_,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:jf})}function Nc(e,t){var r=Ke(e,t);if(r.state>jf)throw new Error("too late; already scheduled");return r}function lr(e,t){var r=Ke(e,t);if(r.state>Bs)throw new Error("too late; already running");return r}function Ke(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function X_(e,t,r){var i=e.__transition,a;i[t]=r,r.timer=Hf(n,0,r.time);function n(c){r.state=ou,r.timer.restart(o,r.delay,r.time),r.delay<=c&&o(c-r.delay)}function o(c){var h,u,p,d;if(r.state!==ou)return l();for(h in i)if(d=i[h],d.name===r.name){if(d.state===Bs)return su(o);d.state===lu?(d.state=Ls,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[h]):+h<t&&(d.state=Ls,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[h])}if(su(function(){r.state===Bs&&(r.state=lu,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=Xl,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Xl){for(r.state=Bs,a=new Array(p=r.tween.length),h=0,u=-1;h<p;++h)(d=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++u]=d);a.length=u+1}}function s(c){for(var h=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=Zl,1),u=-1,p=a.length;++u<p;)a[u].call(e,h);r.state===Zl&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Ls,r.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function Z_(e,t){var r=e.__transition,i,a,n=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((i=r[o]).name!==t){n=!1;continue}a=i.state>Xl&&i.state<Zl,i.state=Ls,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[o]}n&&delete e.__transition}}function K_(e){return this.each(function(){Z_(this,e)})}function Q_(e,t){var r,i;return function(){var a=lr(this,e),n=a.tween;if(n!==r){i=r=n;for(var o=0,s=i.length;o<s;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}a.tween=i}}function J_(e,t,r){var i,a;if(typeof r!="function")throw new Error;return function(){var n=lr(this,e),o=n.tween;if(o!==i){a=(i=o).slice();for(var s={name:t,value:r},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}n.tween=a}}function t2(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=Ke(this.node(),r).tween,a=0,n=i.length,o;a<n;++a)if((o=i[a]).name===e)return o.value;return null}return this.each((t==null?Q_:J_)(r,e,t))}function qc(e,t,r){var i=e._id;return e.each(function(){var a=lr(this,i);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Ke(a,i).value[t]}}function Vf(e,t){var r;return(typeof t=="number"?Ir:t instanceof Ln?iu:(r=Ln(t))?(t=r,iu):I_)(e,t)}function e2(e){return function(){this.removeAttribute(e)}}function r2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function i2(e,t,r){var i,a=r+"",n;return function(){var o=this.getAttribute(e);return o===a?null:o===i?n:n=t(i=o,r)}}function a2(e,t,r){var i,a=r+"",n;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===i?n:n=t(i=o,r)}}function n2(e,t,r){var i,a,n;return function(){var o,s=r(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===i&&l===a?n:(a=l,n=t(i=o,s)))}}function s2(e,t,r){var i,a,n;return function(){var o,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===i&&l===a?n:(a=l,n=t(i=o,s)))}}function o2(e,t){var r=Mo(e),i=r==="transform"?W_:Vf;return this.attrTween(e,typeof t=="function"?(r.local?s2:n2)(r,i,qc(this,"attr."+e,t)):t==null?(r.local?r2:e2)(r):(r.local?a2:i2)(r,i,t))}function l2(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function c2(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function h2(e,t){var r,i;function a(){var n=t.apply(this,arguments);return n!==i&&(r=(i=n)&&c2(e,n)),r}return a._value=t,a}function u2(e,t){var r,i;function a(){var n=t.apply(this,arguments);return n!==i&&(r=(i=n)&&l2(e,n)),r}return a._value=t,a}function p2(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=Mo(e);return this.tween(r,(i.local?h2:u2)(i,t))}function d2(e,t){return function(){Nc(this,e).delay=+t.apply(this,arguments)}}function f2(e,t){return t=+t,function(){Nc(this,e).delay=t}}function g2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?d2:f2)(t,e)):Ke(this.node(),t).delay}function m2(e,t){return function(){lr(this,e).duration=+t.apply(this,arguments)}}function y2(e,t){return t=+t,function(){lr(this,e).duration=t}}function b2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m2:y2)(t,e)):Ke(this.node(),t).duration}function v2(e,t){if(typeof t!="function")throw new Error;return function(){lr(this,e).ease=t}}function x2(e){var t=this._id;return arguments.length?this.each(v2(t,e)):Ke(this.node(),t).ease}function _2(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;lr(this,e).ease=r}}function w2(e){if(typeof e!="function")throw new Error;return this.each(_2(this._id,e))}function C2(e){typeof e!="function"&&(e=Sf(e));for(var t=this._groups,r=t.length,i=new Array(r),a=0;a<r;++a)for(var n=t[a],o=n.length,s=i[a]=[],l,c=0;c<o;++c)(l=n[c])&&e.call(l,l.__data__,c,n)&&s.push(l);return new Ar(i,this._parents,this._name,this._id)}function k2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,a=r.length,n=Math.min(i,a),o=new Array(i),s=0;s<n;++s)for(var l=t[s],c=r[s],h=l.length,u=o[s]=new Array(h),p,d=0;d<h;++d)(p=l[d]||c[d])&&(u[d]=p);for(;s<i;++s)o[s]=t[s];return new Ar(o,this._parents,this._name,this._id)}function S2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function T2(e,t,r){var i,a,n=S2(t)?Nc:lr;return function(){var o=n(this,e),s=o.on;s!==i&&(a=(i=s).copy()).on(t,r),o.on=a}}function M2(e,t){var r=this._id;return arguments.length<2?Ke(this.node(),r).on.on(e):this.each(T2(r,e,t))}function A2(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function B2(){return this.on("end.remove",A2(this._id))}function L2(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Pc(e));for(var i=this._groups,a=i.length,n=new Array(a),o=0;o<a;++o)for(var s=i[o],l=s.length,c=n[o]=new Array(l),h,u,p=0;p<l;++p)(h=s[p])&&(u=e.call(h,h.__data__,p,s))&&("__data__"in h&&(u.__data__=h.__data__),c[p]=u,Bo(c[p],t,r,p,c,Ke(h,r)));return new Ar(n,this._parents,t,r)}function E2(e){var t=this._name,r=this._id;typeof e!="function"&&(e=kf(e));for(var i=this._groups,a=i.length,n=[],o=[],s=0;s<a;++s)for(var l=i[s],c=l.length,h,u=0;u<c;++u)if(h=l[u]){for(var p=e.call(h,h.__data__,u,l),d,g=Ke(h,r),m=0,y=p.length;m<y;++m)(d=p[m])&&Bo(d,t,r,m,p,g);n.push(p),o.push(h)}return new Ar(n,o,t,r)}var $2=Nn.prototype.constructor;function F2(){return new $2(this._groups,this._parents)}function P2(e,t){var r,i,a;return function(){var n=ya(this,e),o=(this.style.removeProperty(e),ya(this,e));return n===o?null:n===r&&o===i?a:a=t(r=n,i=o)}}function Uf(e){return function(){this.style.removeProperty(e)}}function D2(e,t,r){var i,a=r+"",n;return function(){var o=ya(this,e);return o===a?null:o===i?n:n=t(i=o,r)}}function R2(e,t,r){var i,a,n;return function(){var o=ya(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),ya(this,e))),o===l?null:o===i&&l===a?n:(a=l,n=t(i=o,s))}}function O2(e,t){var r,i,a,n="style."+t,o="end."+n,s;return function(){var l=lr(this,e),c=l.on,h=l.value[n]==null?s||(s=Uf(t)):void 0;(c!==r||a!==h)&&(i=(r=c).copy()).on(o,a=h),l.on=i}}function I2(e,t,r){var i=(e+="")=="transform"?z_:Vf;return t==null?this.styleTween(e,P2(e,i)).on("end.style."+e,Uf(e)):typeof t=="function"?this.styleTween(e,R2(e,i,qc(this,"style."+e,t))).each(O2(this._id,e)):this.styleTween(e,D2(e,i,t),r).on("end.style."+e,null)}function N2(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function q2(e,t,r){var i,a;function n(){var o=t.apply(this,arguments);return o!==a&&(i=(a=o)&&N2(e,o,r)),i}return n._value=t,n}function z2(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,q2(e,t,r??""))}function W2(e){return function(){this.textContent=e}}function H2(e){return function(){var t=e(this);this.textContent=t??""}}function j2(e){return this.tween("text",typeof e=="function"?H2(qc(this,"text",e)):W2(e==null?"":e+""))}function V2(e){return function(t){this.textContent=e.call(this,t)}}function U2(e){var t,r;function i(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&V2(a)),t}return i._value=e,i}function Y2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,U2(e))}function G2(){for(var e=this._name,t=this._id,r=Yf(),i=this._groups,a=i.length,n=0;n<a;++n)for(var o=i[n],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var h=Ke(l,t);Bo(l,e,r,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ar(i,this._parents,e,r)}function X2(){var e,t,r=this,i=r._id,a=r.size();return new Promise(function(n,o){var s={value:o},l={value:function(){--a===0&&n()}};r.each(function(){var c=lr(this,i),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),a===0&&n()})}var Z2=0;function Ar(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function Yf(){return++Z2}var xr=Nn.prototype;Ar.prototype={constructor:Ar,select:L2,selectAll:E2,selectChild:xr.selectChild,selectChildren:xr.selectChildren,filter:C2,merge:k2,selection:F2,transition:G2,call:xr.call,nodes:xr.nodes,node:xr.node,size:xr.size,empty:xr.empty,each:xr.each,on:M2,attr:o2,attrTween:p2,style:I2,styleTween:z2,text:j2,textTween:Y2,remove:B2,tween:t2,delay:g2,duration:b2,ease:x2,easeVarying:w2,end:X2,[Symbol.iterator]:xr[Symbol.iterator]};function K2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Q2={time:null,delay:0,duration:250,ease:K2};function J2(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function tw(e){var t,r;e instanceof Ar?(t=e._id,e=e._name):(t=Yf(),(r=Q2).time=Ic(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,n=0;n<a;++n)for(var o=i[n],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Bo(l,e,t,c,o,r||J2(l,t));return new Ar(i,this._parents,e,t)}Nn.prototype.interrupt=K_;Nn.prototype.transition=tw;const Kl=Math.PI,Ql=2*Kl,ai=1e-6,ew=Ql-ai;function Gf(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rw(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Gf;const r=10**t;return function(i){this._+=i[0];for(let a=1,n=i.length;a<n;++a)this._+=Math.round(arguments[a]*r)/r+i[a]}}class iw{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Gf:rw(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,i,a){this._append`Q${+t},${+r},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(t,r,i,a,n,o){this._append`C${+t},${+r},${+i},${+a},${this._x1=+n},${this._y1=+o}`}arcTo(t,r,i,a,n){if(t=+t,r=+r,i=+i,a=+a,n=+n,n<0)throw new Error(`negative radius: ${n}`);let o=this._x1,s=this._y1,l=i-t,c=a-r,h=o-t,u=s-r,p=h*h+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>ai)if(!(Math.abs(u*l-c*h)>ai)||!n)this._append`L${this._x1=t},${this._y1=r}`;else{let d=i-o,g=a-s,m=l*l+c*c,y=d*d+g*g,b=Math.sqrt(m),v=Math.sqrt(p),w=n*Math.tan((Kl-Math.acos((m+p-y)/(2*b*v)))/2),T=w/v,S=w/b;Math.abs(T-1)>ai&&this._append`L${t+T*h},${r+T*u}`,this._append`A${n},${n},0,0,${+(u*d>h*g)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,i,a,n,o){if(t=+t,r=+r,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(a),l=i*Math.sin(a),c=t+s,h=r+l,u=1^o,p=o?a-n:n-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>ai||Math.abs(this._y1-h)>ai)&&this._append`L${c},${h}`,i&&(p<0&&(p=p%Ql+Ql),p>ew?this._append`A${i},${i},0,1,${u},${t-s},${r-l}A${i},${i},0,1,${u},${this._x1=c},${this._y1=h}`:p>ai&&this._append`A${i},${i},0,${+(p>=Kl)},${u},${this._x1=t+i*Math.cos(n)},${this._y1=r+i*Math.sin(n)}`)}rect(t,r,i,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function Xi(e){return function(){return e}}const Z3=Math.abs,K3=Math.atan2,Q3=Math.cos,J3=Math.max,tE=Math.min,eE=Math.sin,rE=Math.sqrt,cu=1e-12,zc=Math.PI,hu=zc/2,iE=2*zc;function aE(e){return e>1?0:e<-1?zc:Math.acos(e)}function nE(e){return e>=1?hu:e<=-1?-hu:Math.asin(e)}function aw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new iw(t)}function nw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xf(e){this._context=e}Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function to(e){return new Xf(e)}function sw(e){return e[0]}function ow(e){return e[1]}function lw(e,t){var r=Xi(!0),i=null,a=to,n=null,o=aw(s);e=typeof e=="function"?e:e===void 0?sw:Xi(e),t=typeof t=="function"?t:t===void 0?ow:Xi(t);function s(l){var c,h=(l=nw(l)).length,u,p=!1,d;for(i==null&&(n=a(d=o())),c=0;c<=h;++c)!(c<h&&r(u=l[c],c,l))===p&&((p=!p)?n.lineStart():n.lineEnd()),p&&n.point(+e(u,c,l),+t(u,c,l));if(d)return n=null,d+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Xi(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Xi(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Xi(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,i!=null&&(n=a(i)),s):a},s.context=function(l){return arguments.length?(l==null?i=n=null:n=a(i=l),s):i},s}class Zf{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Kf(e){return new Zf(e,!0)}function Qf(e){return new Zf(e,!1)}function Wr(){}function eo(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Lo(e){this._context=e}Lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Es(e){return new Lo(e)}function Jf(e){this._context=e}Jf.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cw(e){return new Jf(e)}function tg(e){this._context=e}tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:eo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hw(e){return new tg(e)}function eg(e,t){this._basis=new Lo(e),this._beta=t}eg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],a=t[0],n=e[r]-i,o=t[r]-a,s=-1,l;++s<=r;)l=s/r,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+l*n),this._beta*t[s]+(1-this._beta)*(a+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const uw=function e(t){function r(i){return t===1?new Lo(i):new eg(i,t)}return r.beta=function(i){return e(+i)},r}(.85);function ro(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Wc(e,t){this._context=e,this._k=(1-t)/6}Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ro(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ro(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rg=function e(t){function r(i){return new Wc(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Hc(e,t){this._context=e,this._k=(1-t)/6}Hc.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ro(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pw=function e(t){function r(i){return new Hc(i,t)}return r.tension=function(i){return e(+i)},r}(0);function jc(e,t){this._context=e,this._k=(1-t)/6}jc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ro(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dw=function e(t){function r(i){return new jc(i,t)}return r.tension=function(i){return e(+i)},r}(0);function Vc(e,t,r){var i=e._x1,a=e._y1,n=e._x2,o=e._y2;if(e._l01_a>cu){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>cu){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);n=(n*c+e._x1*e._l23_2a-t*e._l12_2a)/h,o=(o*c+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(i,a,n,o,e._x2,e._y2)}function ig(e,t){this._context=e,this._alpha=t}ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Vc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ag=function e(t){function r(i){return t?new ig(i,t):new Wc(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function ng(e,t){this._context=e,this._alpha=t}ng.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Vc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const fw=function e(t){function r(i){return t?new ng(i,t):new Hc(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function sg(e,t){this._context=e,this._alpha=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gw=function e(t){function r(i){return t?new sg(i,t):new jc(i,0)}return r.alpha=function(i){return e(+i)},r}(.5);function og(e){this._context=e}og.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mw(e){return new og(e)}function uu(e){return e<0?-1:1}function pu(e,t,r){var i=e._x1-e._x0,a=t-e._x1,n=(e._y1-e._y0)/(i||a<0&&-0),o=(r-e._y1)/(a||i<0&&-0),s=(n*a+o*i)/(i+a);return(uu(n)+uu(o))*Math.min(Math.abs(n),Math.abs(o),.5*Math.abs(s))||0}function du(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ol(e,t,r){var i=e._x0,a=e._y0,n=e._x1,o=e._y1,s=(n-i)/3;e._context.bezierCurveTo(i+s,a+s*t,n-s,o-s*r,n,o)}function io(e){this._context=e}io.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ol(this,this._t0,du(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ol(this,du(this,r=pu(this,e,t)),r);break;default:ol(this,this._t0,r=pu(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lg(e){this._context=new cg(e)}(lg.prototype=Object.create(io.prototype)).point=function(e,t){io.prototype.point.call(this,t,e)};function cg(e){this._context=e}cg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,i,a,n){this._context.bezierCurveTo(t,e,i,r,n,a)}};function hg(e){return new io(e)}function ug(e){return new lg(e)}function pg(e){this._context=e}pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=fu(e),a=fu(t),n=0,o=1;o<r;++n,++o)this._context.bezierCurveTo(i[0][n],a[0][n],i[1][n],a[1][n],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fu(e){var t,r=e.length-1,i,a=new Array(r),n=new Array(r),o=new Array(r);for(a[0]=0,n[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,n[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,n[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=a[t]/n[t-1],n[t]-=i,o[t]-=i*o[t-1];for(a[r-1]=o[r-1]/n[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/n[t];for(n[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)n[t]=2*e[t+1]-a[t+1];return[a,n]}function dg(e){return new pg(e)}function Eo(e,t){this._context=e,this._t=t}Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fg(e){return new Eo(e,.5)}function gg(e){return new Eo(e,0)}function mg(e){return new Eo(e,1)}function gn(e,t,r){this.k=e,this.x=t,this.y=r}gn.prototype={constructor:gn,scale:function(e){return e===1?this:new gn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};gn.prototype;var yg=typeof global=="object"&&global&&global.Object===Object&&global,yw=typeof self=="object"&&self&&self.Object===Object&&self,cr=yg||yw||Function("return this")(),ao=cr.Symbol,bg=Object.prototype,bw=bg.hasOwnProperty,vw=bg.toString,nn=ao?ao.toStringTag:void 0;function xw(e){var t=bw.call(e,nn),r=e[nn];try{e[nn]=void 0;var i=!0}catch{}var a=vw.call(e);return i&&(t?e[nn]=r:delete e[nn]),a}var _w=Object.prototype,ww=_w.toString;function Cw(e){return ww.call(e)}var kw="[object Null]",Sw="[object Undefined]",gu=ao?ao.toStringTag:void 0;function Ca(e){return e==null?e===void 0?Sw:kw:gu&&gu in Object(e)?xw(e):Cw(e)}function _i(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Tw="[object AsyncFunction]",Mw="[object Function]",Aw="[object GeneratorFunction]",Bw="[object Proxy]";function Uc(e){if(!_i(e))return!1;var t=Ca(e);return t==Mw||t==Aw||t==Tw||t==Bw}var ll=cr["__core-js_shared__"],mu=function(){var e=/[^.]+$/.exec(ll&&ll.keys&&ll.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lw(e){return!!mu&&mu in e}var Ew=Function.prototype,$w=Ew.toString;function wi(e){if(e!=null){try{return $w.call(e)}catch{}try{return e+""}catch{}}return""}var Fw=/[\\^$.*+?()[\]{}|]/g,Pw=/^\[object .+?Constructor\]$/,Dw=Function.prototype,Rw=Object.prototype,Ow=Dw.toString,Iw=Rw.hasOwnProperty,Nw=RegExp("^"+Ow.call(Iw).replace(Fw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qw(e){if(!_i(e)||Lw(e))return!1;var t=Uc(e)?Nw:Pw;return t.test(wi(e))}function zw(e,t){return e==null?void 0:e[t]}function Ci(e,t){var r=zw(e,t);return qw(r)?r:void 0}var $n=Ci(Object,"create");function Ww(){this.__data__=$n?$n(null):{},this.size=0}function Hw(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jw="__lodash_hash_undefined__",Vw=Object.prototype,Uw=Vw.hasOwnProperty;function Yw(e){var t=this.__data__;if($n){var r=t[e];return r===jw?void 0:r}return Uw.call(t,e)?t[e]:void 0}var Gw=Object.prototype,Xw=Gw.hasOwnProperty;function Zw(e){var t=this.__data__;return $n?t[e]!==void 0:Xw.call(t,e)}var Kw="__lodash_hash_undefined__";function Qw(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$n&&t===void 0?Kw:t,this}function bi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}bi.prototype.clear=Ww;bi.prototype.delete=Hw;bi.prototype.get=Yw;bi.prototype.has=Zw;bi.prototype.set=Qw;function Jw(){this.__data__=[],this.size=0}function $o(e,t){return e===t||e!==e&&t!==t}function Fo(e,t){for(var r=e.length;r--;)if($o(e[r][0],t))return r;return-1}var tC=Array.prototype,eC=tC.splice;function rC(e){var t=this.__data__,r=Fo(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():eC.call(t,r,1),--this.size,!0}function iC(e){var t=this.__data__,r=Fo(t,e);return r<0?void 0:t[r][1]}function aC(e){return Fo(this.__data__,e)>-1}function nC(e,t){var r=this.__data__,i=Fo(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function Lr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Lr.prototype.clear=Jw;Lr.prototype.delete=rC;Lr.prototype.get=iC;Lr.prototype.has=aC;Lr.prototype.set=nC;var Fn=Ci(cr,"Map");function sC(){this.size=0,this.__data__={hash:new bi,map:new(Fn||Lr),string:new bi}}function oC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Po(e,t){var r=e.__data__;return oC(t)?r[typeof t=="string"?"string":"hash"]:r.map}function lC(e){var t=Po(this,e).delete(e);return this.size-=t?1:0,t}function cC(e){return Po(this,e).get(e)}function hC(e){return Po(this,e).has(e)}function uC(e,t){var r=Po(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function Vr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Vr.prototype.clear=sC;Vr.prototype.delete=lC;Vr.prototype.get=cC;Vr.prototype.has=hC;Vr.prototype.set=uC;var pC="Expected a function";function zn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pC);var r=function(){var i=arguments,a=t?t.apply(this,i):i[0],n=r.cache;if(n.has(a))return n.get(a);var o=e.apply(this,i);return r.cache=n.set(a,o)||n,o};return r.cache=new(zn.Cache||Vr),r}zn.Cache=Vr;function dC(){this.__data__=new Lr,this.size=0}function fC(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function gC(e){return this.__data__.get(e)}function mC(e){return this.__data__.has(e)}var yC=200;function bC(e,t){var r=this.__data__;if(r instanceof Lr){var i=r.__data__;if(!Fn||i.length<yC-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vr(i)}return r.set(e,t),this.size=r.size,this}function ka(e){var t=this.__data__=new Lr(e);this.size=t.size}ka.prototype.clear=dC;ka.prototype.delete=fC;ka.prototype.get=gC;ka.prototype.has=mC;ka.prototype.set=bC;var no=function(){try{var e=Ci(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Yc(e,t,r){t=="__proto__"&&no?no(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Jl(e,t,r){(r!==void 0&&!$o(e[t],r)||r===void 0&&!(t in e))&&Yc(e,t,r)}function vC(e){return function(t,r,i){for(var a=-1,n=Object(t),o=i(t),s=o.length;s--;){var l=o[++a];if(r(n[l],l,n)===!1)break}return t}}var xC=vC(),vg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yu=vg&&typeof module=="object"&&module&&!module.nodeType&&module,_C=yu&&yu.exports===vg,bu=_C?cr.Buffer:void 0,vu=bu?bu.allocUnsafe:void 0;function wC(e,t){if(t)return e.slice();var r=e.length,i=vu?vu(r):new e.constructor(r);return e.copy(i),i}var xu=cr.Uint8Array;function CC(e){var t=new e.constructor(e.byteLength);return new xu(t).set(new xu(e)),t}function kC(e,t){var r=t?CC(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function SC(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var _u=Object.create,TC=function(){function e(){}return function(t){if(!_i(t))return{};if(_u)return _u(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function xg(e,t){return function(r){return e(t(r))}}var _g=xg(Object.getPrototypeOf,Object),MC=Object.prototype;function Do(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||MC;return e===r}function AC(e){return typeof e.constructor=="function"&&!Do(e)?TC(_g(e)):{}}function Wn(e){return e!=null&&typeof e=="object"}var BC="[object Arguments]";function wu(e){return Wn(e)&&Ca(e)==BC}var wg=Object.prototype,LC=wg.hasOwnProperty,EC=wg.propertyIsEnumerable,so=wu(function(){return arguments}())?wu:function(e){return Wn(e)&&LC.call(e,"callee")&&!EC.call(e,"callee")},oo=Array.isArray,$C=9007199254740991;function Cg(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$C}function Ro(e){return e!=null&&Cg(e.length)&&!Uc(e)}function FC(e){return Wn(e)&&Ro(e)}function PC(){return!1}var kg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cu=kg&&typeof module=="object"&&module&&!module.nodeType&&module,DC=Cu&&Cu.exports===kg,ku=DC?cr.Buffer:void 0,RC=ku?ku.isBuffer:void 0,Gc=RC||PC,OC="[object Object]",IC=Function.prototype,NC=Object.prototype,Sg=IC.toString,qC=NC.hasOwnProperty,zC=Sg.call(Object);function WC(e){if(!Wn(e)||Ca(e)!=OC)return!1;var t=_g(e);if(t===null)return!0;var r=qC.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Sg.call(r)==zC}var HC="[object Arguments]",jC="[object Array]",VC="[object Boolean]",UC="[object Date]",YC="[object Error]",GC="[object Function]",XC="[object Map]",ZC="[object Number]",KC="[object Object]",QC="[object RegExp]",JC="[object Set]",tk="[object String]",ek="[object WeakMap]",rk="[object ArrayBuffer]",ik="[object DataView]",ak="[object Float32Array]",nk="[object Float64Array]",sk="[object Int8Array]",ok="[object Int16Array]",lk="[object Int32Array]",ck="[object Uint8Array]",hk="[object Uint8ClampedArray]",uk="[object Uint16Array]",pk="[object Uint32Array]",Wt={};Wt[ak]=Wt[nk]=Wt[sk]=Wt[ok]=Wt[lk]=Wt[ck]=Wt[hk]=Wt[uk]=Wt[pk]=!0;Wt[HC]=Wt[jC]=Wt[rk]=Wt[VC]=Wt[ik]=Wt[UC]=Wt[YC]=Wt[GC]=Wt[XC]=Wt[ZC]=Wt[KC]=Wt[QC]=Wt[JC]=Wt[tk]=Wt[ek]=!1;function dk(e){return Wn(e)&&Cg(e.length)&&!!Wt[Ca(e)]}function fk(e){return function(t){return e(t)}}var Tg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wn=Tg&&typeof module=="object"&&module&&!module.nodeType&&module,gk=wn&&wn.exports===Tg,cl=gk&&yg.process,Su=function(){try{var e=wn&&wn.require&&wn.require("util").types;return e||cl&&cl.binding&&cl.binding("util")}catch{}}(),Tu=Su&&Su.isTypedArray,Xc=Tu?fk(Tu):dk;function tc(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var mk=Object.prototype,yk=mk.hasOwnProperty;function bk(e,t,r){var i=e[t];(!(yk.call(e,t)&&$o(i,r))||r===void 0&&!(t in e))&&Yc(e,t,r)}function vk(e,t,r,i){var a=!r;r||(r={});for(var n=-1,o=t.length;++n<o;){var s=t[n],l=void 0;l===void 0&&(l=e[s]),a?Yc(r,s,l):bk(r,s,l)}return r}function xk(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var _k=9007199254740991,wk=/^(?:0|[1-9]\d*)$/;function Mg(e,t){var r=typeof e;return t=t??_k,!!t&&(r=="number"||r!="symbol"&&wk.test(e))&&e>-1&&e%1==0&&e<t}var Ck=Object.prototype,kk=Ck.hasOwnProperty;function Sk(e,t){var r=oo(e),i=!r&&so(e),a=!r&&!i&&Gc(e),n=!r&&!i&&!a&&Xc(e),o=r||i||a||n,s=o?xk(e.length,String):[],l=s.length;for(var c in e)(t||kk.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||n&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Mg(c,l)))&&s.push(c);return s}function Tk(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Mk=Object.prototype,Ak=Mk.hasOwnProperty;function Bk(e){if(!_i(e))return Tk(e);var t=Do(e),r=[];for(var i in e)i=="constructor"&&(t||!Ak.call(e,i))||r.push(i);return r}function Ag(e){return Ro(e)?Sk(e,!0):Bk(e)}function Lk(e){return vk(e,Ag(e))}function Ek(e,t,r,i,a,n,o){var s=tc(e,r),l=tc(t,r),c=o.get(l);if(c){Jl(e,r,c);return}var h=n?n(s,l,r+"",e,t,o):void 0,u=h===void 0;if(u){var p=oo(l),d=!p&&Gc(l),g=!p&&!d&&Xc(l);h=l,p||d||g?oo(s)?h=s:FC(s)?h=SC(s):d?(u=!1,h=wC(l,!0)):g?(u=!1,h=kC(l,!0)):h=[]:WC(l)||so(l)?(h=s,so(s)?h=Lk(s):(!_i(s)||Uc(s))&&(h=AC(l))):u=!1}u&&(o.set(l,h),a(h,l,i,n,o),o.delete(l)),Jl(e,r,h)}function Bg(e,t,r,i,a){e!==t&&xC(t,function(n,o){if(a||(a=new ka),_i(n))Ek(e,t,o,r,Bg,i,a);else{var s=i?i(tc(e,o),n,o+"",e,t,a):void 0;s===void 0&&(s=n),Jl(e,o,s)}},Ag)}function Lg(e){return e}function $k(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Mu=Math.max;function Fk(e,t,r){return t=Mu(t===void 0?e.length-1:t,0),function(){for(var i=arguments,a=-1,n=Mu(i.length-t,0),o=Array(n);++a<n;)o[a]=i[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=i[a];return s[t]=r(o),$k(e,this,s)}}function Pk(e){return function(){return e}}var Dk=no?function(e,t){return no(e,"toString",{configurable:!0,enumerable:!1,value:Pk(t),writable:!0})}:Lg,Rk=800,Ok=16,Ik=Date.now;function Nk(e){var t=0,r=0;return function(){var i=Ik(),a=Ok-(i-r);if(r=i,a>0){if(++t>=Rk)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qk=Nk(Dk);function zk(e,t){return qk(Fk(e,t,Lg),e+"")}function Wk(e,t,r){if(!_i(r))return!1;var i=typeof t;return(i=="number"?Ro(r)&&Mg(t,r.length):i=="string"&&t in r)?$o(r[t],e):!1}function Hk(e){return zk(function(t,r){var i=-1,a=r.length,n=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(n=e.length>3&&typeof n=="function"?(a--,n):void 0,o&&Wk(r[0],r[1],o)&&(n=a<3?void 0:n,a=1),t=Object(t);++i<a;){var s=r[i];s&&e(t,s,i,n)}return t})}var jk=Hk(function(e,t,r){Bg(e,t,r)}),Vk="​",Uk={curveBasis:Es,curveBasisClosed:cw,curveBasisOpen:hw,curveBumpX:Kf,curveBumpY:Qf,curveBundle:uw,curveCardinalClosed:pw,curveCardinalOpen:dw,curveCardinal:rg,curveCatmullRomClosed:fw,curveCatmullRomOpen:gw,curveCatmullRom:ag,curveLinear:to,curveLinearClosed:mw,curveMonotoneX:hg,curveMonotoneY:ug,curveNatural:dg,curveStep:fg,curveStepAfter:mg,curveStepBefore:gg},Yk=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Gk=f(function(e,t){const r=Eg(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(r)){const o=r.map(s=>s.args);Is(o),i=ce(i,[...o])}else i=r.args;if(!i)return;let a=xc(e,t);const n="config";return i[n]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),i[a]=i[n],delete i[n]),i},"detectInit"),Eg=f(function(e,t=null){var r,i;try{const a=new RegExp(`[%]{2}(?![{]${Yk.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(a,"").replace(/'/gm,'"'),I.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n;const o=[];for(;(n=xn.exec(e))!==null;)if(n.index===xn.lastIndex&&xn.lastIndex++,n&&!t||t&&((r=n[1])!=null&&r.match(t))||t&&((i=n[2])!=null&&i.match(t))){const s=n[1]?n[1]:n[2],l=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;o.push({type:s,args:l})}return o.length===0?{type:e,args:null}:o.length===1?o[0]:o}catch(a){return I.error(`ERROR: ${a.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),Xk=f(function(e){return e.replace(xn,"")},"removeDirectives"),Zk=f(function(e,t){for(const[r,i]of t.entries())if(i.match(e))return r;return-1},"isSubstringInArray");function Zc(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Uk[r]??t}f(Zc,"interpolateToCurve");function $g(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?qx.sanitizeUrl(r):r}f($g,"formatUrl");var Kk=f((e,...t)=>{const r=e.split("."),i=r.length-1,a=r[i];let n=window;for(let o=0;o<i;o++)if(n=n[r[o]],!n){I.error(`Function name: ${e} not found in window`);return}n[a](...t)},"runFunc");function Kc(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}f(Kc,"distance");function Fg(e){let t,r=0;e.forEach(a=>{r+=Kc(a,t),t=a});const i=r/2;return Qc(e,i)}f(Fg,"traverseEdge");function Pg(e){return e.length===1?e[0]:Fg(e)}f(Pg,"calcLabelPosition");var Au=f((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),Qc=f((e,t)=>{let r,i=t;for(const a of e){if(r){const n=Kc(a,r);if(n===0)return r;if(n<i)i-=n;else{const o=i/n;if(o<=0)return r;if(o>=1)return{x:a.x,y:a.y};if(o>0&&o<1)return{x:Au((1-o)*r.x+o*a.x,5),y:Au((1-o)*r.y+o*a.y,5)}}}r=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Qk=f((e,t,r)=>{I.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const a=Qc(t,25),n=e?10:5,o=Math.atan2(t[0].y-a.y,t[0].x-a.x),s={x:0,y:0};return s.x=Math.sin(o)*n+(t[0].x+a.x)/2,s.y=-Math.cos(o)*n+(t[0].y+a.y)/2,s},"calcCardinalityPosition");function Dg(e,t,r){const i=structuredClone(r);I.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const a=25+e,n=Qc(i,a),o=10+e*.5,s=Math.atan2(i[0].y-n.y,i[0].x-n.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(s+Math.PI)*o+(i[0].x+n.x)/2,l.y=-Math.cos(s+Math.PI)*o+(i[0].y+n.y)/2):t==="end_right"?(l.x=Math.sin(s-Math.PI)*o+(i[0].x+n.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(i[0].y+n.y)/2-5):t==="end_left"?(l.x=Math.sin(s)*o+(i[0].x+n.x)/2-5,l.y=-Math.cos(s)*o+(i[0].y+n.y)/2-5):(l.x=Math.sin(s)*o+(i[0].x+n.x)/2,l.y=-Math.cos(s)*o+(i[0].y+n.y)/2),l}f(Dg,"calcTerminalLabelPosition");function Rg(e){let t="",r="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":t=t+i+";");return{style:t,labelStyle:r}}f(Rg,"getStylesFromArray");var Bu=0,Jk=f(()=>(Bu++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Bu),"generateId");function Og(e){let t="";const r="0123456789abcdef",i=r.length;for(let a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*i));return t}f(Og,"makeRandomHex");var tS=f(e=>Og(e.length),"random"),eS=f(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),rS=f(function(e,t){const r=t.text.replace(_a.lineBreakRegex," "),[,i]=Oo(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",i),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),t.class!==void 0&&a.attr("class",t.class);const n=a.append("tspan");return n.attr("x",t.x+t.textMargin*2),n.attr("fill",t.fill),n.text(r),a},"drawSimpleText"),iS=zn((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),_a.lineBreakRegex.test(e)))return e;const i=e.split(" ").filter(Boolean),a=[];let n="";return i.forEach((o,s)=>{const l=Br(`${o} `,r),c=Br(n,r);if(l>t){const{hyphenatedStrings:p,remainingWord:d}=aS(o,t,"-",r);a.push(n,...p),n=d}else c+l>=t?(a.push(n),n=o):n=[n,o].filter(Boolean).join(" ");s+1===i.length&&a.push(n)}),a.filter(o=>o!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),aS=zn((e,t,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const a=[...e],n=[];let o="";return a.forEach((s,l)=>{const c=`${o}${s}`;if(Br(c,i)>=t){const u=l+1,p=a.length===u,d=`${c}${r}`;n.push(p?c:d),o=""}else o=c}),{hyphenatedStrings:n,remainingWord:o}},(e,t,r="-",i)=>`${e}${t}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function Ig(e,t){return Jc(e,t).height}f(Ig,"calculateTextHeight");function Br(e,t){return Jc(e,t).width}f(Br,"calculateTextWidth");var Jc=zn((e,t)=>{const{fontSize:r=12,fontFamily:i="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};const[,n]=Oo(r),o=["sans-serif",i],s=e.split(_a.lineBreakRegex),l=[],c=Tt("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const h=c.append("svg");for(const p of o){let d=0;const g={width:0,height:0,lineHeight:0};for(const m of s){const y=eS();y.text=m||Vk;const b=rS(h,y).style("font-size",n).style("font-weight",a).style("font-family",p),v=(b._groups||b)[0][0].getBBox();if(v.width===0&&v.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,v.width)),d=Math.round(v.height),g.height+=d,g.lineHeight=Math.round(Math.max(g.lineHeight,d))}l.push(g)}h.remove();const u=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[u]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),ha,nS=(ha=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},f(ha,"InitIDGenerator"),ha),ms,sS=f(function(e){return ms=ms||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ms.innerHTML=e,unescape(ms.textContent)},"entityDecode");function th(e){return"str"in e}f(th,"isDetailedError");var oS=f((e,t,r,i)=>{var n;if(!i)return;const a=(n=e.node())==null?void 0:n.getBBox();a&&e.append("text").text(i).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Oo=f(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function eh(e,t){return jk({},e,t)}f(eh,"cleanAndMerge");var ar={assignWithDepth:ce,wrapLabel:iS,calculateTextHeight:Ig,calculateTextWidth:Br,calculateTextDimensions:Jc,cleanAndMerge:eh,detectInit:Gk,detectDirective:Eg,isSubstringInArray:Zk,interpolateToCurve:Zc,calcLabelPosition:Pg,calcCardinalityPosition:Qk,calcTerminalLabelPosition:Dg,formatUrl:$g,getStylesFromArray:Rg,generateId:Jk,random:tS,runFunc:Kk,entityDecode:sS,insertTitle:oS,parseFontSize:Oo,InitIDGenerator:nS},lS=f(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const i=r.substring(1,r.length-1);return/^\+?\d+$/.test(i)?"ﬂ°°"+i+"¶ß":"ﬂ°"+i+"¶ß"}),t},"encodeEntities"),ki=f(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),sE=f((e,t,{counter:r=0,prefix:i,suffix:a},n)=>n||`${i?`${i}_`:""}${e}_${t}_${r}${a?`_${a}`:""}`,"getEdgeId");function _e(e){return e??null}f(_e,"handleUndefinedAttr");const cS=Object.freeze({left:0,top:0,width:16,height:16}),lo=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ng=Object.freeze({...cS,...lo}),hS=Object.freeze({...Ng,body:"",hidden:!1}),uS=Object.freeze({width:null,height:null}),pS=Object.freeze({...uS,...lo}),dS=(e,t,r,i="")=>{const a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;i=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const s=a.pop(),l=a.pop(),c={provider:a.length>0?a[0]:i,prefix:l,name:s};return hl(c)?c:null}const n=a[0],o=n.split("-");if(o.length>1){const s={provider:i,prefix:o.shift(),name:o.join("-")};return hl(s)?s:null}if(r&&i===""){const s={provider:i,prefix:"",name:n};return hl(s,r)?s:null}return null},hl=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function fS(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(r.rotate=i),r}function Lu(e,t){const r=fS(e,t);for(const i in hS)i in lo?i in e&&!(i in r)&&(r[i]=lo[i]):i in t?r[i]=t[i]:i in e&&(r[i]=e[i]);return r}function gS(e,t){const r=e.icons,i=e.aliases||Object.create(null),a=Object.create(null);function n(o){if(r[o])return a[o]=[];if(!(o in a)){a[o]=null;const s=i[o]&&i[o].parent,l=s&&n(s);l&&(a[o]=[s].concat(l))}return a[o]}return(t||Object.keys(r).concat(Object.keys(i))).forEach(n),a}function Eu(e,t,r){const i=e.icons,a=e.aliases||Object.create(null);let n={};function o(s){n=Lu(i[s]||a[s],n)}return o(t),r.forEach(o),Lu(e,n)}function mS(e,t){if(e.icons[t])return Eu(e,t,[]);const r=gS(e,[t])[t];return r?Eu(e,t,r):null}const yS=/(-?[0-9.]*[0-9]+[0-9.]*)/g,bS=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function $u(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const i=e.split(yS);if(i===null||!i.length)return e;const a=[];let n=i.shift(),o=bS.test(n);for(;;){if(o){const s=parseFloat(n);isNaN(s)?a.push(n):a.push(Math.ceil(s*t*r)/r)}else a.push(n);if(n=i.shift(),n===void 0)return a.join("");o=!o}}function vS(e,t="defs"){let r="";const i=e.indexOf("<"+t);for(;i>=0;){const a=e.indexOf(">",i),n=e.indexOf("</"+t);if(a===-1||n===-1)break;const o=e.indexOf(">",n);if(o===-1)break;r+=e.slice(a+1,n).trim(),e=e.slice(0,i).trim()+e.slice(o+1)}return{defs:r,content:e}}function xS(e,t){return e?"<defs>"+e+"</defs>"+t:t}function _S(e,t,r){const i=vS(e);return xS(i.defs,t+i.content+r)}const wS=e=>e==="unset"||e==="undefined"||e==="none";function CS(e,t){const r={...Ng,...e},i={...pS,...t},a={left:r.left,top:r.top,width:r.width,height:r.height};let n=r.body;[r,i].forEach(m=>{const y=[],b=m.hFlip,v=m.vFlip;let w=m.rotate;b?v?w+=2:(y.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),y.push("scale(-1 1)"),a.top=a.left=0):v&&(y.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),y.push("scale(1 -1)"),a.top=a.left=0);let T;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:T=a.height/2+a.top,y.unshift("rotate(90 "+T.toString()+" "+T.toString()+")");break;case 2:y.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:T=a.width/2+a.left,y.unshift("rotate(-90 "+T.toString()+" "+T.toString()+")");break}w%2===1&&(a.left!==a.top&&(T=a.left,a.left=a.top,a.top=T),a.width!==a.height&&(T=a.width,a.width=a.height,a.height=T)),y.length&&(n=_S(n,'<g transform="'+y.join(" ")+'">',"</g>"))});const o=i.width,s=i.height,l=a.width,c=a.height;let h,u;o===null?(u=s===null?"1em":s==="auto"?c:s,h=$u(u,l/c)):(h=o==="auto"?l:o,u=s===null?$u(h,c/l):s==="auto"?c:s);const p={},d=(m,y)=>{wS(y)||(p[m]=y.toString())};d("width",h),d("height",u);const g=[a.left,a.top,l,c];return p.viewBox=g.join(" "),{attributes:p,viewBox:g,body:n}}const kS=/\sid="(\S+)"/g,SS="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let TS=0;function MS(e,t=SS){const r=[];let i;for(;i=kS.exec(e);)r.push(i[1]);if(!r.length)return e;const a="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(n=>{const o=typeof t=="function"?t(n):t+(TS++).toString(),s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+o+a+"$3")}),e=e.replace(new RegExp(a,"g"),""),e}function AS(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)r+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function rh(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Si=rh();function qg(e){Si=e}var Cn={exec:()=>null};function $t(e,t=""){let r=typeof e=="string"?e:e.source,i={replace:(a,n)=>{let o=typeof n=="string"?n:n.source;return o=o.replace(xe.caret,"$1"),r=r.replace(a,o),i},getRegex:()=>new RegExp(r,t)};return i}var xe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},BS=/^(?:[ \t]*(?:\n|$))+/,LS=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ES=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Hn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,$S=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ih=/(?:[*+-]|\d{1,9}[.)])/,zg=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Wg=$t(zg).replace(/bull/g,ih).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),FS=$t(zg).replace(/bull/g,ih).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ah=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,PS=/^[^\n]+/,nh=/(?!\s*\])(?:\\.|[^\[\]\\])+/,DS=$t(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",nh).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),RS=$t(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ih).getRegex(),Io="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",sh=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,OS=$t("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",sh).replace("tag",Io).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hg=$t(ah).replace("hr",Hn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Io).getRegex(),IS=$t(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Hg).getRegex(),oh={blockquote:IS,code:LS,def:DS,fences:ES,heading:$S,hr:Hn,html:OS,lheading:Wg,list:RS,newline:BS,paragraph:Hg,table:Cn,text:PS},Fu=$t("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Hn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Io).getRegex(),NS={...oh,lheading:FS,table:Fu,paragraph:$t(ah).replace("hr",Hn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Fu).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Io).getRegex()},qS={...oh,html:$t(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",sh).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Cn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$t(ah).replace("hr",Hn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Wg).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},zS=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,WS=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,jg=/^( {2,}|\\)\n(?!\s*$)/,HS=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,No=/[\p{P}\p{S}]/u,lh=/[\s\p{P}\p{S}]/u,Vg=/[^\s\p{P}\p{S}]/u,jS=$t(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,lh).getRegex(),Ug=/(?!~)[\p{P}\p{S}]/u,VS=/(?!~)[\s\p{P}\p{S}]/u,US=/(?:[^\s\p{P}\p{S}]|~)/u,YS=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,Yg=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,GS=$t(Yg,"u").replace(/punct/g,No).getRegex(),XS=$t(Yg,"u").replace(/punct/g,Ug).getRegex(),Gg="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ZS=$t(Gg,"gu").replace(/notPunctSpace/g,Vg).replace(/punctSpace/g,lh).replace(/punct/g,No).getRegex(),KS=$t(Gg,"gu").replace(/notPunctSpace/g,US).replace(/punctSpace/g,VS).replace(/punct/g,Ug).getRegex(),QS=$t("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Vg).replace(/punctSpace/g,lh).replace(/punct/g,No).getRegex(),JS=$t(/\\(punct)/,"gu").replace(/punct/g,No).getRegex(),tT=$t(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),eT=$t(sh).replace("(?:-->|$)","-->").getRegex(),rT=$t("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",eT).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),co=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,iT=$t(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",co).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Xg=$t(/^!?\[(label)\]\[(ref)\]/).replace("label",co).replace("ref",nh).getRegex(),Zg=$t(/^!?\[(ref)\](?:\[\])?/).replace("ref",nh).getRegex(),aT=$t("reflink|nolink(?!\\()","g").replace("reflink",Xg).replace("nolink",Zg).getRegex(),ch={_backpedal:Cn,anyPunctuation:JS,autolink:tT,blockSkip:YS,br:jg,code:WS,del:Cn,emStrongLDelim:GS,emStrongRDelimAst:ZS,emStrongRDelimUnd:QS,escape:zS,link:iT,nolink:Zg,punctuation:jS,reflink:Xg,reflinkSearch:aT,tag:rT,text:HS,url:Cn},nT={...ch,link:$t(/^!?\[(label)\]\((.*?)\)/).replace("label",co).getRegex(),reflink:$t(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",co).getRegex()},ec={...ch,emStrongRDelimAst:KS,emStrongLDelim:XS,url:$t(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sT={...ec,br:$t(jg).replace("{2,}","*").getRegex(),text:$t(ec.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ys={normal:oh,gfm:NS,pedantic:qS},sn={normal:ch,gfm:ec,breaks:sT,pedantic:nT},oT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pu=e=>oT[e];function er(e,t){if(t){if(xe.escapeTest.test(e))return e.replace(xe.escapeReplace,Pu)}else if(xe.escapeTestNoEncode.test(e))return e.replace(xe.escapeReplaceNoEncode,Pu);return e}function Du(e){try{e=encodeURI(e).replace(xe.percentDecode,"%")}catch{return null}return e}function Ru(e,t){var n;let r=e.replace(xe.findPipe,(o,s,l)=>{let c=!1,h=s;for(;--h>=0&&l[h]==="\\";)c=!c;return c?"|":" |"}),i=r.split(xe.splitPipe),a=0;if(i[0].trim()||i.shift(),i.length>0&&!((n=i.at(-1))!=null&&n.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;a<i.length;a++)i[a]=i[a].trim().replace(xe.slashPipe,"|");return i}function on(e,t,r){let i=e.length;if(i===0)return"";let a=0;for(;a<i&&e.charAt(i-a-1)===t;)a++;return e.slice(0,i-a)}function lT(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return r>0?-2:-1}function Ou(e,t,r,i,a){let n=t.href,o=t.title||null,s=e[1].replace(a.other.outputLinkReplace,"$1");i.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:n,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,l}function cT(e,t,r){let i=e.match(r.other.indentCodeCompensation);if(i===null)return t;let a=i[1];return t.split(`
`).map(n=>{let o=n.match(r.other.beginningSpace);if(o===null)return n;let[s]=o;return s.length>=a.length?n.slice(a.length):n}).join(`
`)}var ho=class{constructor(t){Ot(this,"options");Ot(this,"rules");Ot(this,"lexer");this.options=t||Si}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:on(i,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let i=r[0],a=cT(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:a}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let a=on(i,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(i=a.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:on(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let i=on(r[0],`
`).split(`
`),a="",n="",o=[];for(;i.length>0;){let s=!1,l=[],c;for(c=0;c<i.length;c++)if(this.rules.other.blockquoteStart.test(i[c]))l.push(i[c]),s=!0;else if(!s)l.push(i[c]);else break;i=i.slice(c);let h=l.join(`
`),u=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${h}`:h,n=n?`${n}
${u}`:u;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=p,i.length===0)break;let d=o.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){let g=d,m=g.raw+`
`+i.join(`
`),y=this.blockquote(m);o[o.length-1]=y,a=a.substring(0,a.length-g.raw.length)+y.raw,n=n.substring(0,n.length-g.text.length)+y.text;break}else if((d==null?void 0:d.type)==="list"){let g=d,m=g.raw+`
`+i.join(`
`),y=this.list(m);o[o.length-1]=y,a=a.substring(0,a.length-d.raw.length)+y.raw,n=n.substring(0,n.length-g.raw.length)+y.raw,i=m.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:o,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let i=r[1].trim(),a=i.length>1,n={type:"list",raw:"",ordered:a,start:a?+i.slice(0,-1):"",loose:!1,items:[]};i=a?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=a?i:"[*+-]");let o=this.rules.other.listItemRegex(i),s=!1;for(;t;){let c=!1,h="",u="";if(!(r=o.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let p=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),d=t.split(`
`,1)[0],g=!p.trim(),m=0;if(this.options.pedantic?(m=2,u=p.trimStart()):g?m=r[1].length+1:(m=r[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,u=p.slice(m),m+=r[1].length),g&&this.rules.other.blankLine.test(d)&&(h+=d+`
`,t=t.substring(d.length+1),c=!0),!c){let v=this.rules.other.nextBulletRegex(m),w=this.rules.other.hrRegex(m),T=this.rules.other.fencesBeginRegex(m),S=this.rules.other.headingBeginRegex(m),x=this.rules.other.htmlBeginRegex(m);for(;t;){let M=t.split(`
`,1)[0],N;if(d=M,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),N=d):N=d.replace(this.rules.other.tabCharGlobal,"    "),T.test(d)||S.test(d)||x.test(d)||v.test(d)||w.test(d))break;if(N.search(this.rules.other.nonSpaceChar)>=m||!d.trim())u+=`
`+N.slice(m);else{if(g||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||T.test(p)||S.test(p)||w.test(p))break;u+=`
`+d}!g&&!d.trim()&&(g=!0),h+=M+`
`,t=t.substring(M.length+1),p=N.slice(m)}}n.loose||(s?n.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(s=!0));let y=null,b;this.options.gfm&&(y=this.rules.other.listIsTask.exec(u),y&&(b=y[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:h,task:!!y,checked:b,loose:!1,text:u,tokens:[]}),n.raw+=h}let l=n.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let c=0;c<n.items.length;c++)if(this.lexer.state.top=!1,n.items[c].tokens=this.lexer.blockTokens(n.items[c].text,[]),!n.loose){let h=n.items[c].tokens.filter(p=>p.type==="space"),u=h.length>0&&h.some(p=>this.rules.other.anyLine.test(p.raw));n.loose=u}if(n.loose)for(let c=0;c<n.items.length;c++)n.items[c].loose=!0;return n}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:a,title:n}}}table(t){var s;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=Ru(r[1]),a=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=(s=r[3])!=null&&s.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===a.length){for(let l of a)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<i.length;l++)o.header.push({text:i[l],tokens:this.lexer.inline(i[l]),header:!0,align:o.align[l]});for(let l of n)o.rows.push(Ru(l,o.header.length).map((c,h)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[h]})));return o}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let o=on(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{let o=lT(r[2],"()");if(o===-2)return;if(o>-1){let s=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,s).trim(),r[3]=""}}let a=r[2],n="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(a);o&&(a=o[1],n=o[3])}else n=r[3]?r[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?a=a.slice(1):a=a.slice(1,-1)),Ou(r,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let a=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=r[a.toLowerCase()];if(!n){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return Ou(i,n,i[0],this.lexer,this.rules)}}emStrong(t,r,i=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!(!a||a[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!i||this.rules.inline.punctuation.exec(i))){let n=[...a[0]].length-1,o,s,l=n,c=0,h=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+n);(a=h.exec(r))!=null;){if(o=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!o)continue;if(s=[...o].length,a[3]||a[4]){l+=s;continue}else if((a[5]||a[6])&&n%3&&!((n+s)%3)){c+=s;continue}if(l-=s,l>0)continue;s=Math.min(s,s+l+c);let u=[...a[0]][0].length,p=t.slice(0,n+a.index+u+s);if(Math.min(n,s)%2){let g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}let d=p.slice(2,-2);return{type:"strong",raw:p,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(i),n=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return a&&n&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let i,a;return r[2]==="@"?(i=r[1],a="mailto:"+i):(i=r[1],a=i),{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(t){var i;let r;if(r=this.rules.inline.url.exec(t)){let a,n;if(r[2]==="@")a=r[0],n="mailto:"+a;else{let o;do o=r[0],r[0]=((i=this.rules.inline._backpedal.exec(r[0]))==null?void 0:i[0])??"";while(o!==r[0]);a=r[0],r[1]==="www."?n="http://"+r[0]:n=r[0]}return{type:"link",raw:r[0],text:a,href:n,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},kr=class rc{constructor(t){Ot(this,"tokens");Ot(this,"options");Ot(this,"state");Ot(this,"tokenizer");Ot(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Si,this.options.tokenizer=this.options.tokenizer||new ho,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:xe,block:ys.normal,inline:sn.normal};this.options.pedantic?(r.block=ys.pedantic,r.inline=sn.pedantic):this.options.gfm&&(r.block=ys.gfm,this.options.breaks?r.inline=sn.breaks:r.inline=sn.gfm),this.tokenizer.rules=r}static get rules(){return{block:ys,inline:sn}}static lex(t,r){return new rc(r).lex(t)}static lexInline(t,r){return new rc(r).inlineTokens(t)}lex(t){t=t.replace(xe.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],i=!1){var a,n,o;for(this.options.pedantic&&(t=t.replace(xe.tabCharGlobal,"    ").replace(xe.spaceLine,""));t;){let s;if((n=(a=this.options.extensions)==null?void 0:a.block)!=null&&n.some(c=>(s=c.call({lexer:this},t,r))?(t=t.substring(s.raw.length),r.push(s),!0):!1))continue;if(s=this.tokenizer.space(t)){t=t.substring(s.raw.length);let c=r.at(-1);s.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(s);continue}if(s=this.tokenizer.code(t)){t=t.substring(s.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.at(-1).src=c.text):r.push(s);continue}if(s=this.tokenizer.fences(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.heading(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.hr(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.blockquote(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.list(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.html(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.def(t)){t=t.substring(s.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(t)){t=t.substring(s.raw.length),r.push(s);continue}if(s=this.tokenizer.lheading(t)){t=t.substring(s.raw.length),r.push(s);continue}let l=t;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,h=t.slice(1),u;this.options.extensions.startBlock.forEach(p=>{u=p.call({lexer:this},h),typeof u=="number"&&u>=0&&(c=Math.min(c,u))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(s=this.tokenizer.paragraph(l))){let c=r.at(-1);i&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(s),i=l.length!==t.length,t=t.substring(s.raw.length);continue}if(s=this.tokenizer.text(t)){t=t.substring(s.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(s);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var s,l,c;let i=t,a=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,a.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let n=!1,o="";for(;t;){n||(o=""),n=!1;let h;if((l=(s=this.options.extensions)==null?void 0:s.inline)!=null&&l.some(p=>(h=p.call({lexer:this},t,r))?(t=t.substring(h.raw.length),r.push(h),!0):!1))continue;if(h=this.tokenizer.escape(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.tag(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.link(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(h.raw.length);let p=r.at(-1);h.type==="text"&&(p==null?void 0:p.type)==="text"?(p.raw+=h.raw,p.text+=h.text):r.push(h);continue}if(h=this.tokenizer.emStrong(t,i,o)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.codespan(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.br(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.del(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.autolink(t)){t=t.substring(h.raw.length),r.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(t))){t=t.substring(h.raw.length),r.push(h);continue}let u=t;if((c=this.options.extensions)!=null&&c.startInline){let p=1/0,d=t.slice(1),g;this.options.extensions.startInline.forEach(m=>{g=m.call({lexer:this},d),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(u=t.substring(0,p+1))}if(h=this.tokenizer.inlineText(u)){t=t.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(o=h.raw.slice(-1)),n=!0;let p=r.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=h.raw,p.text+=h.text):r.push(h);continue}if(t){let p="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return r}},uo=class{constructor(t){Ot(this,"options");Ot(this,"parser");this.options=t||Si}space(t){return""}code({text:t,lang:r,escaped:i}){var o;let a=(o=(r||"").match(xe.notSpaceStart))==null?void 0:o[0],n=t.replace(xe.endingNewline,"")+`
`;return a?'<pre><code class="language-'+er(a)+'">'+(i?n:er(n,!0))+`</code></pre>
`:"<pre><code>"+(i?n:er(n,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,i=t.start,a="";for(let s=0;s<t.items.length;s++){let l=t.items[s];a+=this.listitem(l)}let n=r?"ol":"ul",o=r&&i!==1?' start="'+i+'"':"";return"<"+n+o+`>
`+a+"</"+n+`>
`}listitem(t){var i;let r="";if(t.task){let a=this.checkbox({checked:!!t.checked});t.loose?((i=t.tokens[0])==null?void 0:i.type)==="paragraph"?(t.tokens[0].text=a+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=a+" "+er(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):r+=a+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",i="";for(let n=0;n<t.header.length;n++)i+=this.tablecell(t.header[n]);r+=this.tablerow({text:i});let a="";for(let n=0;n<t.rows.length;n++){let o=t.rows[n];i="";for(let s=0;s<o.length;s++)i+=this.tablecell(o[s]);a+=this.tablerow({text:i})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${er(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:i}){let a=this.parser.parseInline(i),n=Du(t);if(n===null)return a;t=n;let o='<a href="'+t+'"';return r&&(o+=' title="'+er(r)+'"'),o+=">"+a+"</a>",o}image({href:t,title:r,text:i,tokens:a}){a&&(i=this.parser.parseInline(a,this.parser.textRenderer));let n=Du(t);if(n===null)return er(i);t=n;let o=`<img src="${t}" alt="${i}"`;return r&&(o+=` title="${er(r)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:er(t.text)}},hh=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Sr=class ic{constructor(t){Ot(this,"options");Ot(this,"renderer");Ot(this,"textRenderer");this.options=t||Si,this.options.renderer=this.options.renderer||new uo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hh}static parse(t,r){return new ic(r).parse(t)}static parseInline(t,r){return new ic(r).parseInline(t)}parse(t,r=!0){var a,n;let i="";for(let o=0;o<t.length;o++){let s=t[o];if((n=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&n[s.type]){let c=s,h=this.options.extensions.renderers[c.type].call({parser:this},c);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){i+=h||"";continue}}let l=s;switch(l.type){case"space":{i+=this.renderer.space(l);continue}case"hr":{i+=this.renderer.hr(l);continue}case"heading":{i+=this.renderer.heading(l);continue}case"code":{i+=this.renderer.code(l);continue}case"table":{i+=this.renderer.table(l);continue}case"blockquote":{i+=this.renderer.blockquote(l);continue}case"list":{i+=this.renderer.list(l);continue}case"html":{i+=this.renderer.html(l);continue}case"paragraph":{i+=this.renderer.paragraph(l);continue}case"text":{let c=l,h=this.renderer.text(c);for(;o+1<t.length&&t[o+1].type==="text";)c=t[++o],h+=`
`+this.renderer.text(c);r?i+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):i+=h;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return i}parseInline(t,r=this.renderer){var a,n;let i="";for(let o=0;o<t.length;o++){let s=t[o];if((n=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&n[s.type]){let c=this.options.extensions.renderers[s.type].call({parser:this},s);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=c||"";continue}}let l=s;switch(l.type){case"escape":{i+=r.text(l);break}case"html":{i+=r.html(l);break}case"link":{i+=r.link(l);break}case"image":{i+=r.image(l);break}case"strong":{i+=r.strong(l);break}case"em":{i+=r.em(l);break}case"codespan":{i+=r.codespan(l);break}case"br":{i+=r.br(l);break}case"del":{i+=r.del(l);break}case"text":{i+=r.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return i}},vl,$s=(vl=class{constructor(t){Ot(this,"options");Ot(this,"block");this.options=t||Si}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?kr.lex:kr.lexInline}provideParser(){return this.block?Sr.parse:Sr.parseInline}},Ot(vl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),vl),hT=class{constructor(...t){Ot(this,"defaults",rh());Ot(this,"options",this.setOptions);Ot(this,"parse",this.parseMarkdown(!0));Ot(this,"parseInline",this.parseMarkdown(!1));Ot(this,"Parser",Sr);Ot(this,"Renderer",uo);Ot(this,"TextRenderer",hh);Ot(this,"Lexer",kr);Ot(this,"Tokenizer",ho);Ot(this,"Hooks",$s);this.use(...t)}walkTokens(t,r){var a,n;let i=[];for(let o of t)switch(i=i.concat(r.call(this,o)),o.type){case"table":{let s=o;for(let l of s.header)i=i.concat(this.walkTokens(l.tokens,r));for(let l of s.rows)for(let c of l)i=i.concat(this.walkTokens(c.tokens,r));break}case"list":{let s=o;i=i.concat(this.walkTokens(s.items,r));break}default:{let s=o;(n=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&n[s.type]?this.defaults.extensions.childTokens[s.type].forEach(l=>{let c=s[l].flat(1/0);i=i.concat(this.walkTokens(c,r))}):s.tokens&&(i=i.concat(this.walkTokens(s.tokens,r)))}}return i}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let a={...i};if(a.async=this.defaults.async||a.async||!1,i.extensions&&(i.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let o=r.renderers[n.name];o?r.renderers[n.name]=function(...s){let l=n.renderer.apply(this,s);return l===!1&&(l=o.apply(this,s)),l}:r.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=r[n.level];o?o.unshift(n.tokenizer):r[n.level]=[n.tokenizer],n.start&&(n.level==="block"?r.startBlock?r.startBlock.push(n.start):r.startBlock=[n.start]:n.level==="inline"&&(r.startInline?r.startInline.push(n.start):r.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(r.childTokens[n.name]=n.childTokens)}),a.extensions=r),i.renderer){let n=this.defaults.renderer||new uo(this.defaults);for(let o in i.renderer){if(!(o in n))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let s=o,l=i.renderer[s],c=n[s];n[s]=(...h)=>{let u=l.apply(n,h);return u===!1&&(u=c.apply(n,h)),u||""}}a.renderer=n}if(i.tokenizer){let n=this.defaults.tokenizer||new ho(this.defaults);for(let o in i.tokenizer){if(!(o in n))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let s=o,l=i.tokenizer[s],c=n[s];n[s]=(...h)=>{let u=l.apply(n,h);return u===!1&&(u=c.apply(n,h)),u}}a.tokenizer=n}if(i.hooks){let n=this.defaults.hooks||new $s;for(let o in i.hooks){if(!(o in n))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let s=o,l=i.hooks[s],c=n[s];$s.passThroughHooks.has(o)?n[s]=h=>{if(this.defaults.async)return Promise.resolve(l.call(n,h)).then(p=>c.call(n,p));let u=l.call(n,h);return c.call(n,u)}:n[s]=(...h)=>{let u=l.apply(n,h);return u===!1&&(u=c.apply(n,h)),u}}a.hooks=n}if(i.walkTokens){let n=this.defaults.walkTokens,o=i.walkTokens;a.walkTokens=function(s){let l=[];return l.push(o.call(this,s)),n&&(l=l.concat(n.call(this,s))),l}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return kr.lex(t,r??this.defaults)}parser(t,r){return Sr.parse(t,r??this.defaults)}parseMarkdown(t){return(r,i)=>{let a={...i},n={...this.defaults,...a},o=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));n.hooks&&(n.hooks.options=n,n.hooks.block=t);let s=n.hooks?n.hooks.provideLexer():t?kr.lex:kr.lexInline,l=n.hooks?n.hooks.provideParser():t?Sr.parse:Sr.parseInline;if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(r):r).then(c=>s(c,n)).then(c=>n.hooks?n.hooks.processAllTokens(c):c).then(c=>n.walkTokens?Promise.all(this.walkTokens(c,n.walkTokens)).then(()=>c):c).then(c=>l(c,n)).then(c=>n.hooks?n.hooks.postprocess(c):c).catch(o);try{n.hooks&&(r=n.hooks.preprocess(r));let c=s(r,n);n.hooks&&(c=n.hooks.processAllTokens(c)),n.walkTokens&&this.walkTokens(c,n.walkTokens);let h=l(c,n);return n.hooks&&(h=n.hooks.postprocess(h)),h}catch(c){return o(c)}}}onError(t,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let a="<p>An error occurred:</p><pre>"+er(i.message+"",!0)+"</pre>";return r?Promise.resolve(a):a}if(r)return Promise.reject(i);throw i}}},vi=new hT;function Et(e,t){return vi.parse(e,t)}Et.options=Et.setOptions=function(e){return vi.setOptions(e),Et.defaults=vi.defaults,qg(Et.defaults),Et};Et.getDefaults=rh;Et.defaults=Si;Et.use=function(...e){return vi.use(...e),Et.defaults=vi.defaults,qg(Et.defaults),Et};Et.walkTokens=function(e,t){return vi.walkTokens(e,t)};Et.parseInline=vi.parseInline;Et.Parser=Sr;Et.parser=Sr.parse;Et.Renderer=uo;Et.TextRenderer=hh;Et.Lexer=kr;Et.lexer=kr.lex;Et.Tokenizer=ho;Et.Hooks=$s;Et.parse=Et;Et.options;Et.setOptions;Et.use;Et.walkTokens;Et.parseInline;Sr.parse;kr.lex;function Kg(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var a=i.reduce(function(s,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?s.concat(c.map(function(h){var u,p;return(p=(u=h.match(/[\t ]/g))===null||u===void 0?void 0:u.length)!==null&&p!==void 0?p:0})):s},[]);if(a.length){var n=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");i=i.map(function(s){return s.replace(n,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];return t.forEach(function(s,l){var c=o.match(/(?:^|\n)( *)$/),h=c?c[1]:"",u=s;typeof s=="string"&&s.includes(`
`)&&(u=String(s).split(`
`).map(function(p,d){return d===0?p:""+h+p}).join(`
`)),o+=u+i[l+1]}),o}var uT={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},ac=new Map,Qg=new Map,pT=f(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(I.debug("Registering icon pack:",t.name),"loader"in t)Qg.set(t.name,t.loader);else if("icons"in t)ac.set(t.name,t.icons);else throw I.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Jg=f(async(e,t)=>{const r=dS(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const i=r.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let a=ac.get(i);if(!a){const o=Qg.get(i);if(!o)throw new Error(`Icon set not found: ${r.prefix}`);try{a={...await o(),prefix:i},ac.set(i,a)}catch(s){throw I.error(s),new Error(`Failed to load icon set: ${r.prefix}`)}}const n=mS(a,r.name);if(!n)throw new Error(`Icon not found: ${e}`);return n},"getRegisteredIconData"),dT=f(async e=>{try{return await Jg(e),!0}catch{return!1}},"isIconAvailable"),jn=f(async(e,t,r)=>{let i;try{i=await Jg(e,t==null?void 0:t.fallbackPrefix)}catch(o){I.error(o),i=uT}const a=CS(i,t);return AS(MS(a.body),{...a.attributes,...r})},"getIconSVG");function tm(e,{markdownAutoWrap:t}){const i=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=Kg(i);return t===!1?a.replace(/ /g,"&nbsp;"):a}f(tm,"preprocessMarkdown");function em(e,t={}){const r=tm(e,t),i=Et.lexer(r),a=[[]];let n=0;function o(s,l="normal"){s.type==="text"?s.text.split(`
`).forEach((h,u)=>{u!==0&&(n++,a.push([])),h.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&a[n].push({content:p,type:l})})}):s.type==="strong"||s.type==="em"?s.tokens.forEach(c=>{o(c,s.type)}):s.type==="html"&&a[n].push({content:s.text,type:"normal"})}return f(o,"processNode"),i.forEach(s=>{var l;s.type==="paragraph"?(l=s.tokens)==null||l.forEach(c=>{o(c)}):s.type==="html"&&a[n].push({content:s.text,type:"normal"})}),a}f(em,"markdownToLines");function rm(e,{markdownAutoWrap:t}={}){const r=Et.lexer(e);function i(a){var n,o,s;return a.type==="text"?t===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${(n=a.tokens)==null?void 0:n.map(i).join("")}</strong>`:a.type==="em"?`<em>${(o=a.tokens)==null?void 0:o.map(i).join("")}</em>`:a.type==="paragraph"?`<p>${(s=a.tokens)==null?void 0:s.map(i).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:`Unsupported markdown: ${a.type}`}return f(i,"output"),r.map(i).join("")}f(rm,"markdownToHTML");function im(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}f(im,"splitTextToChars");function am(e,t){const r=im(t.content);return uh(e,[],r,t.type)}f(am,"splitWordToFitWidth");function uh(e,t,r,i){if(r.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[a,...n]=r,o=[...t,a];return e([{content:o.join(""),type:i}])?uh(e,o,n,i):(t.length===0&&a&&(t.push(a),r.shift()),[{content:t.join(""),type:i},{content:r.join(""),type:i}])}f(uh,"splitWordToFitWidthRecursion");function nm(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return po(e,t)}f(nm,"splitLineToFitWidth");function po(e,t,r=[],i=[]){if(e.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let a="";e[0].content===" "&&(a=" ",e.shift());const n=e.shift()??{content:" ",type:"normal"},o=[...i];if(a!==""&&o.push({content:a,type:"normal"}),o.push(n),t(o))return po(e,t,r,o);if(i.length>0)r.push(i),e.unshift(n);else if(n.content){const[s,l]=am(t,n);r.push([s]),l.content&&e.unshift(l)}return po(e,t,r)}f(po,"splitLineToFitWidthRecursion");function nc(e,t){t&&e.attr("style",t)}f(nc,"applyStyle");async function sm(e,t,r,i,a=!1){const n=e.append("foreignObject");n.attr("width",`${10*r}px`),n.attr("height",`${10*r}px`);const o=n.append("xhtml:div");let s=t.label;t.label&&fa(t.label)&&(s=await _c(t.label.replace(_a.lineBreakRegex,`
`),Lt()));const l=t.isNode?"nodeLabel":"edgeLabel",c=o.append("span");c.html(s),nc(c,t.labelStyle),c.attr("class",`${l} ${i}`),nc(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&o.attr("class","labelBkg");let h=o.node().getBoundingClientRect();return h.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),h=o.node().getBoundingClientRect()),n.node()}f(sm,"addHtmlSpan");function qo(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}f(qo,"createTspan");function om(e,t,r){const i=e.append("text"),a=qo(i,1,t);zo(a,r);const n=a.node().getComputedTextLength();return i.remove(),n}f(om,"computeWidthOfText");function fT(e,t,r){var o;const i=e.append("text"),a=qo(i,1,t);zo(a,[{content:r,type:"normal"}]);const n=(o=a.node())==null?void 0:o.getBoundingClientRect();return n&&i.remove(),n}f(fT,"computeDimensionOfText");function lm(e,t,r,i=!1){const n=t.append("g"),o=n.insert("rect").attr("class","background").attr("style","stroke: none"),s=n.append("text").attr("y","-10.1");let l=0;for(const c of r){const h=f(p=>om(n,1.1,p)<=e,"checkWidth"),u=h(c)?[c]:nm(c,h);for(const p of u){const d=qo(s,l,1.1);zo(d,p),l++}}if(i){const c=s.node().getBBox(),h=2;return o.attr("x",c.x-h).attr("y",c.y-h).attr("width",c.width+2*h).attr("height",c.height+2*h),n.node()}else return s.node()}f(lm,"createFormattedText");function zo(e,t){e.text(""),t.forEach((r,i)=>{const a=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?a.text(r.content):a.text(" "+r.content)})}f(zo,"updateTextContentAndStyles");async function cm(e){const t=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,a,n)=>(t.push((async()=>{const o=`${a}:${n}`;return await dT(o)?await jn(o,void 0,{class:"label-icon"}):`<i class='${ko(i).replace(":"," ")}'></i>`})()),i));const r=await Promise.all(t);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}f(cm,"replaceIconSubstring");var Ur=f(async(e,t="",{style:r="",isTitle:i=!1,classes:a="",useHtmlLabels:n=!0,isNode:o=!0,width:s=200,addSvgBackground:l=!1}={},c)=>{if(I.debug("XYZ createText",t,r,i,a,n,o,"addSvgBackground: ",l),n){const h=rm(t,c),u=await cm(ki(h)),p=t.replace(/\\\\/g,"\\"),d={isNode:o,label:fa(t)?p:u,labelStyle:r.replace("fill:","color:")};return await sm(e,d,s,a,l)}else{const h=t.replace(/<br\s*\/?>/g,"<br/>"),u=em(h.replace("<br>","<br/>"),c),p=lm(s,e,u,t?l:!1);if(o){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const d=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Tt(p).attr("style",d)}else{const d=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Tt(p).select("rect").attr("style",d.replace(/background:/g,"fill:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Tt(p).select("text").attr("style",g)}return p}},"createText");function ul(e,t,r){if(e&&e.length){const[i,a]=t,n=Math.PI/180*r,o=Math.cos(n),s=Math.sin(n);for(const l of e){const[c,h]=l;l[0]=(c-i)*o-(h-a)*s+i,l[1]=(c-i)*s+(h-a)*o+a}}}function gT(e,t){return e[0]===t[0]&&e[1]===t[1]}function mT(e,t,r,i=1){const a=r,n=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,s=[0,0];if(a)for(const c of o)ul(c,s,a);const l=function(c,h,u){const p=[];for(const v of c){const w=[...v];gT(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&p.push(w)}const d=[];h=Math.max(h,.1);const g=[];for(const v of p)for(let w=0;w<v.length-1;w++){const T=v[w],S=v[w+1];if(T[1]!==S[1]){const x=Math.min(T[1],S[1]);g.push({ymin:x,ymax:Math.max(T[1],S[1]),x:x===T[1]?T[0]:S[0],islope:(S[0]-T[0])/(S[1]-T[1])})}}if(g.sort((v,w)=>v.ymin<w.ymin?-1:v.ymin>w.ymin?1:v.x<w.x?-1:v.x>w.x?1:v.ymax===w.ymax?0:(v.ymax-w.ymax)/Math.abs(v.ymax-w.ymax)),!g.length)return d;let m=[],y=g[0].ymin,b=0;for(;m.length||g.length;){if(g.length){let v=-1;for(let w=0;w<g.length&&!(g[w].ymin>y);w++)v=w;g.splice(0,v+1).forEach(w=>{m.push({s:y,edge:w})})}if(m=m.filter(v=>!(v.edge.ymax<=y)),m.sort((v,w)=>v.edge.x===w.edge.x?0:(v.edge.x-w.edge.x)/Math.abs(v.edge.x-w.edge.x)),(u!==1||b%h==0)&&m.length>1)for(let v=0;v<m.length;v+=2){const w=v+1;if(w>=m.length)break;const T=m[v].edge,S=m[w].edge;d.push([[Math.round(T.x),y],[Math.round(S.x),y]])}y+=u,m.forEach(v=>{v.edge.x=v.edge.x+u*v.edge.islope}),b++}return d}(o,n,i);if(a){for(const c of o)ul(c,s,-a);(function(c,h,u){const p=[];c.forEach(d=>p.push(...d)),ul(p,h,u)})(l,s,-a)}return l}function Vn(e,t){var r;const i=t.hachureAngle+90;let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let n=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(n=a),mT(e,a,i,n||1)}class ph{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const i=Vn(t,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(t,r){const i=[];for(const a of t)i.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],r));return i}}function Wo(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class yT extends ph{fillPolygons(t,r){let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);const a=Vn(t,Object.assign({},r,{hachureGap:i})),n=Math.PI/180*r.hachureAngle,o=[],s=.5*i*Math.cos(n),l=.5*i*Math.sin(n);for(const[c,h]of a)Wo([c,h])&&o.push([[c[0]-s,c[1]+l],[...h]],[[c[0]+s,c[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class bT extends ph{fillPolygons(t,r){const i=this._fillPolygons(t,r),a=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),n=this._fillPolygons(t,a);return i.ops=i.ops.concat(n.ops),i}}class vT{constructor(t){this.helper=t}fillPolygons(t,r){const i=Vn(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(i,r)}dotsOnLines(t,r){const i=[];let a=r.hachureGap;a<0&&(a=4*r.strokeWidth),a=Math.max(a,.1);let n=r.fillWeight;n<0&&(n=r.strokeWidth/2);const o=a/4;for(const s of t){const l=Wo(s),c=l/a,h=Math.ceil(c)-1,u=l-h*a,p=(s[0][0]+s[1][0])/2-a/4,d=Math.min(s[0][1],s[1][1]);for(let g=0;g<h;g++){const m=d+u+g*a,y=p-o+2*Math.random()*o,b=m-o+2*Math.random()*o,v=this.helper.ellipse(y,b,n,n,r);i.push(...v.ops)}}return{type:"fillSketch",ops:i}}}class xT{constructor(t){this.helper=t}fillPolygons(t,r){const i=Vn(t,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(t,r){const i=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,a=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,n=[];return t.forEach(o=>{const s=Wo(o),l=Math.floor(s/(i+a)),c=(s+a-l*(i+a))/2;let h=o[0],u=o[1];h[0]>u[0]&&(h=o[1],u=o[0]);const p=Math.atan((u[1]-h[1])/(u[0]-h[0]));for(let d=0;d<l;d++){const g=d*(i+a),m=g+i,y=[h[0]+g*Math.cos(p)+c*Math.cos(p),h[1]+g*Math.sin(p)+c*Math.sin(p)],b=[h[0]+m*Math.cos(p)+c*Math.cos(p),h[1]+m*Math.sin(p)+c*Math.sin(p)];n.push(...this.helper.doubleLineOps(y[0],y[1],b[0],b[1],r))}}),n}}class _T{constructor(t){this.helper=t}fillPolygons(t,r){const i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,a=r.zigzagOffset<0?i:r.zigzagOffset,n=Vn(t,r=Object.assign({},r,{hachureGap:i+a}));return{type:"fillSketch",ops:this.zigzagLines(n,a,r)}}zigzagLines(t,r,i){const a=[];return t.forEach(n=>{const o=Wo(n),s=Math.round(o/(2*r));let l=n[0],c=n[1];l[0]>c[0]&&(l=n[1],c=n[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let u=0;u<s;u++){const p=2*u*r,d=2*(u+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[l[0]+d*Math.cos(h),l[1]+d*Math.sin(h)],b=[m[0]+g*Math.cos(h+Math.PI/4),m[1]+g*Math.sin(h+Math.PI/4)];a.push(...this.helper.doubleLineOps(m[0],m[1],b[0],b[1],i),...this.helper.doubleLineOps(b[0],b[1],y[0],y[1],i))}}),a}}const Te={};class wT{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const CT=0,pl=1,Iu=2,bs={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function dl(e,t){return e.type===t}function dh(e){const t=[],r=function(o){const s=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:CT,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];s[s.length]={type:pl,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return s[s.length]={type:Iu,text:""},s}(e);let i="BOD",a=0,n=r[a];for(;!dl(n,Iu);){let o=0;const s=[];if(i==="BOD"){if(n.text!=="M"&&n.text!=="m")return dh("M0,0"+e);a++,o=bs[n.text],i=n.text}else dl(n,pl)?o=bs[i]:(a++,o=bs[n.text],i=n.text);if(!(a+o<r.length))throw new Error("Path data ended short");for(let l=a;l<a+o;l++){const c=r[l];if(!dl(c,pl))throw new Error("Param not a number: "+i+","+c.text);s[s.length]=+c.text}if(typeof bs[i]!="number")throw new Error("Bad segment: "+i);{const l={key:i,data:s};t.push(l),a+=o,n=r[a],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function hm(e){let t=0,r=0,i=0,a=0;const n=[];for(const{key:o,data:s}of e)switch(o){case"M":n.push({key:"M",data:[...s]}),[t,r]=s,[i,a]=s;break;case"m":t+=s[0],r+=s[1],n.push({key:"M",data:[t,r]}),i=t,a=r;break;case"L":n.push({key:"L",data:[...s]}),[t,r]=s;break;case"l":t+=s[0],r+=s[1],n.push({key:"L",data:[t,r]});break;case"C":n.push({key:"C",data:[...s]}),t=s[4],r=s[5];break;case"c":{const l=s.map((c,h)=>h%2?c+r:c+t);n.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":n.push({key:"Q",data:[...s]}),t=s[2],r=s[3];break;case"q":{const l=s.map((c,h)=>h%2?c+r:c+t);n.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":n.push({key:"A",data:[...s]}),t=s[5],r=s[6];break;case"a":t+=s[5],r+=s[6],n.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,r]});break;case"H":n.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],n.push({key:"H",data:[t]});break;case"V":n.push({key:"V",data:[...s]}),r=s[0];break;case"v":r+=s[0],n.push({key:"V",data:[r]});break;case"S":n.push({key:"S",data:[...s]}),t=s[2],r=s[3];break;case"s":{const l=s.map((c,h)=>h%2?c+r:c+t);n.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":n.push({key:"T",data:[...s]}),t=s[0],r=s[1];break;case"t":t+=s[0],r+=s[1],n.push({key:"T",data:[t,r]});break;case"Z":case"z":n.push({key:"Z",data:[]}),t=i,r=a}return n}function um(e){const t=[];let r="",i=0,a=0,n=0,o=0,s=0,l=0;for(const{key:c,data:h}of e){switch(c){case"M":t.push({key:"M",data:[...h]}),[i,a]=h,[n,o]=h;break;case"C":t.push({key:"C",data:[...h]}),i=h[4],a=h[5],s=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[i,a]=h;break;case"H":i=h[0],t.push({key:"L",data:[i,a]});break;case"V":a=h[0],t.push({key:"L",data:[i,a]});break;case"S":{let u=0,p=0;r==="C"||r==="S"?(u=i+(i-s),p=a+(a-l)):(u=i,p=a),t.push({key:"C",data:[u,p,...h]}),s=h[0],l=h[1],i=h[2],a=h[3];break}case"T":{const[u,p]=h;let d=0,g=0;r==="Q"||r==="T"?(d=i+(i-s),g=a+(a-l)):(d=i,g=a);const m=i+2*(d-i)/3,y=a+2*(g-a)/3,b=u+2*(d-u)/3,v=p+2*(g-p)/3;t.push({key:"C",data:[m,y,b,v,u,p]}),s=d,l=g,i=u,a=p;break}case"Q":{const[u,p,d,g]=h,m=i+2*(u-i)/3,y=a+2*(p-a)/3,b=d+2*(u-d)/3,v=g+2*(p-g)/3;t.push({key:"C",data:[m,y,b,v,d,g]}),s=u,l=p,i=d,a=g;break}case"A":{const u=Math.abs(h[0]),p=Math.abs(h[1]),d=h[2],g=h[3],m=h[4],y=h[5],b=h[6];u===0||p===0?(t.push({key:"C",data:[i,a,y,b,y,b]}),i=y,a=b):(i!==y||a!==b)&&(pm(i,a,y,b,u,p,d,g,m).forEach(function(v){t.push({key:"C",data:v})}),i=y,a=b);break}case"Z":t.push({key:"Z",data:[]}),i=n,a=o}r=c}return t}function ln(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function pm(e,t,r,i,a,n,o,s,l,c){const h=(u=o,Math.PI*u/180);var u;let p=[],d=0,g=0,m=0,y=0;if(c)[d,g,m,y]=c;else{[e,t]=ln(e,t,-h),[r,i]=ln(r,i,-h);const O=(e-r)/2,E=(t-i)/2;let F=O*O/(a*a)+E*E/(n*n);F>1&&(F=Math.sqrt(F),a*=F,n*=F);const L=a*a,D=n*n,$=L*D-L*E*E-D*O*O,X=L*E*E+D*O*O,et=(s===l?-1:1)*Math.sqrt(Math.abs($/X));m=et*a*E/n+(e+r)/2,y=et*-n*O/a+(t+i)/2,d=Math.asin(parseFloat(((t-y)/n).toFixed(9))),g=Math.asin(parseFloat(((i-y)/n).toFixed(9))),e<m&&(d=Math.PI-d),r<m&&(g=Math.PI-g),d<0&&(d=2*Math.PI+d),g<0&&(g=2*Math.PI+g),l&&d>g&&(d-=2*Math.PI),!l&&g>d&&(g-=2*Math.PI)}let b=g-d;if(Math.abs(b)>120*Math.PI/180){const O=g,E=r,F=i;g=l&&g>d?d+120*Math.PI/180*1:d+120*Math.PI/180*-1,p=pm(r=m+a*Math.cos(g),i=y+n*Math.sin(g),E,F,a,n,o,0,l,[g,O,m,y])}b=g-d;const v=Math.cos(d),w=Math.sin(d),T=Math.cos(g),S=Math.sin(g),x=Math.tan(b/4),M=4/3*a*x,N=4/3*n*x,V=[e,t],z=[e+M*w,t-N*v],P=[r+M*S,i-N*T],U=[r,i];if(z[0]=2*V[0]-z[0],z[1]=2*V[1]-z[1],c)return[z,P,U].concat(p);{p=[z,P,U].concat(p);const O=[];for(let E=0;E<p.length;E+=3){const F=ln(p[E][0],p[E][1],h),L=ln(p[E+1][0],p[E+1][1],h),D=ln(p[E+2][0],p[E+2][1],h);O.push([F[0],F[1],L[0],L[1],D[0],D[1]])}return O}}const kT={randOffset:function(e,t){return ft(e,t)},randOffsetWithRange:function(e,t,r){return fo(e,t,r)},ellipse:function(e,t,r,i,a){const n=fm(r,i,a);return sc(e,t,a,n).opset},doubleLineOps:function(e,t,r,i,a){return Hr(e,t,r,i,a,!0)}};function dm(e,t,r,i,a){return{type:"path",ops:Hr(e,t,r,i,a)}}function Fs(e,t,r){const i=(e||[]).length;if(i>2){const a=[];for(let n=0;n<i-1;n++)a.push(...Hr(e[n][0],e[n][1],e[n+1][0],e[n+1][1],r));return t&&a.push(...Hr(e[i-1][0],e[i-1][1],e[0][0],e[0][1],r)),{type:"path",ops:a}}return i===2?dm(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function ST(e,t,r,i,a){return function(n,o){return Fs(n,!0,o)}([[e,t],[e+r,t],[e+r,t+i],[e,t+i]],a)}function Nu(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,i=vs(r[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:vs(r[0],1.5*(1+.22*t.roughness),Wu(t));for(let n=1;n<r.length;n++){const o=r[n];if(o.length){const s=vs(o,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:vs(o,1.5*(1+.22*t.roughness),Wu(t));for(const c of s)c.op!=="move"&&i.push(c);for(const c of l)c.op!=="move"&&a.push(c)}}return{type:"path",ops:i.concat(a)}}return{type:"path",ops:[]}}function fm(e,t,r){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),n=2*Math.PI/a;let o=Math.abs(e/2),s=Math.abs(t/2);const l=1-r.curveFitting;return o+=ft(o*l,r),s+=ft(s*l,r),{increment:n,rx:o,ry:s}}function sc(e,t,r,i){const[a,n]=Hu(i.increment,e,t,i.rx,i.ry,1,i.increment*fo(.1,fo(.4,1,r),r),r);let o=go(a,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[s]=Hu(i.increment,e,t,i.rx,i.ry,1.5,0,r),l=go(s,null,r);o=o.concat(l)}return{estimatedPoints:n,opset:{type:"path",ops:o}}}function qu(e,t,r,i,a,n,o,s,l){const c=e,h=t;let u=Math.abs(r/2),p=Math.abs(i/2);u+=ft(.01*u,l),p+=ft(.01*p,l);let d=a,g=n;for(;d<0;)d+=2*Math.PI,g+=2*Math.PI;g-d>2*Math.PI&&(d=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,y=Math.min(m/2,(g-d)/2),b=ju(y,c,h,u,p,d,g,1,l);if(!l.disableMultiStroke){const v=ju(y,c,h,u,p,d,g,1.5,l);b.push(...v)}return o&&(s?b.push(...Hr(c,h,c+u*Math.cos(d),h+p*Math.sin(d),l),...Hr(c,h,c+u*Math.cos(g),h+p*Math.sin(g),l)):b.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+u*Math.cos(d),h+p*Math.sin(d)]})),{type:"path",ops:b}}function zu(e,t){const r=um(hm(dh(e))),i=[];let a=[0,0],n=[0,0];for(const{key:o,data:s}of r)switch(o){case"M":n=[s[0],s[1]],a=[s[0],s[1]];break;case"L":i.push(...Hr(n[0],n[1],s[0],s[1],t)),n=[s[0],s[1]];break;case"C":{const[l,c,h,u,p,d]=s;i.push(...TT(l,c,h,u,p,d,n,t)),n=[p,d];break}case"Z":i.push(...Hr(n[0],n[1],a[0],a[1],t)),n=[a[0],a[1]]}return{type:"path",ops:i}}function fl(e,t){const r=[];for(const i of e)if(i.length){const a=t.maxRandomnessOffset||0,n=i.length;if(n>2){r.push({op:"move",data:[i[0][0]+ft(a,t),i[0][1]+ft(a,t)]});for(let o=1;o<n;o++)r.push({op:"lineTo",data:[i[o][0]+ft(a,t),i[o][1]+ft(a,t)]})}}return{type:"fillPath",ops:r}}function Zi(e,t){return function(r,i){let a=r.fillStyle||"hachure";if(!Te[a])switch(a){case"zigzag":Te[a]||(Te[a]=new yT(i));break;case"cross-hatch":Te[a]||(Te[a]=new bT(i));break;case"dots":Te[a]||(Te[a]=new vT(i));break;case"dashed":Te[a]||(Te[a]=new xT(i));break;case"zigzag-line":Te[a]||(Te[a]=new _T(i));break;default:a="hachure",Te[a]||(Te[a]=new ph(i))}return Te[a]}(t,kT).fillPolygons(e,t)}function Wu(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function gm(e){return e.randomizer||(e.randomizer=new wT(e.seed||0)),e.randomizer.next()}function fo(e,t,r,i=1){return r.roughness*i*(gm(r)*(t-e)+e)}function ft(e,t,r=1){return fo(-e,e,t,r)}function Hr(e,t,r,i,a,n=!1){const o=n?a.disableMultiStrokeFill:a.disableMultiStroke,s=oc(e,t,r,i,a,!0,!1);if(o)return s;const l=oc(e,t,r,i,a,!0,!0);return s.concat(l)}function oc(e,t,r,i,a,n,o){const s=Math.pow(e-r,2)+Math.pow(t-i,2),l=Math.sqrt(s);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=a.maxRandomnessOffset||0;h*h*100>s&&(h=l/10);const u=h/2,p=.2+.2*gm(a);let d=a.bowing*a.maxRandomnessOffset*(i-t)/200,g=a.bowing*a.maxRandomnessOffset*(e-r)/200;d=ft(d,a,c),g=ft(g,a,c);const m=[],y=()=>ft(u,a,c),b=()=>ft(h,a,c),v=a.preserveVertices;return o?m.push({op:"move",data:[e+(v?0:y()),t+(v?0:y())]}):m.push({op:"move",data:[e+(v?0:ft(h,a,c)),t+(v?0:ft(h,a,c))]}),o?m.push({op:"bcurveTo",data:[d+e+(r-e)*p+y(),g+t+(i-t)*p+y(),d+e+2*(r-e)*p+y(),g+t+2*(i-t)*p+y(),r+(v?0:y()),i+(v?0:y())]}):m.push({op:"bcurveTo",data:[d+e+(r-e)*p+b(),g+t+(i-t)*p+b(),d+e+2*(r-e)*p+b(),g+t+2*(i-t)*p+b(),r+(v?0:b()),i+(v?0:b())]}),m}function vs(e,t,r){if(!e.length)return[];const i=[];i.push([e[0][0]+ft(t,r),e[0][1]+ft(t,r)]),i.push([e[0][0]+ft(t,r),e[0][1]+ft(t,r)]);for(let a=1;a<e.length;a++)i.push([e[a][0]+ft(t,r),e[a][1]+ft(t,r)]),a===e.length-1&&i.push([e[a][0]+ft(t,r),e[a][1]+ft(t,r)]);return go(i,null,r)}function go(e,t,r){const i=e.length,a=[];if(i>3){const n=[],o=1-r.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let s=1;s+2<i;s++){const l=e[s];n[0]=[l[0],l[1]],n[1]=[l[0]+(o*e[s+1][0]-o*e[s-1][0])/6,l[1]+(o*e[s+1][1]-o*e[s-1][1])/6],n[2]=[e[s+1][0]+(o*e[s][0]-o*e[s+2][0])/6,e[s+1][1]+(o*e[s][1]-o*e[s+2][1])/6],n[3]=[e[s+1][0],e[s+1][1]],a.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]]})}}else i===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&a.push(...oc(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return a}function Hu(e,t,r,i,a,n,o,s){const l=[],c=[];if(s.roughness===0){e/=4,c.push([t+i*Math.cos(-e),r+a*Math.sin(-e)]);for(let h=0;h<=2*Math.PI;h+=e){const u=[t+i*Math.cos(h),r+a*Math.sin(h)];l.push(u),c.push(u)}c.push([t+i*Math.cos(0),r+a*Math.sin(0)]),c.push([t+i*Math.cos(e),r+a*Math.sin(e)])}else{const h=ft(.5,s)-Math.PI/2;c.push([ft(n,s)+t+.9*i*Math.cos(h-e),ft(n,s)+r+.9*a*Math.sin(h-e)]);const u=2*Math.PI+h-.01;for(let p=h;p<u;p+=e){const d=[ft(n,s)+t+i*Math.cos(p),ft(n,s)+r+a*Math.sin(p)];l.push(d),c.push(d)}c.push([ft(n,s)+t+i*Math.cos(h+2*Math.PI+.5*o),ft(n,s)+r+a*Math.sin(h+2*Math.PI+.5*o)]),c.push([ft(n,s)+t+.98*i*Math.cos(h+o),ft(n,s)+r+.98*a*Math.sin(h+o)]),c.push([ft(n,s)+t+.9*i*Math.cos(h+.5*o),ft(n,s)+r+.9*a*Math.sin(h+.5*o)])}return[c,l]}function ju(e,t,r,i,a,n,o,s,l){const c=n+ft(.1,l),h=[];h.push([ft(s,l)+t+.9*i*Math.cos(c-e),ft(s,l)+r+.9*a*Math.sin(c-e)]);for(let u=c;u<=o;u+=e)h.push([ft(s,l)+t+i*Math.cos(u),ft(s,l)+r+a*Math.sin(u)]);return h.push([t+i*Math.cos(o),r+a*Math.sin(o)]),h.push([t+i*Math.cos(o),r+a*Math.sin(o)]),go(h,null,l)}function TT(e,t,r,i,a,n,o,s){const l=[],c=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let h=[0,0];const u=s.disableMultiStroke?1:2,p=s.preserveVertices;for(let d=0;d<u;d++)d===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(p?0:ft(c[0],s)),o[1]+(p?0:ft(c[0],s))]}),h=p?[a,n]:[a+ft(c[d],s),n+ft(c[d],s)],l.push({op:"bcurveTo",data:[e+ft(c[d],s),t+ft(c[d],s),r+ft(c[d],s),i+ft(c[d],s),h[0],h[1]]});return l}function cn(e){return[...e]}function Vu(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(r===3)i.push(cn(e[0]),cn(e[1]),cn(e[2]),cn(e[2]));else{const a=[];a.push(e[0],e[0]);for(let s=1;s<e.length;s++)a.push(e[s]),s===e.length-1&&a.push(e[s]);const n=[],o=1-t;i.push(cn(a[0]));for(let s=1;s+2<a.length;s++){const l=a[s];n[0]=[l[0],l[1]],n[1]=[l[0]+(o*a[s+1][0]-o*a[s-1][0])/6,l[1]+(o*a[s+1][1]-o*a[s-1][1])/6],n[2]=[a[s+1][0]+(o*a[s][0]-o*a[s+2][0])/6,a[s+1][1]+(o*a[s][1]-o*a[s+2][1])/6],n[3]=[a[s+1][0],a[s+1][1]],i.push(n[1],n[2],n[3])}}return i}function Ps(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function MT(e,t,r){const i=Ps(t,r);if(i===0)return Ps(e,t);let a=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/i;return a=Math.max(0,Math.min(1,a)),Ps(e,ni(t,r,a))}function ni(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function lc(e,t,r,i){const a=i||[];if(function(s,l){const c=s[l+0],h=s[l+1],u=s[l+2],p=s[l+3];let d=3*h[0]-2*c[0]-p[0];d*=d;let g=3*h[1]-2*c[1]-p[1];g*=g;let m=3*u[0]-2*p[0]-c[0];m*=m;let y=3*u[1]-2*p[1]-c[1];return y*=y,d<m&&(d=m),g<y&&(g=y),d+g}(e,t)<r){const s=e[t+0];a.length?(n=a[a.length-1],o=s,Math.sqrt(Ps(n,o))>1&&a.push(s)):a.push(s),a.push(e[t+3])}else{const l=e[t+0],c=e[t+1],h=e[t+2],u=e[t+3],p=ni(l,c,.5),d=ni(c,h,.5),g=ni(h,u,.5),m=ni(p,d,.5),y=ni(d,g,.5),b=ni(m,y,.5);lc([l,p,m,b],0,r,a),lc([b,y,g,u],0,r,a)}var n,o;return a}function AT(e,t){return mo(e,0,e.length,t)}function mo(e,t,r,i,a){const n=a||[],o=e[t],s=e[r-1];let l=0,c=1;for(let h=t+1;h<r-1;++h){const u=MT(e[h],o,s);u>l&&(l=u,c=h)}return Math.sqrt(l)>i?(mo(e,t,c+1,i,n),mo(e,c,r,i,n)):(n.length||n.push(o),n.push(s)),n}function gl(e,t=.15,r){const i=[],a=(e.length-1)/3;for(let n=0;n<a;n++)lc(e,3*n,t,i);return r&&r>0?mo(i,0,i.length,r):i}const De="none";class yo{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,i){return{shape:t,sets:r||[],options:i||this.defaultOptions}}line(t,r,i,a,n){const o=this._o(n);return this._d("line",[dm(t,r,i,a,o)],o)}rectangle(t,r,i,a,n){const o=this._o(n),s=[],l=ST(t,r,i,a,o);if(o.fill){const c=[[t,r],[t+i,r],[t+i,r+a],[t,r+a]];o.fillStyle==="solid"?s.push(fl([c],o)):s.push(Zi([c],o))}return o.stroke!==De&&s.push(l),this._d("rectangle",s,o)}ellipse(t,r,i,a,n){const o=this._o(n),s=[],l=fm(i,a,o),c=sc(t,r,o,l);if(o.fill)if(o.fillStyle==="solid"){const h=sc(t,r,o,l).opset;h.type="fillPath",s.push(h)}else s.push(Zi([c.estimatedPoints],o));return o.stroke!==De&&s.push(c.opset),this._d("ellipse",s,o)}circle(t,r,i,a){const n=this.ellipse(t,r,i,i,a);return n.shape="circle",n}linearPath(t,r){const i=this._o(r);return this._d("linearPath",[Fs(t,!1,i)],i)}arc(t,r,i,a,n,o,s=!1,l){const c=this._o(l),h=[],u=qu(t,r,i,a,n,o,s,!0,c);if(s&&c.fill)if(c.fillStyle==="solid"){const p=Object.assign({},c);p.disableMultiStroke=!0;const d=qu(t,r,i,a,n,o,!0,!1,p);d.type="fillPath",h.push(d)}else h.push(function(p,d,g,m,y,b,v){const w=p,T=d;let S=Math.abs(g/2),x=Math.abs(m/2);S+=ft(.01*S,v),x+=ft(.01*x,v);let M=y,N=b;for(;M<0;)M+=2*Math.PI,N+=2*Math.PI;N-M>2*Math.PI&&(M=0,N=2*Math.PI);const V=(N-M)/v.curveStepCount,z=[];for(let P=M;P<=N;P+=V)z.push([w+S*Math.cos(P),T+x*Math.sin(P)]);return z.push([w+S*Math.cos(N),T+x*Math.sin(N)]),z.push([w,T]),Zi([z],v)}(t,r,i,a,n,o,c));return c.stroke!==De&&h.push(u),this._d("arc",h,c)}curve(t,r){const i=this._o(r),a=[],n=Nu(t,i);if(i.fill&&i.fill!==De)if(i.fillStyle==="solid"){const o=Nu(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],s=t;if(s.length){const l=typeof s[0][0]=="number"?[s]:s;for(const c of l)c.length<3?o.push(...c):c.length===3?o.push(...gl(Vu([c[0],c[0],c[1],c[2]]),10,(1+i.roughness)/2)):o.push(...gl(Vu(c),10,(1+i.roughness)/2))}o.length&&a.push(Zi([o],i))}return i.stroke!==De&&a.push(n),this._d("curve",a,i)}polygon(t,r){const i=this._o(r),a=[],n=Fs(t,!0,i);return i.fill&&(i.fillStyle==="solid"?a.push(fl([t],i)):a.push(Zi([t],i))),i.stroke!==De&&a.push(n),this._d("polygon",a,i)}path(t,r){const i=this._o(r),a=[];if(!t)return this._d("path",a,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const n=i.fill&&i.fill!=="transparent"&&i.fill!==De,o=i.stroke!==De,s=!!(i.simplification&&i.simplification<1),l=function(h,u,p){const d=um(hm(dh(h))),g=[];let m=[],y=[0,0],b=[];const v=()=>{b.length>=4&&m.push(...gl(b,u)),b=[]},w=()=>{v(),m.length&&(g.push(m),m=[])};for(const{key:S,data:x}of d)switch(S){case"M":w(),y=[x[0],x[1]],m.push(y);break;case"L":v(),m.push([x[0],x[1]]);break;case"C":if(!b.length){const M=m.length?m[m.length-1]:y;b.push([M[0],M[1]])}b.push([x[0],x[1]]),b.push([x[2],x[3]]),b.push([x[4],x[5]]);break;case"Z":v(),m.push([y[0],y[1]])}if(w(),!p)return g;const T=[];for(const S of g){const x=AT(S,p);x.length&&T.push(x)}return T}(t,1,s?4-4*(i.simplification||1):(1+i.roughness)/2),c=zu(t,i);if(n)if(i.fillStyle==="solid")if(l.length===1){const h=zu(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else a.push(fl(l,i));else a.push(Zi(l,i));return o&&(s?l.forEach(h=>{a.push(Fs(h,!1,i))}):a.push(c)),this._d("path",a,i)}opsToPath(t,r){let i="";for(const a of t.ops){const n=typeof r=="number"&&r>=0?a.data.map(o=>+o.toFixed(r)):a.data;switch(a.op){case"move":i+=`M${n[0]} ${n[1]} `;break;case"bcurveTo":i+=`C${n[0]} ${n[1]}, ${n[2]} ${n[3]}, ${n[4]} ${n[5]} `;break;case"lineTo":i+=`L${n[0]} ${n[1]} `}}return i.trim()}toPaths(t){const r=t.sets||[],i=t.options||this.defaultOptions,a=[];for(const n of r){let o=null;switch(n.type){case"path":o={d:this.opsToPath(n),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:De};break;case"fillPath":o={d:this.opsToPath(n),stroke:De,strokeWidth:0,fill:i.fill||De};break;case"fillSketch":o=this.fillSketch(n,i)}o&&a.push(o)}return a}fillSketch(t,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||De,strokeWidth:i,fill:De}}_mergedShape(t){return t.filter((r,i)=>i===0||r.op!=="move")}}class BT{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new yo(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),a=this.ctx,n=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":a.save(),a.strokeStyle=i.stroke==="none"?"transparent":i.stroke,a.lineWidth=i.strokeWidth,i.strokeLineDash&&a.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(a.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(a,o,n),a.restore();break;case"fillPath":{a.save(),a.fillStyle=i.fill||"";const s=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,o,n,s),a.restore();break}case"fillSketch":this.fillSketch(a,o,i)}}fillSketch(t,r,i){let a=i.fillWeight;a<0&&(a=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=a,this._drawToContext(t,r,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,i,a="nonzero"){t.beginPath();for(const n of r.ops){const o=typeof i=="number"&&i>=0?n.data.map(s=>+s.toFixed(i)):n.data;switch(n.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,i,a,n){const o=this.gen.line(t,r,i,a,n);return this.draw(o),o}rectangle(t,r,i,a,n){const o=this.gen.rectangle(t,r,i,a,n);return this.draw(o),o}ellipse(t,r,i,a,n){const o=this.gen.ellipse(t,r,i,a,n);return this.draw(o),o}circle(t,r,i,a){const n=this.gen.circle(t,r,i,a);return this.draw(n),n}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i),i}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i),i}arc(t,r,i,a,n,o,s=!1,l){const c=this.gen.arc(t,r,i,a,n,o,s,l);return this.draw(c),c}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i),i}path(t,r){const i=this.gen.path(t,r);return this.draw(i),i}}const xs="http://www.w3.org/2000/svg";class LT{constructor(t,r){this.svg=t,this.gen=new yo(r)}draw(t){const r=t.sets||[],i=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,n=a.createElementNS(xs,"g"),o=t.options.fixedDecimalPlaceDigits;for(const s of r){let l=null;switch(s.type){case"path":l=a.createElementNS(xs,"path"),l.setAttribute("d",this.opsToPath(s,o)),l.setAttribute("stroke",i.stroke),l.setAttribute("stroke-width",i.strokeWidth+""),l.setAttribute("fill","none"),i.strokeLineDash&&l.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":l=a.createElementNS(xs,"path"),l.setAttribute("d",this.opsToPath(s,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(a,s,i)}l&&n.appendChild(l)}return n}fillSketch(t,r,i){let a=i.fillWeight;a<0&&(a=i.strokeWidth/2);const n=t.createElementNS(xs,"path");return n.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),n.setAttribute("stroke",i.fill||""),n.setAttribute("stroke-width",a+""),n.setAttribute("fill","none"),i.fillLineDash&&n.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&n.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),n}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,i,a,n){const o=this.gen.line(t,r,i,a,n);return this.draw(o)}rectangle(t,r,i,a,n){const o=this.gen.rectangle(t,r,i,a,n);return this.draw(o)}ellipse(t,r,i,a,n){const o=this.gen.ellipse(t,r,i,a,n);return this.draw(o)}circle(t,r,i,a){const n=this.gen.circle(t,r,i,a);return this.draw(n)}linearPath(t,r){const i=this.gen.linearPath(t,r);return this.draw(i)}polygon(t,r){const i=this.gen.polygon(t,r);return this.draw(i)}arc(t,r,i,a,n,o,s=!1,l){const c=this.gen.arc(t,r,i,a,n,o,s,l);return this.draw(c)}curve(t,r){const i=this.gen.curve(t,r);return this.draw(i)}path(t,r){const i=this.gen.path(t,r);return this.draw(i)}}var at={canvas:(e,t)=>new BT(e,t),svg:(e,t)=>new LT(e,t),generator:e=>new yo(e),newSeed:()=>yo.newSeed()},yt=f(async(e,t,r)=>{var u,p;let i;const a=t.useHtmlLabels||re((u=Lt())==null?void 0:u.htmlLabels);r?i=r:i="node default";const n=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=n.insert("g").attr("class","label").attr("style",_e(t.labelStyle));let s;t.label===void 0?s="":s=typeof t.label=="string"?t.label:t.label[0];const l=await Ur(o,gi(ki(s),Lt()),{useHtmlLabels:a,width:t.width||((p=Lt().flowchart)==null?void 0:p.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let c=l.getBBox();const h=((t==null?void 0:t.padding)??0)/2;if(a){const d=l.children[0],g=Tt(l),m=d.getElementsByTagName("img");if(m){const y=s.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(b=>new Promise(v=>{function w(){if(b.style.display="flex",b.style.flexDirection="column",y){const T=Lt().fontSize?Lt().fontSize:window.getComputedStyle(document.body).fontSize,S=5,[x=Mp.fontSize]=Oo(T),M=x*S+"px";b.style.minWidth=M,b.style.maxWidth=M}else b.style.width="100%";v(b)}f(w,"setupImage"),setTimeout(()=>{b.complete&&w()}),b.addEventListener("error",w),b.addEventListener("load",w)})))}c=d.getBoundingClientRect(),g.attr("width",c.width),g.attr("height",c.height)}return a?o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):o.attr("transform","translate(0, "+-c.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:n,bbox:c,halfPadding:h,label:o}},"labelHelper"),ml=f(async(e,t,r)=>{var l,c,h,u,p,d;const i=r.useHtmlLabels||re((c=(l=Lt())==null?void 0:l.flowchart)==null?void 0:c.htmlLabels),a=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),n=await Ur(a,gi(ki(t),Lt()),{useHtmlLabels:i,width:r.width||((u=(h=Lt())==null?void 0:h.flowchart)==null?void 0:u.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let o=n.getBBox();const s=r.padding/2;if(re((d=(p=Lt())==null?void 0:p.flowchart)==null?void 0:d.htmlLabels)){const g=n.children[0],m=Tt(n);o=g.getBoundingClientRect(),m.attr("width",o.width),m.attr("height",o.height)}return i?a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):a.attr("transform","translate(0, "+-o.height/2+")"),r.centerLabel&&a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:s,label:a}},"insertLabel"),ot=f((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),gt=f((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Mt(e){const t=e.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}f(Mt,"createPathFromPoints");function jr(e,t,r,i,a,n){const o=[],l=r-e,c=i-t,h=l/n,u=2*Math.PI/h,p=t+c/2;for(let d=0;d<=50;d++){const g=d/50,m=e+g*l,y=p+a*Math.sin(u*(m-e));o.push({x:m,y})}return o}f(jr,"generateFullSineWavePoints");function fh(e,t,r,i,a,n){const o=[],s=a*Math.PI/180,h=(n*Math.PI/180-s)/(i-1);for(let u=0;u<i;u++){const p=s+u*h,d=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:-d,y:-g})}return o}f(fh,"generateCirclePoints");var ET=f((e,t)=>{var r=e.x,i=e.y,a=t.x-r,n=t.y-i,o=e.width/2,s=e.height/2,l,c;return Math.abs(n)*o>Math.abs(a)*s?(n<0&&(s=-s),l=n===0?0:s*a/n,c=s):(a<0&&(o=-o),l=o,c=a===0?0:o*n/a),{x:r+l,y:i+c}},"intersectRect"),Sa=ET;function mm(e,t){t&&e.attr("style",t)}f(mm,"applyStyle");async function ym(e){const t=Tt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div");let i=e.label;e.label&&fa(e.label)&&(i=await _c(e.label.replace(_a.lineBreakRegex,`
`),Lt()));const a=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+a+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>"),mm(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}f(ym,"addHtmlLabel");var $T=f(async(e,t,r,i)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),re(Lt().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),I.info("vertexText"+a);const n={isNode:i,label:ki(a).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await ym(n)}else{const n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof a=="string"?o=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?o=a:o=[];for(const s of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=s.trim(),n.appendChild(l)}return n}},"createLabel"),ui=$T,Er=f((e,t,r,i,a)=>["M",e+a,t,"H",e+r-a,"A",a,a,0,0,1,e+r,t+a,"V",t+i-a,"A",a,a,0,0,1,e+r-a,t+i,"H",e+a,"A",a,a,0,0,1,e,t+i-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD"),bm=f(async(e,t)=>{I.info("Creating subgraph rect for ",t.id,t);const r=Lt(),{themeVariables:i,handDrawnSeed:a}=r,{clusterBkg:n,clusterBorder:o}=i,{labelStyles:s,nodeStyles:l,borderStyles:c,backgroundStyles:h}=lt(t),u=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),p=re(r.flowchart.htmlLabels),d=u.insert("g").attr("class","cluster-label "),g=await Ur(d,t.label,{style:t.labelStyle,useHtmlLabels:p,isNode:!0});let m=g.getBBox();if(re(r.flowchart.htmlLabels)){const M=g.children[0],N=Tt(g);m=M.getBoundingClientRect(),N.attr("width",m.width),N.attr("height",m.height)}const y=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height,v=t.x-y/2,w=t.y-b/2;I.trace("Data ",t,JSON.stringify(t));let T;if(t.look==="handDrawn"){const M=at.svg(u),N=nt(t,{roughness:.7,fill:n,stroke:o,fillWeight:3,seed:a}),V=M.path(Er(v,w,y,b,0),N);T=u.insert(()=>(I.debug("Rough node insert CXC",V),V),":first-child"),T.select("path:nth-child(2)").attr("style",c.join(";")),T.select("path").attr("style",h.join(";").replace("fill","stroke"))}else T=u.insert("rect",":first-child"),T.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",w).attr("width",y).attr("height",b);const{subGraphTitleTopMargin:S}=Fc(r);if(d.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+S})`),s){const M=d.select("span");M&&M.attr("style",s)}const x=T.node().getBBox();return t.offsetX=0,t.width=x.width,t.height=x.height,t.offsetY=m.height-t.padding/2,t.intersect=function(M){return Sa(t,M)},{cluster:u,labelBBox:m}},"rect"),FT=f((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=r.insert("rect",":first-child"),a=0*t.padding,n=a/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-n).attr("y",t.y-t.height/2-n).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");const o=i.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(s){return Sa(t,s)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),PT=f(async(e,t)=>{const r=Lt(),{themeVariables:i,handDrawnSeed:a}=r,{altBackground:n,compositeBackground:o,compositeTitleBackground:s,nodeBorder:l}=i,c=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),h=c.insert("g",":first-child"),u=c.insert("g").attr("class","cluster-label");let p=c.append("rect");const d=u.node().appendChild(await ui(t.label,t.labelStyle,void 0,!0));let g=d.getBBox();if(re(r.flowchart.htmlLabels)){const V=d.children[0],z=Tt(d);g=V.getBoundingClientRect(),z.attr("width",g.width),z.attr("height",g.height)}const m=0*t.padding,y=m/2,b=(t.width<=g.width+t.padding?g.width+t.padding:t.width)+m;t.width<=g.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const v=t.height+m,w=t.height+m-g.height-6,T=t.x-b/2,S=t.y-v/2;t.width=b;const x=t.y-t.height/2-y+g.height+2;let M;if(t.look==="handDrawn"){const V=t.cssClasses.includes("statediagram-cluster-alt"),z=at.svg(c),P=t.rx||t.ry?z.path(Er(T,S,b,v,10),{roughness:.7,fill:s,fillStyle:"solid",stroke:l,seed:a}):z.rectangle(T,S,b,v,{seed:a});M=c.insert(()=>P,":first-child");const U=z.rectangle(T,x,b,w,{fill:V?n:o,fillStyle:V?"hachure":"solid",stroke:l,seed:a});M=c.insert(()=>P,":first-child"),p=c.insert(()=>U)}else M=h.insert("rect",":first-child"),M.attr("class","outer").attr("x",T).attr("y",S).attr("width",b).attr("height",v).attr("data-look",t.look),p.attr("class","inner").attr("x",T).attr("y",x).attr("width",b).attr("height",w);u.attr("transform",`translate(${t.x-g.width/2}, ${S+1-(re(r.flowchart.htmlLabels)?0:3)})`);const N=M.node().getBBox();return t.height=N.height,t.offsetX=0,t.offsetY=g.height-t.padding/2,t.labelBBox=g,t.intersect=function(V){return Sa(t,V)},{cluster:c,labelBBox:g}},"roundedWithTitle"),DT=f(async(e,t)=>{I.info("Creating subgraph rect for ",t.id,t);const r=Lt(),{themeVariables:i,handDrawnSeed:a}=r,{clusterBkg:n,clusterBorder:o}=i,{labelStyles:s,nodeStyles:l,borderStyles:c,backgroundStyles:h}=lt(t),u=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),p=re(r.flowchart.htmlLabels),d=u.insert("g").attr("class","cluster-label "),g=await Ur(d,t.label,{style:t.labelStyle,useHtmlLabels:p,isNode:!0,width:t.width});let m=g.getBBox();if(re(r.flowchart.htmlLabels)){const M=g.children[0],N=Tt(g);m=M.getBoundingClientRect(),N.attr("width",m.width),N.attr("height",m.height)}const y=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(y-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height,v=t.x-y/2,w=t.y-b/2;I.trace("Data ",t,JSON.stringify(t));let T;if(t.look==="handDrawn"){const M=at.svg(u),N=nt(t,{roughness:.7,fill:n,stroke:o,fillWeight:4,seed:a}),V=M.path(Er(v,w,y,b,t.rx),N);T=u.insert(()=>(I.debug("Rough node insert CXC",V),V),":first-child"),T.select("path:nth-child(2)").attr("style",c.join(";")),T.select("path").attr("style",h.join(";").replace("fill","stroke"))}else T=u.insert("rect",":first-child"),T.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",w).attr("width",y).attr("height",b);const{subGraphTitleTopMargin:S}=Fc(r);if(d.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+S})`),s){const M=d.select("span");M&&M.attr("style",s)}const x=T.node().getBBox();return t.offsetX=0,t.width=x.width,t.height=x.height,t.offsetY=m.height-t.padding/2,t.intersect=function(M){return Sa(t,M)},{cluster:u,labelBBox:m}},"kanbanSection"),RT=f((e,t)=>{const r=Lt(),{themeVariables:i,handDrawnSeed:a}=r,{nodeBorder:n}=i,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),s=o.insert("g",":first-child"),l=0*t.padding,c=t.width+l;t.diff=-t.padding;const h=t.height+l,u=t.x-c/2,p=t.y-h/2;t.width=c;let d;if(t.look==="handDrawn"){const y=at.svg(o).rectangle(u,p,c,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:n,seed:a});d=o.insert(()=>y,":first-child")}else d=s.insert("rect",":first-child"),d.attr("class","divider").attr("x",u).attr("y",p).attr("width",c).attr("height",h).attr("data-look",t.look);const g=d.node().getBBox();return t.height=g.height,t.offsetX=0,t.offsetY=0,t.intersect=function(m){return Sa(t,m)},{cluster:o,labelBBox:{}}},"divider"),OT=bm,IT={rect:bm,squareRect:OT,roundedWithTitle:PT,noteGroup:FT,divider:RT,kanbanSection:DT},vm=new Map,NT=f(async(e,t)=>{const r=t.shape||"rect",i=await IT[r](e,t);return vm.set(t.id,i),i},"insertCluster"),pE=f(()=>{vm=new Map},"clear");function xm(e,t){return e.intersect(t)}f(xm,"intersectNode");var qT=xm;function _m(e,t,r,i){var a=e.x,n=e.y,o=a-i.x,s=n-i.y,l=Math.sqrt(t*t*s*s+r*r*o*o),c=Math.abs(t*r*o/l);i.x<a&&(c=-c);var h=Math.abs(t*r*s/l);return i.y<n&&(h=-h),{x:a+c,y:n+h}}f(_m,"intersectEllipse");var wm=_m;function Cm(e,t,r){return wm(e,t,t,r)}f(Cm,"intersectCircle");var zT=Cm;function km(e,t,r,i){var a,n,o,s,l,c,h,u,p,d,g,m,y,b,v;if(a=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,p=a*r.x+o*r.y+l,d=a*i.x+o*i.y+l,!(p!==0&&d!==0&&cc(p,d))&&(n=i.y-r.y,s=r.x-i.x,c=i.x*r.y-r.x*i.y,h=n*e.x+s*e.y+c,u=n*t.x+s*t.y+c,!(h!==0&&u!==0&&cc(h,u))&&(g=a*s-n*o,g!==0)))return m=Math.abs(g/2),y=o*c-s*l,b=y<0?(y-m)/g:(y+m)/g,y=n*l-a*c,v=y<0?(y-m)/g:(y+m)/g,{x:b,y:v}}f(km,"intersectLine");function cc(e,t){return e*t>0}f(cc,"sameSign");var WT=km;function Sm(e,t,r){let i=e.x,a=e.y,n=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(h){o=Math.min(o,h.x),s=Math.min(s,h.y)}):(o=Math.min(o,t.x),s=Math.min(s,t.y));let l=i-e.width/2-o,c=a-e.height/2-s;for(let h=0;h<t.length;h++){let u=t[h],p=t[h<t.length-1?h+1:0],d=WT(e,r,{x:l+u.x,y:c+u.y},{x:l+p.x,y:c+p.y});d&&n.push(d)}return n.length?(n.length>1&&n.sort(function(h,u){let p=h.x-r.x,d=h.y-r.y,g=Math.sqrt(p*p+d*d),m=u.x-r.x,y=u.y-r.y,b=Math.sqrt(m*m+y*y);return g<b?-1:g===b?0:1}),n[0]):e}f(Sm,"intersectPolygon");var HT=Sm,tt={node:qT,circle:zT,ellipse:wm,polygon:HT,rect:Sa};function Tm(e,t){const{labelStyles:r}=lt(t);t.labelStyle=r;const i=gt(t);let a=i;i||(a="anchor");const n=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=1,{cssStyles:s}=t,l=at.svg(n),c=nt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(c.roughness=0);const h=l.circle(0,0,o*2,c),u=n.insert(()=>h,":first-child");return u.attr("class","anchor").attr("style",_e(s)),ot(t,u),t.intersect=function(p){return I.info("Circle intersect",t,o,p),tt.circle(t,o,p)},n}f(Tm,"anchor");function hc(e,t,r,i,a,n,o){const l=(e+r)/2,c=(t+i)/2,h=Math.atan2(i-t,r-e),u=(r-e)/2,p=(i-t)/2,d=u/a,g=p/n,m=Math.sqrt(d**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const y=Math.sqrt(1-m**2),b=l+y*n*Math.sin(h)*(o?-1:1),v=c-y*a*Math.cos(h)*(o?-1:1),w=Math.atan2((t-v)/n,(e-b)/a);let S=Math.atan2((i-v)/n,(r-b)/a)-w;o&&S<0&&(S+=2*Math.PI),!o&&S>0&&(S-=2*Math.PI);const x=[];for(let M=0;M<20;M++){const N=M/19,V=w+N*S,z=b+a*Math.cos(V),P=v+n*Math.sin(V);x.push({x:z,y:P})}return x}f(hc,"generateArcPoints");async function Mm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=n.width+t.padding+20,s=n.height+t.padding,l=s/2,c=l/(2.5+s/50),{cssStyles:h}=t,u=[{x:o/2,y:-s/2},{x:-o/2,y:-s/2},...hc(-o/2,-s/2,-o/2,s/2,c,l,!1),{x:o/2,y:s/2},...hc(o/2,s/2,o/2,-s/2,c,l,!0)],p=at.svg(a),d=nt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=Mt(u),m=p.path(g,d),y=a.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",h),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),y.attr("transform",`translate(${c/2}, 0)`),ot(t,y),t.intersect=function(b){return tt.polygon(t,u,b)},a}f(Mm,"bowTieRect");function $r(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}f($r,"insertPolygonShape");async function Am(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=n.height+t.padding,s=12,l=n.width+t.padding+s,c=0,h=l,u=-o,p=0,d=[{x:c+s,y:u},{x:h,y:u},{x:h,y:p},{x:c,y:p},{x:c,y:u+s},{x:c+s,y:u}];let g;const{cssStyles:m}=t;if(t.look==="handDrawn"){const y=at.svg(a),b=nt(t,{}),v=Mt(d),w=y.path(v,b);g=a.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),m&&g.attr("style",m)}else g=$r(a,l,o,d);return i&&g.attr("style",i),ot(t,g),t.intersect=function(y){return tt.polygon(t,d,y)},a}f(Am,"card");function Bm(e,t){const{nodeStyles:r}=lt(t);t.label="";const i=e.insert("g").attr("class",gt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,n=Math.max(28,t.width??0),o=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}],s=at.svg(i),l=nt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Mt(o),h=s.path(c,l),u=i.insert(()=>h,":first-child");return a&&t.look!=="handDrawn"&&u.selectAll("path").attr("style",a),r&&t.look!=="handDrawn"&&u.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(p){return tt.polygon(t,o,p)},i}f(Bm,"choice");async function Lm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,halfPadding:o}=await yt(e,t,gt(t)),s=n.width/2+o;let l;const{cssStyles:c}=t;if(t.look==="handDrawn"){const h=at.svg(a),u=nt(t,{}),p=h.circle(0,0,s*2,u);l=a.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",_e(c))}else l=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",s).attr("cx",0).attr("cy",0);return ot(t,l),t.intersect=function(h){return I.info("Circle intersect",t,s,h),tt.circle(t,s,h)},a}f(Lm,"circle");function Em(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=e*2,a={x:i/2*t,y:i/2*r},n={x:-(i/2)*t,y:i/2*r},o={x:-(i/2)*t,y:-(i/2)*r},s={x:i/2*t,y:-(i/2)*r};return`M ${n.x},${n.y} L ${s.x},${s.y}
                   M ${a.x},${a.y} L ${o.x},${o.y}`}f(Em,"createLine");function $m(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r,t.label="";const a=e.insert("g").attr("class",gt(t)).attr("id",t.domId??t.id),n=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:o}=t,s=at.svg(a),l=nt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=s.circle(0,0,n*2,l),h=Em(n),u=s.path(h,l),p=a.insert(()=>c,":first-child");return p.insert(()=>u),o&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i),ot(t,p),t.intersect=function(d){return I.info("crossedCircle intersect",t,{radius:n,point:d}),tt.circle(t,n,d)},a}f($m,"crossedCircle");function wr(e,t,r,i=100,a=0,n=180){const o=[],s=a*Math.PI/180,h=(n*Math.PI/180-s)/(i-1);for(let u=0;u<i;u++){const p=s+u*h,d=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:-d,y:-g})}return o}f(wr,"generateCirclePoints");async function Fm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=n.width+(t.padding??0),l=n.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...wr(s/2,-l/2,c,30,-90,0),{x:-s/2-c,y:c},...wr(s/2+c*2,-c,c,20,-180,-270),...wr(s/2+c*2,c,c,20,-90,-180),{x:-s/2-c,y:-l/2},...wr(s/2,l/2,c,20,0,90)],p=[{x:s/2,y:-l/2-c},{x:-s/2,y:-l/2-c},...wr(s/2,-l/2,c,20,-90,0),{x:-s/2-c,y:-c},...wr(s/2+s*.1,-c,c,20,-180,-270),...wr(s/2+s*.1,c,c,20,-90,-180),{x:-s/2-c,y:l/2},...wr(s/2,l/2,c,20,0,90),{x:-s/2,y:l/2+c},{x:s/2,y:l/2+c}],d=at.svg(a),g=nt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Mt(u).replace("Z",""),b=d.path(y,g),v=Mt(p),w=d.path(v,{...g}),T=a.insert("g",":first-child");return T.insert(()=>w,":first-child").attr("stroke-opacity",0),T.insert(()=>b,":first-child"),T.attr("class","text"),h&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",h),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),T.attr("transform",`translate(${c}, 0)`),o.attr("transform",`translate(${-s/2+c-(n.x-(n.left??0))},${-l/2+(t.padding??0)/2-(n.y-(n.top??0))})`),ot(t,T),t.intersect=function(S){return tt.polygon(t,p,S)},a}f(Fm,"curlyBraceLeft");function Cr(e,t,r,i=100,a=0,n=180){const o=[],s=a*Math.PI/180,h=(n*Math.PI/180-s)/(i-1);for(let u=0;u<i;u++){const p=s+u*h,d=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:d,y:g})}return o}f(Cr,"generateCirclePoints");async function Pm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=n.width+(t.padding??0),l=n.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...Cr(s/2,-l/2,c,20,-90,0),{x:s/2+c,y:-c},...Cr(s/2+c*2,-c,c,20,-180,-270),...Cr(s/2+c*2,c,c,20,-90,-180),{x:s/2+c,y:l/2},...Cr(s/2,l/2,c,20,0,90)],p=[{x:-s/2,y:-l/2-c},{x:s/2,y:-l/2-c},...Cr(s/2,-l/2,c,20,-90,0),{x:s/2+c,y:-c},...Cr(s/2+c*2,-c,c,20,-180,-270),...Cr(s/2+c*2,c,c,20,-90,-180),{x:s/2+c,y:l/2},...Cr(s/2,l/2,c,20,0,90),{x:s/2,y:l/2+c},{x:-s/2,y:l/2+c}],d=at.svg(a),g=nt(t,{fill:"none"});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Mt(u).replace("Z",""),b=d.path(y,g),v=Mt(p),w=d.path(v,{...g}),T=a.insert("g",":first-child");return T.insert(()=>w,":first-child").attr("stroke-opacity",0),T.insert(()=>b,":first-child"),T.attr("class","text"),h&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",h),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),T.attr("transform",`translate(${-c}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(n.x-(n.left??0))},${-l/2+(t.padding??0)/2-(n.y-(n.top??0))})`),ot(t,T),t.intersect=function(S){return tt.polygon(t,p,S)},a}f(Pm,"curlyBraceRight");function oe(e,t,r,i=100,a=0,n=180){const o=[],s=a*Math.PI/180,h=(n*Math.PI/180-s)/(i-1);for(let u=0;u<i;u++){const p=s+u*h,d=e+r*Math.cos(p),g=t+r*Math.sin(p);o.push({x:-d,y:-g})}return o}f(oe,"generateCirclePoints");async function Dm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=n.width+(t.padding??0),l=n.height+(t.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=t,u=[...oe(s/2,-l/2,c,30,-90,0),{x:-s/2-c,y:c},...oe(s/2+c*2,-c,c,20,-180,-270),...oe(s/2+c*2,c,c,20,-90,-180),{x:-s/2-c,y:-l/2},...oe(s/2,l/2,c,20,0,90)],p=[...oe(-s/2+c+c/2,-l/2,c,20,-90,-180),{x:s/2-c/2,y:c},...oe(-s/2-c/2,-c,c,20,0,90),...oe(-s/2-c/2,c,c,20,-90,0),{x:s/2-c/2,y:-c},...oe(-s/2+c+c/2,l/2,c,30,-180,-270)],d=[{x:s/2,y:-l/2-c},{x:-s/2,y:-l/2-c},...oe(s/2,-l/2,c,20,-90,0),{x:-s/2-c,y:-c},...oe(s/2+c*2,-c,c,20,-180,-270),...oe(s/2+c*2,c,c,20,-90,-180),{x:-s/2-c,y:l/2},...oe(s/2,l/2,c,20,0,90),{x:-s/2,y:l/2+c},{x:s/2-c-c/2,y:l/2+c},...oe(-s/2+c+c/2,-l/2,c,20,-90,-180),{x:s/2-c/2,y:c},...oe(-s/2-c/2,-c,c,20,0,90),...oe(-s/2-c/2,c,c,20,-90,0),{x:s/2-c/2,y:-c},...oe(-s/2+c+c/2,l/2,c,30,-180,-270)],g=at.svg(a),m=nt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=Mt(u).replace("Z",""),v=g.path(b,m),T=Mt(p).replace("Z",""),S=g.path(T,m),x=Mt(d),M=g.path(x,{...m}),N=a.insert("g",":first-child");return N.insert(()=>M,":first-child").attr("stroke-opacity",0),N.insert(()=>v,":first-child"),N.insert(()=>S,":first-child"),N.attr("class","text"),h&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",h),i&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",i),N.attr("transform",`translate(${c-c/4}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(n.x-(n.left??0))},${-l/2+(t.padding??0)/2-(n.y-(n.top??0))})`),ot(t,N),t.intersect=function(V){return tt.polygon(t,d,V)},a}f(Dm,"curlyBraces");async function Rm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=80,s=20,l=Math.max(o,(n.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),c=Math.max(s,n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=c/2,{cssStyles:u}=t,p=at.svg(a),d=nt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=l,m=c,y=g-h,b=m/4,v=[{x:y,y:0},{x:b,y:0},{x:0,y:m/2},{x:b,y:m},{x:y,y:m},...fh(-y,-m/2,h,50,270,90)],w=Mt(v),T=p.path(w,d),S=a.insert(()=>T,":first-child");return S.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),S.attr("transform",`translate(${-l/2}, ${-c/2})`),ot(t,S),t.intersect=function(x){return tt.polygon(t,v,x)},a}f(Rm,"curvedTrapezoid");var jT=f((e,t,r,i,a,n)=>[`M${e},${t+n}`,`a${a},${n} 0,0,0 ${r},0`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),VT=f((e,t,r,i,a,n)=>[`M${e},${t+n}`,`M${e+r},${t+n}`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),UT=f((e,t,r,i,a,n)=>[`M${e-r/2},${-i/2}`,`a${a},${n} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function Om(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+t.padding,t.width??0),l=s/2,c=l/(2.5+s/50),h=Math.max(n.height+c+t.padding,t.height??0);let u;const{cssStyles:p}=t;if(t.look==="handDrawn"){const d=at.svg(a),g=VT(0,0,s,h,l,c),m=UT(0,c,s,h,l,c),y=d.path(g,nt(t,{})),b=d.path(m,nt(t,{fill:"none"}));u=a.insert(()=>b,":first-child"),u=a.insert(()=>y,":first-child"),u.attr("class","basic label-container"),p&&u.attr("style",p)}else{const d=jT(0,0,s,h,l,c);u=a.insert("path",":first-child").attr("d",d).attr("class","basic label-container").attr("style",_e(p)).attr("style",i)}return u.attr("label-offset-y",c),u.attr("transform",`translate(${-s/2}, ${-(h/2+c)})`),ot(t,u),o.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)+(t.padding??0)/1.5-(n.y-(n.top??0))})`),t.intersect=function(d){const g=tt.rect(t,d),m=g.x-(t.x??0);if(l!=0&&(Math.abs(m)<(t.width??0)/2||Math.abs(m)==(t.width??0)/2&&Math.abs(g.y-(t.y??0))>(t.height??0)/2-c)){let y=c*c*(1-m*m/(l*l));y>0&&(y=Math.sqrt(y)),y=c-y,d.y-(t.y??0)>0&&(y=-y),g.y+=y}return g},a}f(Om,"cylinder");async function Im(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=n.width+t.padding,l=n.height+t.padding,c=l*.2,h=-s/2,u=-l/2-c/2,{cssStyles:p}=t,d=at.svg(a),g=nt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:u+c},{x:-h,y:u+c},{x:-h,y:-u},{x:h,y:-u},{x:h,y:u},{x:-h,y:u},{x:-h,y:u+c}],y=d.polygon(m.map(v=>[v.x,v.y]),g),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),o.attr("transform",`translate(${h+(t.padding??0)/2-(n.x-(n.left??0))}, ${u+c+(t.padding??0)/2-(n.y-(n.top??0))})`),ot(t,b),t.intersect=function(v){return tt.rect(t,v)},a}f(Im,"dividedRectangle");async function Nm(e,t){var p,d;const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,halfPadding:o}=await yt(e,t,gt(t)),l=n.width/2+o+5,c=n.width/2+o;let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){const g=at.svg(a),m=nt(t,{roughness:.2,strokeWidth:2.5}),y=nt(t,{roughness:.2,strokeWidth:1.5}),b=g.circle(0,0,l*2,m),v=g.circle(0,0,c*2,y);h=a.insert("g",":first-child"),h.attr("class",_e(t.cssClasses)).attr("style",_e(u)),(p=h.node())==null||p.appendChild(b),(d=h.node())==null||d.appendChild(v)}else{h=a.insert("g",":first-child");const g=h.insert("circle",":first-child"),m=h.insert("circle");h.attr("class","basic label-container").attr("style",i),g.attr("class","outer-circle").attr("style",i).attr("r",l).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0)}return ot(t,h),t.intersect=function(g){return I.info("DoubleCircle intersect",t,l,g),tt.circle(t,l,g)},a}f(Nm,"doublecircle");function qm(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:a}=lt(t);t.label="",t.labelStyle=i;const n=e.insert("g").attr("class",gt(t)).attr("id",t.domId??t.id),o=7,{cssStyles:s}=t,l=at.svg(n),{nodeBorder:c}=r,h=nt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const u=l.circle(0,0,o*2,h),p=n.insert(()=>u,":first-child");return p.selectAll("path").attr("style",`fill: ${c} !important;`),s&&s.length>0&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",s),a&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",a),ot(t,p),t.intersect=function(d){return I.info("filledCircle intersect",t,{radius:o,point:d}),tt.circle(t,o,d)},n}f(qm,"filledCircle");async function zm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=n.width+(t.padding??0),l=s+n.height,c=s+n.height,h=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:u}=t,p=at.svg(a),d=nt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=Mt(h),m=p.path(g,d),y=a.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),t.width=s,t.height=l,ot(t,y),o.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${-l/2+(t.padding??0)/2+(n.y-(n.top??0))})`),t.intersect=function(b){return I.info("Triangle intersect",t,h,b),tt.polygon(t,h,b)},a}f(zm,"flippedTriangle");function Wm(e,t,{dir:r,config:{state:i,themeVariables:a}}){const{nodeStyles:n}=lt(t);t.label="";const o=e.insert("g").attr("class",gt(t)).attr("id",t.domId??t.id),{cssStyles:s}=t;let l=Math.max(70,(t==null?void 0:t.width)??0),c=Math.max(10,(t==null?void 0:t.height)??0);r==="LR"&&(l=Math.max(10,(t==null?void 0:t.width)??0),c=Math.max(70,(t==null?void 0:t.height)??0));const h=-1*l/2,u=-1*c/2,p=at.svg(o),d=nt(t,{stroke:a.lineColor,fill:a.lineColor});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=p.rectangle(h,u,l,c,d),m=o.insert(()=>g,":first-child");s&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),ot(t,m);const y=(i==null?void 0:i.padding)??0;return t.width&&t.height&&(t.width+=y/2||0,t.height+=y/2||0),t.intersect=function(b){return tt.rect(t,b)},o}f(Wm,"forkJoin");async function Hm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const a=80,n=50,{shapeSvg:o,bbox:s}=await yt(e,t,gt(t)),l=Math.max(a,s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(n,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=c/2,{cssStyles:u}=t,p=at.svg(o),d=nt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=[{x:-l/2,y:-c/2},{x:l/2-h,y:-c/2},...fh(-l/2+h,0,h,50,90,270),{x:l/2-h,y:c/2},{x:-l/2,y:c/2}],m=Mt(g),y=p.path(m,d),b=o.insert(()=>y,":first-child");return b.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),ot(t,b),t.intersect=function(v){return I.info("Pill intersect",t,{radius:h,point:v}),tt.polygon(t,g,v)},o}f(Hm,"halfRoundedRectangle");var YT=f((e,t,r,i,a)=>[`M${e+a},${t}`,`L${e+r-a},${t}`,`L${e+r},${t-i/2}`,`L${e+r-a},${t-i}`,`L${e+a},${t-i}`,`L${e},${t-i/2}`,"Z"].join(" "),"createHexagonPathD");async function jm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=4,s=n.height+t.padding,l=s/o,c=n.width+2*l+t.padding,h=[{x:l,y:0},{x:c-l,y:0},{x:c,y:-s/2},{x:c-l,y:-s},{x:l,y:-s},{x:0,y:-s/2}];let u;const{cssStyles:p}=t;if(t.look==="handDrawn"){const d=at.svg(a),g=nt(t,{}),m=YT(0,0,c,s,l),y=d.path(m,g);u=a.insert(()=>y,":first-child").attr("transform",`translate(${-c/2}, ${s/2})`),p&&u.attr("style",p)}else u=$r(a,c,s,h);return i&&u.attr("style",i),t.width=c,t.height=s,ot(t,u),t.intersect=function(d){return tt.polygon(t,h,d)},a}f(jm,"hexagon");async function Vm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.label="",t.labelStyle=r;const{shapeSvg:a}=await yt(e,t,gt(t)),n=Math.max(30,(t==null?void 0:t.width)??0),o=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:s}=t,l=at.svg(a),c=nt(t,{});t.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const h=[{x:0,y:0},{x:n,y:0},{x:0,y:o},{x:n,y:o}],u=Mt(h),p=l.path(u,c),d=a.insert(()=>p,":first-child");return d.attr("class","basic label-container"),s&&t.look!=="handDrawn"&&d.selectChildren("path").attr("style",s),i&&t.look!=="handDrawn"&&d.selectChildren("path").attr("style",i),d.attr("transform",`translate(${-n/2}, ${-o/2})`),ot(t,d),t.intersect=function(g){return I.info("Pill intersect",t,{points:h}),tt.polygon(t,h,g)},a}f(Vm,"hourglass");async function Um(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=lt(t);t.labelStyle=a;const n=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(n,o),l=i==null?void 0:i.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:h,label:u}=await yt(e,t,"icon-shape default"),p=t.pos==="t",d=s,g=s,{nodeBorder:m}=r,{stylesMap:y}=wa(t),b=-g/2,v=-d/2,w=t.label?8:0,T=at.svg(c),S=nt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const x=T.rectangle(b,v,g,d,S),M=Math.max(g,h.width),N=d+h.height+w,V=T.rectangle(-M/2,-N/2,M,N,{...S,fill:"transparent",stroke:"none"}),z=c.insert(()=>x,":first-child"),P=c.insert(()=>V);if(t.icon){const U=c.append("g");U.html(`<g>${await jn(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const O=U.node().getBBox(),E=O.width,F=O.height,L=O.x,D=O.y;U.attr("transform",`translate(${-E/2-L},${p?h.height/2+w/2-F/2-D:-h.height/2-w/2-F/2-D})`),U.attr("style",`color: ${y.get("stroke")??m};`)}return u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-N/2:N/2-h.height})`),z.attr("transform",`translate(0,${p?h.height/2+w/2:-h.height/2-w/2})`),ot(t,P),t.intersect=function(U){if(I.info("iconSquare intersect",t,U),!t.label)return tt.rect(t,U);const O=t.x??0,E=t.y??0,F=t.height??0;let L=[];return p?L=[{x:O-h.width/2,y:E-F/2},{x:O+h.width/2,y:E-F/2},{x:O+h.width/2,y:E-F/2+h.height+w},{x:O+g/2,y:E-F/2+h.height+w},{x:O+g/2,y:E+F/2},{x:O-g/2,y:E+F/2},{x:O-g/2,y:E-F/2+h.height+w},{x:O-h.width/2,y:E-F/2+h.height+w}]:L=[{x:O-g/2,y:E-F/2},{x:O+g/2,y:E-F/2},{x:O+g/2,y:E-F/2+d},{x:O+h.width/2,y:E-F/2+d},{x:O+h.width/2/2,y:E+F/2},{x:O-h.width/2,y:E+F/2},{x:O-h.width/2,y:E-F/2+d},{x:O-g/2,y:E-F/2+d}],tt.polygon(t,L,U)},c}f(Um,"icon");async function Ym(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=lt(t);t.labelStyle=a;const n=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(n,o),l=i==null?void 0:i.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:h,label:u}=await yt(e,t,"icon-shape default"),p=20,d=t.label?8:0,g=t.pos==="t",{nodeBorder:m,mainBkg:y}=r,{stylesMap:b}=wa(t),v=at.svg(c),w=nt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=b.get("fill");w.stroke=T??y;const S=c.append("g");t.icon&&S.html(`<g>${await jn(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const x=S.node().getBBox(),M=x.width,N=x.height,V=x.x,z=x.y,P=Math.max(M,N)*Math.SQRT2+p*2,U=v.circle(0,0,P,w),O=Math.max(P,h.width),E=P+h.height+d,F=v.rectangle(-O/2,-E/2,O,E,{...w,fill:"transparent",stroke:"none"}),L=c.insert(()=>U,":first-child"),D=c.insert(()=>F);return S.attr("transform",`translate(${-M/2-V},${g?h.height/2+d/2-N/2-z:-h.height/2-d/2-N/2-z})`),S.attr("style",`color: ${b.get("stroke")??m};`),u.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${g?-E/2:E/2-h.height})`),L.attr("transform",`translate(0,${g?h.height/2+d/2:-h.height/2-d/2})`),ot(t,D),t.intersect=function($){return I.info("iconSquare intersect",t,$),tt.rect(t,$)},c}f(Ym,"iconCircle");async function Gm(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=lt(t);t.labelStyle=a;const n=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(n,o),l=i==null?void 0:i.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:p}=await yt(e,t,"icon-shape default"),d=t.pos==="t",g=s+u*2,m=s+u*2,{nodeBorder:y,mainBkg:b}=r,{stylesMap:v}=wa(t),w=-m/2,T=-g/2,S=t.label?8:0,x=at.svg(c),M=nt(t,{});t.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const N=v.get("fill");M.stroke=N??b;const V=x.path(Er(w,T,m,g,5),M),z=Math.max(m,h.width),P=g+h.height+S,U=x.rectangle(-z/2,-P/2,z,P,{...M,fill:"transparent",stroke:"none"}),O=c.insert(()=>V,":first-child").attr("class","icon-shape2"),E=c.insert(()=>U);if(t.icon){const F=c.append("g");F.html(`<g>${await jn(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const L=F.node().getBBox(),D=L.width,$=L.height,X=L.x,et=L.y;F.attr("transform",`translate(${-D/2-X},${d?h.height/2+S/2-$/2-et:-h.height/2-S/2-$/2-et})`),F.attr("style",`color: ${v.get("stroke")??y};`)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-P/2:P/2-h.height})`),O.attr("transform",`translate(0,${d?h.height/2+S/2:-h.height/2-S/2})`),ot(t,E),t.intersect=function(F){if(I.info("iconSquare intersect",t,F),!t.label)return tt.rect(t,F);const L=t.x??0,D=t.y??0,$=t.height??0;let X=[];return d?X=[{x:L-h.width/2,y:D-$/2},{x:L+h.width/2,y:D-$/2},{x:L+h.width/2,y:D-$/2+h.height+S},{x:L+m/2,y:D-$/2+h.height+S},{x:L+m/2,y:D+$/2},{x:L-m/2,y:D+$/2},{x:L-m/2,y:D-$/2+h.height+S},{x:L-h.width/2,y:D-$/2+h.height+S}]:X=[{x:L-m/2,y:D-$/2},{x:L+m/2,y:D-$/2},{x:L+m/2,y:D-$/2+g},{x:L+h.width/2,y:D-$/2+g},{x:L+h.width/2/2,y:D+$/2},{x:L-h.width/2,y:D+$/2},{x:L-h.width/2,y:D-$/2+g},{x:L-m/2,y:D-$/2+g}],tt.polygon(t,X,F)},c}f(Gm,"iconRounded");async function Xm(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=lt(t);t.labelStyle=a;const n=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(n,o),l=i==null?void 0:i.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:h,halfPadding:u,label:p}=await yt(e,t,"icon-shape default"),d=t.pos==="t",g=s+u*2,m=s+u*2,{nodeBorder:y,mainBkg:b}=r,{stylesMap:v}=wa(t),w=-m/2,T=-g/2,S=t.label?8:0,x=at.svg(c),M=nt(t,{});t.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const N=v.get("fill");M.stroke=N??b;const V=x.path(Er(w,T,m,g,.1),M),z=Math.max(m,h.width),P=g+h.height+S,U=x.rectangle(-z/2,-P/2,z,P,{...M,fill:"transparent",stroke:"none"}),O=c.insert(()=>V,":first-child"),E=c.insert(()=>U);if(t.icon){const F=c.append("g");F.html(`<g>${await jn(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const L=F.node().getBBox(),D=L.width,$=L.height,X=L.x,et=L.y;F.attr("transform",`translate(${-D/2-X},${d?h.height/2+S/2-$/2-et:-h.height/2-S/2-$/2-et})`),F.attr("style",`color: ${v.get("stroke")??y};`)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-P/2:P/2-h.height})`),O.attr("transform",`translate(0,${d?h.height/2+S/2:-h.height/2-S/2})`),ot(t,E),t.intersect=function(F){if(I.info("iconSquare intersect",t,F),!t.label)return tt.rect(t,F);const L=t.x??0,D=t.y??0,$=t.height??0;let X=[];return d?X=[{x:L-h.width/2,y:D-$/2},{x:L+h.width/2,y:D-$/2},{x:L+h.width/2,y:D-$/2+h.height+S},{x:L+m/2,y:D-$/2+h.height+S},{x:L+m/2,y:D+$/2},{x:L-m/2,y:D+$/2},{x:L-m/2,y:D-$/2+h.height+S},{x:L-h.width/2,y:D-$/2+h.height+S}]:X=[{x:L-m/2,y:D-$/2},{x:L+m/2,y:D-$/2},{x:L+m/2,y:D-$/2+g},{x:L+h.width/2,y:D-$/2+g},{x:L+h.width/2/2,y:D+$/2},{x:L-h.width/2,y:D+$/2},{x:L-h.width/2,y:D-$/2+g},{x:L-m/2,y:D-$/2+g}],tt.polygon(t,X,F)},c}f(Xm,"iconSquare");async function Zm(e,t,{config:{flowchart:r}}){const i=new Image;i.src=(t==null?void 0:t.img)??"",await i.decode();const a=Number(i.naturalWidth.toString().replace("px","")),n=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/n;const{labelStyles:o}=lt(t);t.labelStyle=o;const s=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(t.label?s??0:0,(t==null?void 0:t.assetWidth)??a),c=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:l,h=t.constraint==="on"?c/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??n;t.width=Math.max(c,s??0);const{shapeSvg:u,bbox:p,label:d}=await yt(e,t,"image-shape default"),g=t.pos==="t",m=-c/2,y=-h/2,b=t.label?8:0,v=at.svg(u),w=nt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=v.rectangle(m,y,c,h,w),S=Math.max(c,p.width),x=h+p.height+b,M=v.rectangle(-S/2,-x/2,S,x,{...w,fill:"none",stroke:"none"}),N=u.insert(()=>T,":first-child"),V=u.insert(()=>M);if(t.img){const z=u.append("image");z.attr("href",t.img),z.attr("width",c),z.attr("height",h),z.attr("preserveAspectRatio","none"),z.attr("transform",`translate(${-c/2},${g?x/2-h:-x/2})`)}return d.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${g?-h/2-p.height/2-b/2:h/2-p.height/2+b/2})`),N.attr("transform",`translate(0,${g?p.height/2+b/2:-p.height/2-b/2})`),ot(t,V),t.intersect=function(z){if(I.info("iconSquare intersect",t,z),!t.label)return tt.rect(t,z);const P=t.x??0,U=t.y??0,O=t.height??0;let E=[];return g?E=[{x:P-p.width/2,y:U-O/2},{x:P+p.width/2,y:U-O/2},{x:P+p.width/2,y:U-O/2+p.height+b},{x:P+c/2,y:U-O/2+p.height+b},{x:P+c/2,y:U+O/2},{x:P-c/2,y:U+O/2},{x:P-c/2,y:U-O/2+p.height+b},{x:P-p.width/2,y:U-O/2+p.height+b}]:E=[{x:P-c/2,y:U-O/2},{x:P+c/2,y:U-O/2},{x:P+c/2,y:U-O/2+h},{x:P+p.width/2,y:U-O/2+h},{x:P+p.width/2/2,y:U+O/2},{x:P-p.width/2,y:U+O/2},{x:P-p.width/2,y:U-O/2+h},{x:P-c/2,y:U-O/2+h}],tt.polygon(t,E,z)},u}f(Zm,"imageSquare");async function Km(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),s=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:-3*s/6,y:-s}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=at.svg(a),p=nt(t,{}),d=Mt(l),g=u.path(d,p);c=a.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),h&&c.attr("style",h)}else c=$r(a,o,s,l);return i&&c.attr("style",i),t.width=o,t.height=s,ot(t,c),t.intersect=function(u){return tt.polygon(t,l,u)},a}f(Km,"inv_trapezoid");async function Un(e,t,r){const{labelStyles:i,nodeStyles:a}=lt(t);t.labelStyle=i;const{shapeSvg:n,bbox:o}=await yt(e,t,gt(t)),s=Math.max(o.width+r.labelPaddingX*2,(t==null?void 0:t.width)||0),l=Math.max(o.height+r.labelPaddingY*2,(t==null?void 0:t.height)||0),c=-s/2,h=-l/2;let u,{rx:p,ry:d}=t;const{cssStyles:g}=t;if(r!=null&&r.rx&&r.ry&&(p=r.rx,d=r.ry),t.look==="handDrawn"){const m=at.svg(n),y=nt(t,{}),b=p||d?m.path(Er(c,h,s,l,p||0),y):m.rectangle(c,h,s,l,y);u=n.insert(()=>b,":first-child"),u.attr("class","basic label-container").attr("style",_e(g))}else u=n.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",a).attr("rx",_e(p)).attr("ry",_e(d)).attr("x",c).attr("y",h).attr("width",s).attr("height",l);return ot(t,u),t.intersect=function(m){return tt.rect(t,m)},n}f(Un,"drawRect");async function Qm(e,t){const{shapeSvg:r,bbox:i,label:a}=await yt(e,t,"label"),n=r.insert("rect",":first-child");return n.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),ot(t,n),t.intersect=function(l){return tt.rect(t,l)},r}f(Qm,"labelRect");async function Jm(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=Math.max(n.width+(t.padding??0),(t==null?void 0:t.width)??0),s=Math.max(n.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:-(3*s)/6,y:-s}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=at.svg(a),p=nt(t,{}),d=Mt(l),g=u.path(d,p);c=a.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),h&&c.attr("style",h)}else c=$r(a,o,s,l);return i&&c.attr("style",i),t.width=o,t.height=s,ot(t,c),t.intersect=function(u){return tt.polygon(t,l,u)},a}f(Jm,"lean_left");async function ty(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=Math.max(n.width+(t.padding??0),(t==null?void 0:t.width)??0),s=Math.max(n.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:-3*s/6,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:0,y:-s}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=at.svg(a),p=nt(t,{}),d=Mt(l),g=u.path(d,p);c=a.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),h&&c.attr("style",h)}else c=$r(a,o,s,l);return i&&c.attr("style",i),t.width=o,t.height=s,ot(t,c),t.intersect=function(u){return tt.polygon(t,l,u)},a}f(ty,"lean_right");function ey(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.label="",t.labelStyle=r;const a=e.insert("g").attr("class",gt(t)).attr("id",t.domId??t.id),{cssStyles:n}=t,o=Math.max(35,(t==null?void 0:t.width)??0),s=Math.max(35,(t==null?void 0:t.height)??0),l=7,c=[{x:o,y:0},{x:0,y:s+l/2},{x:o-2*l,y:s+l/2},{x:0,y:2*s},{x:o,y:s-l/2},{x:2*l,y:s-l/2}],h=at.svg(a),u=nt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const p=Mt(c),d=h.path(p,u),g=a.insert(()=>d,":first-child");return n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),i&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",i),g.attr("transform",`translate(-${o/2},${-s})`),ot(t,g),t.intersect=function(m){return I.info("lightningBolt intersect",t,m),tt.polygon(t,c,m)},a}f(ey,"lightningBolt");var GT=f((e,t,r,i,a,n,o)=>[`M${e},${t+n}`,`a${a},${n} 0,0,0 ${r},0`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+n+o}`,`a${a},${n} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),XT=f((e,t,r,i,a,n,o)=>[`M${e},${t+n}`,`M${e+r},${t+n}`,`a${a},${n} 0,0,0 ${-r},0`,`l0,${i}`,`a${a},${n} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+n+o}`,`a${a},${n} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),ZT=f((e,t,r,i,a,n)=>[`M${e-r/2},${-i/2}`,`a${a},${n} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function ry(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0),t.width??0),l=s/2,c=l/(2.5+s/50),h=Math.max(n.height+c+(t.padding??0),t.height??0),u=h*.1;let p;const{cssStyles:d}=t;if(t.look==="handDrawn"){const g=at.svg(a),m=XT(0,0,s,h,l,c,u),y=ZT(0,c,s,h,l,c),b=nt(t,{}),v=g.path(m,b),w=g.path(y,b);a.insert(()=>w,":first-child").attr("class","line"),p=a.insert(()=>v,":first-child"),p.attr("class","basic label-container"),d&&p.attr("style",d)}else{const g=GT(0,0,s,h,l,c,u);p=a.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",_e(d)).attr("style",i)}return p.attr("label-offset-y",c),p.attr("transform",`translate(${-s/2}, ${-(h/2+c)})`),ot(t,p),o.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)+c-(n.y-(n.top??0))})`),t.intersect=function(g){const m=tt.rect(t,g),y=m.x-(t.x??0);if(l!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-c)){let b=c*c*(1-y*y/(l*l));b>0&&(b=Math.sqrt(b)),b=c-b,g.y-(t.y??0)>0&&(b=-b),m.y+=b}return m},a}f(ry,"linedCylinder");async function iy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,h=l+c,{cssStyles:u}=t,p=at.svg(a),d=nt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=[{x:-s/2-s/2*.1,y:-h/2},{x:-s/2-s/2*.1,y:h/2},...jr(-s/2-s/2*.1,h/2,s/2+s/2*.1,h/2,c,.8),{x:s/2+s/2*.1,y:-h/2},{x:-s/2-s/2*.1,y:-h/2},{x:-s/2,y:-h/2},{x:-s/2,y:h/2*1.1},{x:-s/2,y:-h/2}],m=p.polygon(g.map(b=>[b.x,b.y]),d),y=a.insert(()=>m,":first-child");return y.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",u),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),y.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)+s/2*.1/2-(n.x-(n.left??0))},${-l/2+(t.padding??0)-c/2-(n.y-(n.top??0))})`),ot(t,y),t.intersect=function(b){return tt.polygon(t,g,b)},a}f(iy,"linedWaveEdgedRect");async function ay(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=5,h=-s/2,u=-l/2,{cssStyles:p}=t,d=at.svg(a),g=nt(t,{}),m=[{x:h-c,y:u+c},{x:h-c,y:u+l+c},{x:h+s-c,y:u+l+c},{x:h+s-c,y:u+l},{x:h+s,y:u+l},{x:h+s,y:u+l-c},{x:h+s+c,y:u+l-c},{x:h+s+c,y:u-c},{x:h+c,y:u-c},{x:h+c,y:u},{x:h,y:u},{x:h,y:u+c}],y=[{x:h,y:u+c},{x:h+s-c,y:u+c},{x:h+s-c,y:u+l},{x:h+s,y:u+l},{x:h+s,y:u},{x:h,y:u}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const b=Mt(m),v=d.path(b,g),w=Mt(y),T=d.path(w,{...g,fill:"none"}),S=a.insert(()=>T,":first-child");return S.insert(()=>v,":first-child"),S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(n.width/2)-c-(n.x-(n.left??0))}, ${-(n.height/2)+c-(n.y-(n.top??0))})`),ot(t,S),t.intersect=function(x){return tt.polygon(t,m,x)},a}f(ay,"multiRect");async function ny(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,h=l+c,u=-s/2,p=-h/2,d=5,{cssStyles:g}=t,m=jr(u-d,p+h+d,u+s-d,p+h+d,c,.8),y=m==null?void 0:m[m.length-1],b=[{x:u-d,y:p+d},{x:u-d,y:p+h+d},...m,{x:u+s-d,y:y.y-d},{x:u+s,y:y.y-d},{x:u+s,y:y.y-2*d},{x:u+s+d,y:y.y-2*d},{x:u+s+d,y:p-d},{x:u+d,y:p-d},{x:u+d,y:p},{x:u,y:p},{x:u,y:p+d}],v=[{x:u,y:p+d},{x:u+s-d,y:p+d},{x:u+s-d,y:y.y-d},{x:u+s,y:y.y-d},{x:u+s,y:p},{x:u,y:p}],w=at.svg(a),T=nt(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const S=Mt(b),x=w.path(S,T),M=Mt(v),N=w.path(M,T),V=a.insert(()=>x,":first-child");return V.insert(()=>N),V.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&V.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&V.selectAll("path").attr("style",i),V.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-(n.width/2)-d-(n.x-(n.left??0))}, ${-(n.height/2)+d-c/2-(n.y-(n.top??0))})`),ot(t,V),t.intersect=function(z){return tt.polygon(t,b,z)},a}f(ny,"multiWaveEdgedRectangle");async function sy(e,t,{config:{themeVariables:r}}){var v;const{labelStyles:i,nodeStyles:a}=lt(t);t.labelStyle=i,t.useHtmlLabels||((v=Le().flowchart)==null?void 0:v.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:o,bbox:s,label:l}=await yt(e,t,gt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-c/2,p=-h/2,{cssStyles:d}=t,g=at.svg(o),m=nt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=g.rectangle(u,p,c,h,m),b=o.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),a&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",a),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),ot(t,b),t.intersect=function(w){return tt.rect(t,w)},o}f(sy,"note");var KT=f((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function oy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=n.width+t.padding,s=n.height+t.padding,l=o+s,c=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){const p=at.svg(a),d=nt(t,{}),g=KT(0,0,l),m=p.path(g,d);h=a.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`),u&&h.attr("style",u)}else h=$r(a,l,l,c);return i&&h.attr("style",i),ot(t,h),t.intersect=function(p){return I.debug(`APA12 Intersect called SPLIT
point:`,p,`
node:
`,t,`
res:`,tt.polygon(t,c,p)),tt.polygon(t,c,p)},a}f(oy,"question");async function ly(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0),(t==null?void 0:t.height)??0),c=-s/2,h=-l/2,u=h/2,p=[{x:c+u,y:h},{x:c,y:0},{x:c+u,y:-h},{x:-c,y:-h},{x:-c,y:h}],{cssStyles:d}=t,g=at.svg(a),m=nt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=Mt(p),b=g.path(y,m),v=a.insert(()=>b,":first-child");return v.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),v.attr("transform",`translate(${-u/2},0)`),o.attr("transform",`translate(${-u/2-n.width/2-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),ot(t,v),t.intersect=function(w){return tt.polygon(t,p,w)},a}f(ly,"rect_left_inv_arrow");async function cy(e,t){var N,V;const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;let a;t.cssClasses?a="node "+t.cssClasses:a="node default";const n=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=n.insert("g"),s=n.insert("g").attr("class","label").attr("style",i),l=t.description,c=t.label,h=s.node().appendChild(await ui(c,t.labelStyle,!0,!0));let u={width:0,height:0};if(re((V=(N=Lt())==null?void 0:N.flowchart)==null?void 0:V.htmlLabels)){const z=h.children[0],P=Tt(h);u=z.getBoundingClientRect(),P.attr("width",u.width),P.attr("height",u.height)}I.info("Text 2",l);const p=l||[],d=h.getBBox(),g=s.node().appendChild(await ui(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0)),m=g.children[0],y=Tt(g);u=m.getBoundingClientRect(),y.attr("width",u.width),y.attr("height",u.height);const b=(t.padding||0)/2;Tt(g).attr("transform","translate( "+(u.width>d.width?0:(d.width-u.width)/2)+", "+(d.height+b+5)+")"),Tt(h).attr("transform","translate( "+(u.width<d.width?0:-(d.width-u.width)/2)+", 0)"),u=s.node().getBBox(),s.attr("transform","translate("+-u.width/2+", "+(-u.height/2-b+3)+")");const v=u.width+(t.padding||0),w=u.height+(t.padding||0),T=-u.width/2-b,S=-u.height/2-b;let x,M;if(t.look==="handDrawn"){const z=at.svg(n),P=nt(t,{}),U=z.path(Er(T,S,v,w,t.rx||0),P),O=z.line(-u.width/2-b,-u.height/2-b+d.height+b,u.width/2+b,-u.height/2-b+d.height+b,P);M=n.insert(()=>(I.debug("Rough node insert CXC",U),O),":first-child"),x=n.insert(()=>(I.debug("Rough node insert CXC",U),U),":first-child")}else x=o.insert("rect",":first-child"),M=o.insert("line"),x.attr("class","outer title-state").attr("style",i).attr("x",-u.width/2-b).attr("y",-u.height/2-b).attr("width",u.width+(t.padding||0)).attr("height",u.height+(t.padding||0)),M.attr("class","divider").attr("x1",-u.width/2-b).attr("x2",u.width/2+b).attr("y1",-u.height/2-b+d.height+b).attr("y2",-u.height/2-b+d.height+b);return ot(t,x),t.intersect=function(z){return tt.rect(t,z)},n}f(cy,"rectWithTitle");async function hy(e,t){const r={rx:5,ry:5,labelPaddingX:((t==null?void 0:t.padding)||0)*1,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Un(e,t,r)}f(hy,"roundedRect");async function uy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=(t==null?void 0:t.padding)??0,l=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-n.width/2-s,u=-n.height/2-s,{cssStyles:p}=t,d=at.svg(a),g=nt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:u},{x:h+l+8,y:u},{x:h+l+8,y:u+c},{x:h-8,y:u+c},{x:h-8,y:u},{x:h,y:u},{x:h,y:u+c}],y=d.polygon(m.map(v=>[v.x,v.y]),g),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container").attr("style",_e(p)),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),o.attr("transform",`translate(${-l/2+4+(t.padding??0)-(n.x-(n.left??0))},${-c/2+(t.padding??0)-(n.y-(n.top??0))})`),ot(t,b),t.intersect=function(v){return tt.rect(t,v)},a}f(uy,"shadedProcess");async function py(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=-s/2,h=-l/2,{cssStyles:u}=t,p=at.svg(a),d=nt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const g=[{x:c,y:h},{x:c,y:h+l},{x:c+s,y:h+l},{x:c+s,y:h-l/2}],m=Mt(g),y=p.path(m,d),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),b.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(n.x-(n.left??0))}, ${-l/4+(t.padding??0)-(n.y-(n.top??0))})`),ot(t,b),t.intersect=function(v){return tt.polygon(t,g,v)},a}f(py,"slopedRect");async function dy(e,t){const r={rx:0,ry:0,labelPaddingX:((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Un(e,t,r)}f(dy,"squareRect");async function fy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=n.height+t.padding,s=n.width+o/4+t.padding;let l;const{cssStyles:c}=t;if(t.look==="handDrawn"){const h=at.svg(a),u=nt(t,{}),p=Er(-s/2,-o/2,s,o,o/2),d=h.path(p,u);l=a.insert(()=>d,":first-child"),l.attr("class","basic label-container").attr("style",_e(c))}else l=a.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",i).attr("rx",o/2).attr("ry",o/2).attr("x",-s/2).attr("y",-o/2).attr("width",s).attr("height",o);return ot(t,l),t.intersect=function(h){return tt.rect(t,h)},a}f(fy,"stadium");async function gy(e,t){return Un(e,t,{rx:5,ry:5})}f(gy,"state");function my(e,t,{config:{themeVariables:r}}){const{labelStyles:i,nodeStyles:a}=lt(t);t.labelStyle=i;const{cssStyles:n}=t,{lineColor:o,stateBorder:s,nodeBorder:l}=r,c=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),h=at.svg(c),u=nt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const p=h.circle(0,0,14,{...u,stroke:o,strokeWidth:2}),d=s??l,g=h.circle(0,0,5,{...u,fill:d,stroke:d,strokeWidth:2,fillStyle:"solid"}),m=c.insert(()=>p,":first-child");return m.insert(()=>g),n&&m.selectAll("path").attr("style",n),a&&m.selectAll("path").attr("style",a),ot(t,m),t.intersect=function(y){return tt.circle(t,7,y)},c}f(my,"stateEnd");function yy(e,t,{config:{themeVariables:r}}){const{lineColor:i}=r,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let n;if(t.look==="handDrawn"){const s=at.svg(a).circle(0,0,14,Rx(i));n=a.insert(()=>s),n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else n=a.insert("circle",":first-child"),n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return ot(t,n),t.intersect=function(o){return tt.circle(t,7,o)},a}f(yy,"stateStart");async function by(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=((t==null?void 0:t.padding)||0)/2,s=n.width+t.padding,l=n.height+t.padding,c=-n.width/2-o,h=-n.height/2-o,u=[{x:0,y:0},{x:s,y:0},{x:s,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){const p=at.svg(a),d=nt(t,{}),g=p.rectangle(c-8,h,s+16,l,d),m=p.line(c,h,c,h+l,d),y=p.line(c+s,h,c+s,h+l,d);a.insert(()=>m,":first-child"),a.insert(()=>y,":first-child");const b=a.insert(()=>g,":first-child"),{cssStyles:v}=t;b.attr("class","basic label-container").attr("style",_e(v)),ot(t,b)}else{const p=$r(a,s,l,u);i&&p.attr("style",i),ot(t,p)}return t.intersect=function(p){return tt.polygon(t,u,p)},a}f(by,"subroutine");async function vy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),s=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=-o/2,c=-s/2,h=.2*s,u=.2*s,{cssStyles:p}=t,d=at.svg(a),g=nt(t,{}),m=[{x:l-h/2,y:c},{x:l+o+h/2,y:c},{x:l+o+h/2,y:c+s},{x:l-h/2,y:c+s}],y=[{x:l+o-h/2,y:c+s},{x:l+o+h/2,y:c+s},{x:l+o+h/2,y:c+s-u}];t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const b=Mt(m),v=d.path(b,g),w=Mt(y),T=d.path(w,{...g,fillStyle:"solid"}),S=a.insert(()=>T,":first-child");return S.insert(()=>v,":first-child"),S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),ot(t,S),t.intersect=function(x){return tt.polygon(t,m,x)},a}f(vy,"taggedRect");async function xy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/4,h=.2*s,u=.2*l,p=l+c,{cssStyles:d}=t,g=at.svg(a),m=nt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-s/2-s/2*.1,y:p/2},...jr(-s/2-s/2*.1,p/2,s/2+s/2*.1,p/2,c,.8),{x:s/2+s/2*.1,y:-p/2},{x:-s/2-s/2*.1,y:-p/2}],b=-s/2+s/2*.1,v=-p/2-u*.4,w=[{x:b+s-h,y:(v+l)*1.4},{x:b+s,y:v+l-u},{x:b+s,y:(v+l)*.9},...jr(b+s,(v+l)*1.3,b+s-h,(v+l)*1.5,-l*.03,.5)],T=Mt(y),S=g.path(T,m),x=Mt(w),M=g.path(x,{...m,fillStyle:"solid"}),N=a.insert(()=>M,":first-child");return N.insert(()=>S,":first-child"),N.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",i),N.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(n.x-(n.left??0))},${-l/2+(t.padding??0)-c/2-(n.y-(n.top??0))})`),ot(t,N),t.intersect=function(V){return tt.polygon(t,y,V)},a}f(xy,"taggedWaveEdgedRectangle");async function _y(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=Math.max(n.width+t.padding,(t==null?void 0:t.width)||0),s=Math.max(n.height+t.padding,(t==null?void 0:t.height)||0),l=-o/2,c=-s/2,h=a.insert("rect",":first-child");return h.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",o).attr("height",s),ot(t,h),t.intersect=function(u){return tt.rect(t,u)},a}f(_y,"text");var QT=f((e,t,r,i,a,n)=>`M${e},${t}
    a${a},${n} 0,0,1 0,${-i}
    l${r},0
    a${a},${n} 0,0,1 0,${i}
    M${r},${-i}
    a${a},${n} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),JT=f((e,t,r,i,a,n)=>[`M${e},${t}`,`M${e+r},${t}`,`a${a},${n} 0,0,0 0,${-i}`,`l${-r},0`,`a${a},${n} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),tM=f((e,t,r,i,a,n)=>[`M${e+r/2},${-i/2}`,`a${a},${n} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function wy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o,halfPadding:s}=await yt(e,t,gt(t)),l=t.look==="neo"?s*2:s,c=n.height+l,h=c/2,u=h/(2.5+c/50),p=n.width+u+l,{cssStyles:d}=t;let g;if(t.look==="handDrawn"){const m=at.svg(a),y=JT(0,0,p,c,u,h),b=tM(0,0,p,c,u,h),v=m.path(y,nt(t,{})),w=m.path(b,nt(t,{fill:"none"}));g=a.insert(()=>w,":first-child"),g=a.insert(()=>v,":first-child"),g.attr("class","basic label-container"),d&&g.attr("style",d)}else{const m=QT(0,0,p,c,u,h);g=a.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",_e(d)).attr("style",i),g.attr("class","basic label-container"),d&&g.selectAll("path").attr("style",d),i&&g.selectAll("path").attr("style",i)}return g.attr("label-offset-x",u),g.attr("transform",`translate(${-p/2}, ${c/2} )`),o.attr("transform",`translate(${-(n.width/2)-u-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),ot(t,g),t.intersect=function(m){const y=tt.rect(t,m),b=y.y-(t.y??0);if(h!=0&&(Math.abs(b)<(t.height??0)/2||Math.abs(b)==(t.height??0)/2&&Math.abs(y.x-(t.x??0))>(t.width??0)/2-u)){let v=u*u*(1-b*b/(h*h));v!=0&&(v=Math.sqrt(Math.abs(v))),v=u-v,m.x-(t.x??0)>0&&(v=-v),y.x+=v}return y},a}f(wy,"tiltedCylinder");async function Cy(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=n.width+t.padding,s=n.height+t.padding,l=[{x:-3*s/6,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:0,y:-s}];let c;const{cssStyles:h}=t;if(t.look==="handDrawn"){const u=at.svg(a),p=nt(t,{}),d=Mt(l),g=u.path(d,p);c=a.insert(()=>g,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),h&&c.attr("style",h)}else c=$r(a,o,s,l);return i&&c.attr("style",i),t.width=o,t.height=s,ot(t,c),t.intersect=function(u){return tt.polygon(t,l,u)},a}f(Cy,"trapezoid");async function ky(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=60,s=20,l=Math.max(o,n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s,n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:h}=t,u=at.svg(a),p=nt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const d=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],g=Mt(d),m=u.path(g,p),y=a.insert(()=>m,":first-child");return y.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),ot(t,y),t.intersect=function(b){return tt.polygon(t,d,b)},a}f(ky,"trapezoidalPentagon");async function Sy(e,t){var v;const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=re((v=Lt().flowchart)==null?void 0:v.htmlLabels),l=n.width+(t.padding??0),c=l+n.height,h=l+n.height,u=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-c}],{cssStyles:p}=t,d=at.svg(a),g=nt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=Mt(u),y=d.path(m,g),b=a.insert(()=>y,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return p&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),t.width=l,t.height=c,ot(t,b),o.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${c/2-(n.height+(t.padding??0)/(s?2:1)-(n.y-(n.top??0)))})`),t.intersect=function(w){return I.info("Triangle intersect",t,u,w),tt.polygon(t,u,w)},a}f(Sy,"triangle");async function Ty(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=l/8,h=l+c,{cssStyles:u}=t,d=70-s,g=d>0?d/2:0,m=at.svg(a),y=nt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:-s/2-g,y:h/2},...jr(-s/2-g,h/2,s/2+g,h/2,c,.8),{x:s/2+g,y:-h/2},{x:-s/2-g,y:-h/2}],v=Mt(b),w=m.path(v,y),T=a.insert(()=>w,":first-child");return T.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",u),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),T.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(n.x-(n.left??0))},${-l/2+(t.padding??0)-c-(n.y-(n.top??0))})`),ot(t,T),t.intersect=function(S){return tt.polygon(t,b,S)},a}f(Ty,"waveEdgedRectangle");async function My(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n}=await yt(e,t,gt(t)),o=100,s=50,l=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=l/c;let u=l,p=c;u>p*h?p=u/h:u=p*h,u=Math.max(u,o),p=Math.max(p,s);const d=Math.min(p*.2,p/4),g=p+d*2,{cssStyles:m}=t,y=at.svg(a),b=nt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const v=[{x:-u/2,y:g/2},...jr(-u/2,g/2,u/2,g/2,d,1),{x:u/2,y:-g/2},...jr(u/2,-g/2,-u/2,-g/2,d,-1)],w=Mt(v),T=y.path(w,b),S=a.insert(()=>T,":first-child");return S.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),ot(t,S),t.intersect=function(x){return tt.polygon(t,v,x)},a}f(My,"waveRectangle");async function Ay(e,t){const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const{shapeSvg:a,bbox:n,label:o}=await yt(e,t,gt(t)),s=Math.max(n.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(n.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),c=5,h=-s/2,u=-l/2,{cssStyles:p}=t,d=at.svg(a),g=nt(t,{}),m=[{x:h-c,y:u-c},{x:h-c,y:u+l},{x:h+s,y:u+l},{x:h+s,y:u-c}],y=`M${h-c},${u-c} L${h+s},${u-c} L${h+s},${u+l} L${h-c},${u+l} L${h-c},${u-c}
                M${h-c},${u} L${h+s},${u}
                M${h},${u-c} L${h},${u+l}`;t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const b=d.path(y,g),v=a.insert(()=>b,":first-child");return v.attr("transform",`translate(${c/2}, ${c/2})`),v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),o.attr("transform",`translate(${-(n.width/2)+c/2-(n.x-(n.left??0))}, ${-(n.height/2)+c/2-(n.y-(n.top??0))})`),ot(t,v),t.intersect=function(w){return tt.polygon(t,m,w)},a}f(Ay,"windowPane");async function gh(e,t){var At,bt,Ht,xt;const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:pt}=Le(),{background:ut}=pt,Nt={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${ut}`]};await gh(e,Nt)}const i=Le();t.useHtmlLabels=i.htmlLabels;let a=((At=i.er)==null?void 0:At.diagramPadding)??10,n=((bt=i.er)==null?void 0:bt.entityPadding)??6;const{cssStyles:o}=t,{labelStyles:s,nodeStyles:l}=lt(t);if(r.attributes.length===0&&t.label){const pt={rx:0,ry:0,labelPaddingX:a,labelPaddingY:a*1.5};Br(t.label,i)+pt.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);const ut=await Un(e,t,pt);if(!re(i.htmlLabels)){const Nt=ut.select("text"),Rt=(Ht=Nt.node())==null?void 0:Ht.getBBox();Nt.attr("transform",`translate(${-Rt.width/2}, 0)`)}return ut}i.htmlLabels||(a*=1.25,n*=1.25);let c=gt(t);c||(c="node default");const h=e.insert("g").attr("class",c).attr("id",t.domId||t.id),u=await Qi(h,t.label??"",i,0,0,["name"],s);u.height+=n;let p=0;const d=[],g=[];let m=0,y=0,b=0,v=0,w=!0,T=!0;for(const pt of r.attributes){const ut=await Qi(h,pt.type,i,0,p,["attribute-type"],s);m=Math.max(m,ut.width+a);const Nt=await Qi(h,pt.name,i,0,p,["attribute-name"],s);y=Math.max(y,Nt.width+a);const Rt=await Qi(h,pt.keys.join(),i,0,p,["attribute-keys"],s);b=Math.max(b,Rt.width+a);const Ft=await Qi(h,pt.comment,i,0,p,["attribute-comment"],s);v=Math.max(v,Ft.width+a);const jt=Math.max(ut.height,Nt.height,Rt.height,Ft.height)+n;g.push({yOffset:p,rowHeight:jt}),p+=jt}let S=4;b<=a&&(w=!1,b=0,S--),v<=a&&(T=!1,v=0,S--);const x=h.node().getBBox();if(u.width+a*2-(m+y+b+v)>0){const pt=u.width+a*2-(m+y+b+v);m+=pt/S,y+=pt/S,b>0&&(b+=pt/S),v>0&&(v+=pt/S)}const M=m+y+b+v,N=at.svg(h),V=nt(t,{});t.look!=="handDrawn"&&(V.roughness=0,V.fillStyle="solid");let z=0;g.length>0&&(z=g.reduce((pt,ut)=>pt+((ut==null?void 0:ut.rowHeight)??0),0));const P=Math.max(x.width+a*2,(t==null?void 0:t.width)||0,M),U=Math.max((z??0)+u.height,(t==null?void 0:t.height)||0),O=-P/2,E=-U/2;h.selectAll("g:not(:first-child)").each((pt,ut,Nt)=>{const Rt=Tt(Nt[ut]),Ft=Rt.attr("transform");let jt=0,ne=0;if(Ft){const ke=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ft);ke&&(jt=parseFloat(ke[1]),ne=parseFloat(ke[2]),Rt.attr("class").includes("attribute-name")?jt+=m:Rt.attr("class").includes("attribute-keys")?jt+=m+y:Rt.attr("class").includes("attribute-comment")&&(jt+=m+y+b))}Rt.attr("transform",`translate(${O+a/2+jt}, ${ne+E+u.height+n/2})`)}),h.select(".name").attr("transform","translate("+-u.width/2+", "+(E+n/2)+")");const F=N.rectangle(O,E,P,U,V),L=h.insert(()=>F,":first-child").attr("style",o.join("")),{themeVariables:D}=Le(),{rowEven:$,rowOdd:X,nodeBorder:et}=D;d.push(0);for(const[pt,ut]of g.entries()){const Rt=(pt+1)%2===0&&ut.yOffset!==0,Ft=N.rectangle(O,u.height+E+(ut==null?void 0:ut.yOffset),P,ut==null?void 0:ut.rowHeight,{...V,fill:Rt?$:X,stroke:et});h.insert(()=>Ft,"g.label").attr("style",o.join("")).attr("class",`row-rect-${Rt?"even":"odd"}`)}let rt=N.line(O,u.height+E,P+O,u.height+E,V);h.insert(()=>rt).attr("class","divider"),rt=N.line(m+O,u.height+E,m+O,U+E,V),h.insert(()=>rt).attr("class","divider"),w&&(rt=N.line(m+y+O,u.height+E,m+y+O,U+E,V),h.insert(()=>rt).attr("class","divider")),T&&(rt=N.line(m+y+b+O,u.height+E,m+y+b+O,U+E,V),h.insert(()=>rt).attr("class","divider"));for(const pt of d)rt=N.line(O,u.height+E+pt,P+O,u.height+E+pt,V),h.insert(()=>rt).attr("class","divider");if(ot(t,L),l&&t.look!=="handDrawn"){const pt=l.split(";"),ut=(xt=pt==null?void 0:pt.filter(Nt=>Nt.includes("stroke")))==null?void 0:xt.map(Nt=>`${Nt}`).join("; ");h.selectAll("path").attr("style",ut??""),h.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(pt){return tt.rect(t,pt)},h}f(gh,"erBox");async function Qi(e,t,r,i=0,a=0,n=[],o=""){const s=e.insert("g").attr("class",`label ${n.join(" ")}`).attr("transform",`translate(${i}, ${a})`).attr("style",o);t!==qh(t)&&(t=qh(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=s.node().appendChild(await Ur(s,t,{width:Br(t,r)+100,style:o,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let h=l.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(re(r.htmlLabels)){const h=l.children[0];h.style.textAlign="start";const u=Tt(l);c=h.getBoundingClientRect(),u.attr("width",c.width),u.attr("height",c.height)}return c}f(Qi,"addText");async function By(e,t,r,i,a=r.class.padding??12){const n=i?0:3,o=e.insert("g").attr("class",gt(t)).attr("id",t.domId||t.id);let s=null,l=null,c=null,h=null,u=0,p=0,d=0;if(s=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const v=t.annotations[0];await mn(s,{text:`«${v}»`},0),u=s.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await mn(l,t,0,["font-weight: bolder"]);const g=l.node().getBBox();p=g.height,c=o.insert("g").attr("class","members-group text");let m=0;for(const v of t.members){const w=await mn(c,v,m,[v.parseClassifier()]);m+=w+n}d=c.node().getBBox().height,d<=0&&(d=a/2),h=o.insert("g").attr("class","methods-group text");let y=0;for(const v of t.methods){const w=await mn(h,v,y,[v.parseClassifier()]);y+=w+n}let b=o.node().getBBox();if(s!==null){const v=s.node().getBBox();s.attr("transform",`translate(${-v.width/2})`)}return l.attr("transform",`translate(${-g.width/2}, ${u})`),b=o.node().getBBox(),c.attr("transform",`translate(0, ${u+p+a*2})`),b=o.node().getBBox(),h.attr("transform",`translate(0, ${u+p+(d?d+a*4:a*2)})`),b=o.node().getBBox(),{shapeSvg:o,bbox:b}}f(By,"textHelper");async function mn(e,t,r,i=[]){const a=e.insert("g").attr("class","label").attr("style",i.join("; ")),n=Le();let o="useHtmlLabels"in t?t.useHtmlLabels:re(n.htmlLabels)??!0,s="";"text"in t?s=t.text:s=t.label,!o&&s.startsWith("\\")&&(s=s.substring(1)),fa(s)&&(o=!0);const l=await Ur(a,ko(ki(s)),{width:Br(s,n)+50,classes:"markdown-node-label",useHtmlLabels:o},n);let c,h=1;if(o){const u=l.children[0],p=Tt(l);h=u.innerHTML.split("<br>").length,u.innerHTML.includes("</math>")&&(h+=u.innerHTML.split("<mrow>").length-1);const d=u.getElementsByTagName("img");if(d){const g=s.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...d].map(m=>new Promise(y=>{function b(){var v;if(m.style.display="flex",m.style.flexDirection="column",g){const w=((v=n.fontSize)==null?void 0:v.toString())??window.getComputedStyle(document.body).fontSize,S=parseInt(w,10)*5+"px";m.style.minWidth=S,m.style.maxWidth=S}else m.style.width="100%";y(m)}f(b,"setupImage"),setTimeout(()=>{m.complete&&b()}),m.addEventListener("error",b),m.addEventListener("load",b)})))}c=u.getBoundingClientRect(),p.attr("width",c.width),p.attr("height",c.height)}else{i.includes("font-weight: bolder")&&Tt(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const u=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(u.textContent=s[0]+s.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),s[1]===" "&&(u.textContent=u.textContent[0]+" "+u.textContent.substring(1))),u.textContent==="undefined"&&(u.textContent=""),c=l.getBBox()}return a.attr("transform","translate(0,"+(-c.height/(2*h)+r)+")"),c.height}f(mn,"addText");async function Ly(e,t){var V,z;const r=Lt(),i=r.class.padding??12,a=i,n=t.useHtmlLabels??re(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:s,bbox:l}=await By(e,t,r,n,a),{labelStyles:c,nodeStyles:h}=lt(t);t.labelStyle=c,t.cssStyles=o.styles||"";const u=((V=o.styles)==null?void 0:V.join(";"))||h||"";t.cssStyles||(t.cssStyles=u.replaceAll("!important","").split(";"));const p=o.members.length===0&&o.methods.length===0&&!((z=r.class)!=null&&z.hideEmptyMembersBox),d=at.svg(s),g=nt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=l.width;let y=l.height;o.members.length===0&&o.methods.length===0?y+=a:o.members.length>0&&o.methods.length===0&&(y+=a*2);const b=-m/2,v=-y/2,w=d.rectangle(b-i,v-i-(p?i:o.members.length===0&&o.methods.length===0?-i/2:0),m+2*i,y+2*i+(p?i*2:o.members.length===0&&o.methods.length===0?-i:0),g),T=s.insert(()=>w,":first-child");T.attr("class","basic label-container");const S=T.node().getBBox();s.selectAll(".text").each((P,U,O)=>{var X;const E=Tt(O[U]),F=E.attr("transform");let L=0;if(F){const rt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(F);rt&&(L=parseFloat(rt[2]))}let D=L+v+i-(p?i:o.members.length===0&&o.methods.length===0?-i/2:0);n||(D-=4);let $=b;(E.attr("class").includes("label-group")||E.attr("class").includes("annotation-group"))&&($=-((X=E.node())==null?void 0:X.getBBox().width)/2||0,s.selectAll("text").each(function(et,rt,At){window.getComputedStyle(At[rt]).textAnchor==="middle"&&($=0)})),E.attr("transform",`translate(${$}, ${D})`)});const x=s.select(".annotation-group").node().getBBox().height-(p?i/2:0)||0,M=s.select(".label-group").node().getBBox().height-(p?i/2:0)||0,N=s.select(".members-group").node().getBBox().height-(p?i/2:0)||0;if(o.members.length>0||o.methods.length>0||p){const P=d.line(S.x,x+M+v+i,S.x+S.width,x+M+v+i,g);s.insert(()=>P).attr("class","divider").attr("style",u)}if(p||o.members.length>0||o.methods.length>0){const P=d.line(S.x,x+M+N+v+a*2+i,S.x+S.width,x+M+N+v+i+a*2,g);s.insert(()=>P).attr("class","divider").attr("style",u)}if(o.look!=="handDrawn"&&s.selectAll("path").attr("style",u),T.select(":nth-child(2)").attr("style",u),s.selectAll(".divider").select("path").attr("style",u),t.labelStyle?s.selectAll("span").attr("style",t.labelStyle):s.selectAll("span").attr("style",u),!n){const P=RegExp(/color\s*:\s*([^;]*)/),U=P.exec(u);if(U){const O=U[0].replace("color","fill");s.selectAll("tspan").attr("style",O)}else if(c){const O=P.exec(c);if(O){const E=O[0].replace("color","fill");s.selectAll("tspan").attr("style",E)}}}return ot(t,T),t.intersect=function(P){return tt.rect(t,P)},s}f(Ly,"classBox");async function Ey(e,t){var x,M;const{labelStyles:r,nodeStyles:i}=lt(t);t.labelStyle=r;const a=t,n=t,o=20,s=20,l="verifyMethod"in t,c=gt(t),h=e.insert("g").attr("class",c).attr("id",t.domId??t.id);let u;l?u=await rr(h,`&lt;&lt;${a.type}&gt;&gt;`,0,t.labelStyle):u=await rr(h,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let p=u;const d=await rr(h,a.name,p,t.labelStyle+"; font-weight: bold;");if(p+=d+s,l){const N=await rr(h,`${a.requirementId?`id: ${a.requirementId}`:""}`,p,t.labelStyle);p+=N;const V=await rr(h,`${a.text?`Text: ${a.text}`:""}`,p,t.labelStyle);p+=V;const z=await rr(h,`${a.risk?`Risk: ${a.risk}`:""}`,p,t.labelStyle);p+=z,await rr(h,`${a.verifyMethod?`Verification: ${a.verifyMethod}`:""}`,p,t.labelStyle)}else{const N=await rr(h,`${n.type?`Type: ${n.type}`:""}`,p,t.labelStyle);p+=N,await rr(h,`${n.docRef?`Doc Ref: ${n.docRef}`:""}`,p,t.labelStyle)}const g=(((x=h.node())==null?void 0:x.getBBox().width)??200)+o,m=(((M=h.node())==null?void 0:M.getBBox().height)??200)+o,y=-g/2,b=-m/2,v=at.svg(h),w=nt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=v.rectangle(y,b,g,m,w),S=h.insert(()=>T,":first-child");if(S.attr("class","basic label-container").attr("style",i),h.selectAll(".label").each((N,V,z)=>{const P=Tt(z[V]),U=P.attr("transform");let O=0,E=0;if(U){const $=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(U);$&&(O=parseFloat($[1]),E=parseFloat($[2]))}const F=E-m/2;let L=y+o/2;(V===0||V===1)&&(L=O),P.attr("transform",`translate(${L}, ${F+o})`)}),p>u+d+s){const N=v.line(y,b+u+d+s,y+g,b+u+d+s,w);h.insert(()=>N).attr("style",i)}return ot(t,S),t.intersect=function(N){return tt.rect(t,N)},h}f(Ey,"requirementBox");async function rr(e,t,r,i=""){if(t==="")return 0;const a=e.insert("g").attr("class","label").attr("style",i),n=Lt(),o=n.htmlLabels??!0,s=await Ur(a,ko(ki(t)),{width:Br(t,n)+50,classes:"markdown-node-label",useHtmlLabels:o,style:i},n);let l;if(o){const c=s.children[0],h=Tt(s);l=c.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}else{const c=s.children[0];for(const h of c.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&h.setAttribute("style",i);l=s.getBBox(),l.height+=6}return a.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}f(rr,"addText");var eM=f(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function $y(e,t,{config:r}){var U,O;const{labelStyles:i,nodeStyles:a}=lt(t);t.labelStyle=i||"";const n=10,o=t.width;t.width=(t.width??200)-10;const{shapeSvg:s,bbox:l,label:c}=await yt(e,t,gt(t)),h=t.padding||10;let u="",p;"ticket"in t&&t.ticket&&((U=r==null?void 0:r.kanban)!=null&&U.ticketBaseUrl)&&(u=(O=r==null?void 0:r.kanban)==null?void 0:O.ticketBaseUrl.replace("#TICKET#",t.ticket),p=s.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",u).attr("target","_blank"));const d={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let g,m;p?{label:g,bbox:m}=await ml(p,"ticket"in t&&t.ticket||"",d):{label:g,bbox:m}=await ml(s,"ticket"in t&&t.ticket||"",d);const{label:y,bbox:b}=await ml(s,"assigned"in t&&t.assigned||"",d);t.width=o;const v=10,w=(t==null?void 0:t.width)||0,T=Math.max(m.height,b.height)/2,S=Math.max(l.height+v*2,(t==null?void 0:t.height)||0)+T,x=-w/2,M=-S/2;c.attr("transform","translate("+(h-w/2)+", "+(-T-l.height/2)+")"),g.attr("transform","translate("+(h-w/2)+", "+(-T+l.height/2)+")"),y.attr("transform","translate("+(h+w/2-b.width-2*n)+", "+(-T+l.height/2)+")");let N;const{rx:V,ry:z}=t,{cssStyles:P}=t;if(t.look==="handDrawn"){const E=at.svg(s),F=nt(t,{}),L=V||z?E.path(Er(x,M,w,S,V||0),F):E.rectangle(x,M,w,S,F);N=s.insert(()=>L,":first-child"),N.attr("class","basic label-container").attr("style",P||null)}else{N=s.insert("rect",":first-child"),N.attr("class","basic label-container __APA__").attr("style",a).attr("rx",V??5).attr("ry",z??5).attr("x",x).attr("y",M).attr("width",w).attr("height",S);const E="priority"in t&&t.priority;if(E){const F=s.append("line"),L=x+2,D=M+Math.floor((V??0)/2),$=M+S-Math.floor((V??0)/2);F.attr("x1",L).attr("y1",D).attr("x2",L).attr("y2",$).attr("stroke-width","4").attr("stroke",eM(E))}}return ot(t,N),t.height=S,t.intersect=function(E){return tt.rect(t,E)},s}f($y,"kanbanItem");var rM=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:dy},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:hy},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:fy},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:by},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Om},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Lm},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:oy},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:jm},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:ty},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Jm},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Cy},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Km},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Nm},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:_y},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Am},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:uy},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:yy},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:my},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Wm},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Vm},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Fm},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Pm},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Dm},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:ey},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Ty},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Hm},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:wy},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:ry},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Rm},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Im},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Sy},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Ay},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:qm},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:ky},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:zm},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:py},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:ny},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:ay},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Mm},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:$m},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:xy},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:vy},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:My},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:ly},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:iy}],iM=f(()=>{const t=[...Object.entries({state:gy,choice:Bm,note:sy,rectWithTitle:cy,labelRect:Qm,iconSquare:Xm,iconCircle:Ym,icon:Um,iconRounded:Gm,imageSquare:Zm,anchor:Tm,kanbanItem:$y,classBox:Ly,erBox:gh,requirementBox:Ey}),...rM.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(a=>[a,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),Fy=iM();function aM(e){return e in Fy}f(aM,"isValidShape");var Ho=new Map;async function Py(e,t,r){let i,a;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const n=t.shape?Fy[t.shape]:void 0;if(!n)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;r.config.securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),a=await n(i,t,r)}else a=await n(e,t,r),i=a;return t.tooltip&&a.attr("title",t.tooltip),Ho.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}f(Py,"insertNode");var dE=f((e,t)=>{Ho.set(t.id,e)},"setNodeElem"),fE=f(()=>{Ho.clear()},"clear"),gE=f(e=>{const t=Ho.get(e.id);I.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode"),nM=f((e,t,r,i,a,n)=>{t.arrowTypeStart&&Uu(e,"start",t.arrowTypeStart,r,i,a,n),t.arrowTypeEnd&&Uu(e,"end",t.arrowTypeEnd,r,i,a,n)},"addEdgeMarkers"),sM={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},Uu=f((e,t,r,i,a,n,o)=>{var u;const s=sM[r];if(!s){I.warn(`Unknown arrow type: ${r}`);return}const l=s.type,h=`${a}_${n}-${l}${t==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const p=o.replace(/[^\dA-Za-z]/g,"_"),d=`${h}_${p}`;if(!document.getElementById(d)){const g=document.getElementById(h);if(g){const m=g.cloneNode(!0);m.id=d,m.querySelectorAll("path, circle, line").forEach(b=>{b.setAttribute("stroke",o),s.fill&&b.setAttribute("fill",o)}),(u=g.parentNode)==null||u.appendChild(m)}}e.attr(`marker-${t}`,`url(${i}#${d})`)}else e.attr(`marker-${t}`,`url(${i}#${h})`)},"addEdgeMarker"),bo=new Map,le=new Map,mE=f(()=>{bo.clear(),le.clear()},"clear"),hn=f(e=>e?e.reduce((r,i)=>r+";"+i,""):"","getLabelStyles"),oM=f(async(e,t)=>{let r=re(Lt().flowchart.htmlLabels);const i=await Ur(e,t.label,{style:hn(t.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});I.info("abc82",t,t.labelType);const a=e.insert("g").attr("class","edgeLabel"),n=a.insert("g").attr("class","label");n.node().appendChild(i);let o=i.getBBox();if(r){const l=i.children[0],c=Tt(i);o=l.getBoundingClientRect(),c.attr("width",o.width),c.attr("height",o.height)}n.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),bo.set(t.id,a),t.width=o.width,t.height=o.height;let s;if(t.startLabelLeft){const l=await ui(t.startLabelLeft,hn(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");s=h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),le.get(t.id)||le.set(t.id,{}),le.get(t.id).startLeft=c,yn(s,t.startLabelLeft)}if(t.startLabelRight){const l=await ui(t.startLabelRight,hn(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");s=c.node().appendChild(l),h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),le.get(t.id)||le.set(t.id,{}),le.get(t.id).startRight=c,yn(s,t.startLabelRight)}if(t.endLabelLeft){const l=await ui(t.endLabelLeft,hn(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");s=h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),c.node().appendChild(l),le.get(t.id)||le.set(t.id,{}),le.get(t.id).endLeft=c,yn(s,t.endLabelLeft)}if(t.endLabelRight){const l=await ui(t.endLabelRight,hn(t.labelStyle)),c=e.insert("g").attr("class","edgeTerminals"),h=c.insert("g").attr("class","inner");s=h.node().appendChild(l);const u=l.getBBox();h.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),c.node().appendChild(l),le.get(t.id)||le.set(t.id,{}),le.get(t.id).endRight=c,yn(s,t.endLabelRight)}return i},"insertEdgeLabel");function yn(e,t){Lt().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}f(yn,"setTerminalWidth");var lM=f((e,t)=>{I.debug("Moving label abc88 ",e.id,e.label,bo.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const i=Lt(),{subGraphTitleTotalMargin:a}=Fc(i);if(e.label){const n=bo.get(e.id);let o=e.x,s=e.y;if(r){const l=ar.calcLabelPosition(r);I.debug("Moving label "+e.label+" from (",o,",",s,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(o=l.x,s=l.y)}n.attr("transform",`translate(${o}, ${s+a/2})`)}if(e.startLabelLeft){const n=le.get(e.id).startLeft;let o=e.x,s=e.y;if(r){const l=ar.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);o=l.x,s=l.y}n.attr("transform",`translate(${o}, ${s})`)}if(e.startLabelRight){const n=le.get(e.id).startRight;let o=e.x,s=e.y;if(r){const l=ar.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);o=l.x,s=l.y}n.attr("transform",`translate(${o}, ${s})`)}if(e.endLabelLeft){const n=le.get(e.id).endLeft;let o=e.x,s=e.y;if(r){const l=ar.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);o=l.x,s=l.y}n.attr("transform",`translate(${o}, ${s})`)}if(e.endLabelRight){const n=le.get(e.id).endRight;let o=e.x,s=e.y;if(r){const l=ar.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);o=l.x,s=l.y}n.attr("transform",`translate(${o}, ${s})`)}},"positionEdgeLabel"),cM=f((e,t)=>{const r=e.x,i=e.y,a=Math.abs(t.x-r),n=Math.abs(t.y-i),o=e.width/2,s=e.height/2;return a>=o||n>=s},"outsideNode"),hM=f((e,t,r)=>{I.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const i=e.x,a=e.y,n=Math.abs(i-r.x),o=e.width/2;let s=r.x<t.x?o-n:o+n;const l=e.height/2,c=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(a-t.y)*o>Math.abs(i-t.x)*l){let u=r.y<t.y?t.y-l-a:a-l-t.y;s=h*u/c;const p={x:r.x<t.x?r.x+s:r.x-h+s,y:r.y<t.y?r.y+c-u:r.y-c+u};return s===0&&(p.x=t.x,p.y=t.y),h===0&&(p.x=t.x),c===0&&(p.y=t.y),I.debug(`abc89 top/bottom calc, Q ${c}, q ${u}, R ${h}, r ${s}`,p),p}else{r.x<t.x?s=t.x-o-i:s=i-o-t.x;let u=c*s/h,p=r.x<t.x?r.x+h-s:r.x-h+s,d=r.y<t.y?r.y+u:r.y-u;return I.debug(`sides calc abc89, Q ${c}, q ${u}, R ${h}, r ${s}`,{_x:p,_y:d}),s===0&&(p=t.x,d=t.y),h===0&&(p=t.x),c===0&&(d=t.y),{x:p,y:d}}},"intersection"),Yu=f((e,t)=>{I.warn("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],a=!1;return e.forEach(n=>{if(I.info("abc88 checking point",n,t),!cM(t,n)&&!a){const o=hM(t,i,n);I.debug("abc88 inside",n,i,o),I.debug("abc88 intersection",o,t);let s=!1;r.forEach(l=>{s=s||l.x===o.x&&l.y===o.y}),r.some(l=>l.x===o.x&&l.y===o.y)?I.warn("abc88 no intersect",o,r):r.push(o),a=!0}else I.warn("abc88 outside",n,i),i=n,a||r.push(n)}),I.debug("returning points",r),r},"cutPathAtIntersect");function Dy(e){const t=[],r=[];for(let i=1;i<e.length-1;i++){const a=e[i-1],n=e[i],o=e[i+1];(a.x===n.x&&n.y===o.y&&Math.abs(n.x-o.x)>5&&Math.abs(n.y-a.y)>5||a.y===n.y&&n.x===o.x&&Math.abs(n.x-a.x)>5&&Math.abs(n.y-o.y)>5)&&(t.push(n),r.push(i))}return{cornerPoints:t,cornerPointPositions:r}}f(Dy,"extractCornerPoints");var Gu=f(function(e,t,r){const i=t.x-e.x,a=t.y-e.y,n=Math.sqrt(i*i+a*a),o=r/n;return{x:t.x-o*i,y:t.y-o*a}},"findAdjacentPoint"),uM=f(function(e){const{cornerPointPositions:t}=Dy(e),r=[];for(let i=0;i<e.length;i++)if(t.includes(i)){const a=e[i-1],n=e[i+1],o=e[i],s=Gu(a,o,5),l=Gu(n,o,5),c=l.x-s.x,h=l.y-s.y;r.push(s);const u=Math.sqrt(2)*2;let p={x:o.x,y:o.y};if(Math.abs(n.x-a.x)>10&&Math.abs(n.y-a.y)>=10){I.debug("Corner point fixing",Math.abs(n.x-a.x),Math.abs(n.y-a.y));const d=5;o.x===s.x?p={x:c<0?s.x-d+u:s.x+d-u,y:h<0?s.y-u:s.y+u}:p={x:c<0?s.x-u:s.x+u,y:h<0?s.y-d+u:s.y+d-u}}else I.debug("Corner point skipping fixing",Math.abs(n.x-a.x),Math.abs(n.y-a.y));r.push(p,l)}else r.push(e[i]);return r},"fixCorners"),pM=f(function(e,t,r,i,a,n,o){var V;const{handDrawnSeed:s}=Lt();let l=t.points,c=!1;const h=a;var u=n;const p=[];for(const z in t.cssCompiledStyles)_f(z)||p.push(t.cssCompiledStyles[z]);u.intersect&&h.intersect&&(l=l.slice(1,t.points.length-1),l.unshift(h.intersect(l[0])),I.debug("Last point APA12",t.start,"-->",t.end,l[l.length-1],u,u.intersect(l[l.length-1])),l.push(u.intersect(l[l.length-1]))),t.toCluster&&(I.info("to cluster abc88",r.get(t.toCluster)),l=Yu(t.points,r.get(t.toCluster).node),c=!0),t.fromCluster&&(I.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(l,null,2)),l=Yu(l.reverse(),r.get(t.fromCluster).node).reverse(),c=!0);let d=l.filter(z=>!Number.isNaN(z.y));d=uM(d);let g=Es;switch(g=to,t.curve){case"linear":g=to;break;case"basis":g=Es;break;case"cardinal":g=rg;break;case"bumpX":g=Kf;break;case"bumpY":g=Qf;break;case"catmullRom":g=ag;break;case"monotoneX":g=hg;break;case"monotoneY":g=ug;break;case"natural":g=dg;break;case"step":g=fg;break;case"stepAfter":g=mg;break;case"stepBefore":g=gg;break;default:g=Es}const{x:m,y}=Dx(t),b=lw().x(m).y(y).curve(g);let v;switch(t.thickness){case"normal":v="edge-thickness-normal";break;case"thick":v="edge-thickness-thick";break;case"invisible":v="edge-thickness-invisible";break;default:v="edge-thickness-normal"}switch(t.pattern){case"solid":v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed";break;default:v+=" edge-pattern-solid"}let w,T=b(d);const S=Array.isArray(t.style)?t.style:t.style?[t.style]:[];let x=S.find(z=>z==null?void 0:z.startsWith("stroke:"));if(t.look==="handDrawn"){const z=at.svg(e);Object.assign([],d);const P=z.path(T,{roughness:.3,seed:s});v+=" transition",w=Tt(P).select("path").attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")).attr("style",S?S.reduce((O,E)=>O+";"+E,""):"");let U=w.attr("d");w.attr("d",U),e.node().appendChild(w.node())}else{const z=p.join(";"),P=S?S.reduce((E,F)=>E+F+";",""):"";let U="";t.animate&&(U=" edge-animation-fast"),t.animation&&(U=" edge-animation-"+t.animation);const O=z?z+";"+P+";":P;w=e.append("path").attr("d",T).attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")+(U??"")).attr("style",O),x=(V=O.match(/stroke:([^;]+)/))==null?void 0:V[1]}let M="";(Lt().flowchart.arrowMarkerAbsolute||Lt().state.arrowMarkerAbsolute)&&(M=Rp(!0)),I.info("arrowTypeStart",t.arrowTypeStart),I.info("arrowTypeEnd",t.arrowTypeEnd),nM(w,t,M,o,i,x);let N={};return c&&(N.updatedPath=l),N.originalPath=t.points,N},"insertEdge"),dM=f((e,t,r,i)=>{t.forEach(a=>{BM[a](e,r,i)})},"insertMarkers"),fM=f((e,t,r)=>{I.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),gM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),mM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),yM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),bM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),vM=f((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),xM=f((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),_M=f((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),wM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),CM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),kM=f((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),SM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),TM=f((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),MM=f((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),AM=f((e,t,r)=>{const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),BM={extension:fM,composition:gM,aggregation:mM,dependency:yM,lollipop:bM,point:vM,circle:xM,cross:_M,barb:wM,only_one:CM,zero_or_one:kM,one_or_more:SM,zero_or_more:TM,requirement_arrow:MM,requirement_contains:AM},LM=dM,EM={common:_a,getConfig:Le,insertCluster:NT,insertEdge:pM,insertEdgeLabel:oM,insertMarkers:LM,insertNode:Py,interpolateToCurve:Zc,labelHelper:yt,log:I,positionEdgeLabel:lM},Pn={},Ry=f(e=>{for(const t of e)Pn[t.name]=t},"registerLayoutLoaders"),$M=f(()=>{Ry([{name:"dagre",loader:f(async()=>await Pt(()=>import("./CsO4UMui.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");$M();var yE=f(async(e,t)=>{if(!(e.layoutAlgorithm in Pn))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=Pn[e.layoutAlgorithm];return(await r.loader()).render(e,t,EM,{algorithm:r.algorithm})},"render"),bE=f((e="",{fallback:t="dagre"}={})=>{if(e in Pn)return e;if(t in Pn)return I.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),Xu={name:"mermaid",version:"11.9.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.0.0",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},FM=f(e=>{var a;const{securityLevel:t}=Lt();let r=Tt("body");if(t==="sandbox"){const o=((a=Tt(`#i${e}`).node())==null?void 0:a.contentDocument)??document;r=Tt(o.body)}return r.select(`#${e}`)},"selectSvgElement"),Oy="comm",Iy="rule",Ny="decl",PM="@import",DM="@namespace",RM="@keyframes",OM="@layer",qy=Math.abs,mh=String.fromCharCode;function zy(e){return e.trim()}function Ds(e,t,r){return e.replace(t,r)}function IM(e,t,r){return e.indexOf(t,r)}function ra(e,t){return e.charCodeAt(t)|0}function va(e,t,r){return e.slice(t,r)}function ir(e){return e.length}function NM(e){return e.length}function _s(e,t){return t.push(e),e}var jo=1,xa=1,Wy=0,We=0,Jt=0,Ta="";function yh(e,t,r,i,a,n,o,s){return{value:e,root:t,parent:r,type:i,props:a,children:n,line:jo,column:xa,length:o,return:"",siblings:s}}function qM(){return Jt}function zM(){return Jt=We>0?ra(Ta,--We):0,xa--,Jt===10&&(xa=1,jo--),Jt}function Ze(){return Jt=We<Wy?ra(Ta,We++):0,xa++,Jt===10&&(xa=1,jo++),Jt}function Nr(){return ra(Ta,We)}function Rs(){return We}function Vo(e,t){return va(Ta,e,t)}function Dn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WM(e){return jo=xa=1,Wy=ir(Ta=e),We=0,[]}function HM(e){return Ta="",e}function yl(e){return zy(Vo(We-1,uc(e===91?e+2:e===40?e+1:e)))}function jM(e){for(;(Jt=Nr())&&Jt<33;)Ze();return Dn(e)>2||Dn(Jt)>3?"":" "}function VM(e,t){for(;--t&&Ze()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return Vo(e,Rs()+(t<6&&Nr()==32&&Ze()==32))}function uc(e){for(;Ze();)switch(Jt){case e:return We;case 34:case 39:e!==34&&e!==39&&uc(Jt);break;case 40:e===41&&uc(e);break;case 92:Ze();break}return We}function UM(e,t){for(;Ze()&&e+Jt!==57;)if(e+Jt===84&&Nr()===47)break;return"/*"+Vo(t,We-1)+"*"+mh(e===47?e:Ze())}function YM(e){for(;!Dn(Nr());)Ze();return Vo(e,We)}function GM(e){return HM(Os("",null,null,null,[""],e=WM(e),0,[0],e))}function Os(e,t,r,i,a,n,o,s,l){for(var c=0,h=0,u=o,p=0,d=0,g=0,m=1,y=1,b=1,v=0,w="",T=a,S=n,x=i,M=w;y;)switch(g=v,v=Ze()){case 40:if(g!=108&&ra(M,u-1)==58){IM(M+=Ds(yl(v),"&","&\f"),"&\f",qy(c?s[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:M+=yl(v);break;case 9:case 10:case 13:case 32:M+=jM(g);break;case 92:M+=VM(Rs()-1,7);continue;case 47:switch(Nr()){case 42:case 47:_s(XM(UM(Ze(),Rs()),t,r,l),l),(Dn(g||1)==5||Dn(Nr()||1)==5)&&ir(M)&&va(M,-1,void 0)!==" "&&(M+=" ");break;default:M+="/"}break;case 123*m:s[c++]=ir(M)*b;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+h:b==-1&&(M=Ds(M,/\f/g,"")),d>0&&(ir(M)-u||m===0&&g===47)&&_s(d>32?Ku(M+";",i,r,u-1,l):Ku(Ds(M," ","")+";",i,r,u-2,l),l);break;case 59:M+=";";default:if(_s(x=Zu(M,t,r,c,h,a,s,w,T=[],S=[],u,n),n),v===123)if(h===0)Os(M,t,x,x,T,n,u,s,S);else{switch(p){case 99:if(ra(M,3)===110)break;case 108:if(ra(M,2)===97)break;default:h=0;case 100:case 109:case 115:}h?Os(e,x,x,i&&_s(Zu(e,x,x,0,0,a,s,w,a,T=[],u,S),S),a,S,u,s,i?T:S):Os(M,x,x,x,[""],S,0,s,S)}}c=h=d=0,m=b=1,w=M="",u=o;break;case 58:u=1+ir(M),d=g;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&zM()==125)continue}switch(M+=mh(v),v*m){case 38:b=h>0?1:(M+="\f",-1);break;case 44:s[c++]=(ir(M)-1)*b,b=1;break;case 64:Nr()===45&&(M+=yl(Ze())),p=Nr(),h=u=ir(w=M+=YM(Rs())),v++;break;case 45:g===45&&ir(M)==2&&(m=0)}}return n}function Zu(e,t,r,i,a,n,o,s,l,c,h,u){for(var p=a-1,d=a===0?n:[""],g=NM(d),m=0,y=0,b=0;m<i;++m)for(var v=0,w=va(e,p+1,p=qy(y=o[m])),T=e;v<g;++v)(T=zy(y>0?d[v]+" "+w:Ds(w,/&\f/g,d[v])))&&(l[b++]=T);return yh(e,t,r,a===0?Iy:s,l,c,h,u)}function XM(e,t,r,i){return yh(e,t,r,Oy,mh(qM()),va(e,2,-2),0,i)}function Ku(e,t,r,i,a){return yh(e,t,r,Ny,va(e,0,i),va(e,i+1,-1),i,a)}function pc(e,t){for(var r="",i=0;i<e.length;i++)r+=t(e[i],i,e,t)||"";return r}function ZM(e,t,r,i){switch(e.type){case OM:if(e.children.length)break;case PM:case DM:case Ny:return e.return=e.return||e.value;case Oy:return"";case RM:return e.return=e.value+"{"+pc(e.children,i)+"}";case Iy:if(!ir(e.value=e.props.join(",")))return""}return ir(r=pc(e.children,i))?e.return=e.value+"{"+r+"}":""}var KM=xg(Object.keys,Object),QM=Object.prototype,JM=QM.hasOwnProperty;function tA(e){if(!Do(e))return KM(e);var t=[];for(var r in Object(e))JM.call(e,r)&&r!="constructor"&&t.push(r);return t}var dc=Ci(cr,"DataView"),fc=Ci(cr,"Promise"),gc=Ci(cr,"Set"),mc=Ci(cr,"WeakMap"),Qu="[object Map]",eA="[object Object]",Ju="[object Promise]",tp="[object Set]",ep="[object WeakMap]",rp="[object DataView]",rA=wi(dc),iA=wi(Fn),aA=wi(fc),nA=wi(gc),sA=wi(mc),si=Ca;(dc&&si(new dc(new ArrayBuffer(1)))!=rp||Fn&&si(new Fn)!=Qu||fc&&si(fc.resolve())!=Ju||gc&&si(new gc)!=tp||mc&&si(new mc)!=ep)&&(si=function(e){var t=Ca(e),r=t==eA?e.constructor:void 0,i=r?wi(r):"";if(i)switch(i){case rA:return rp;case iA:return Qu;case aA:return Ju;case nA:return tp;case sA:return ep}return t});var oA="[object Map]",lA="[object Set]",cA=Object.prototype,hA=cA.hasOwnProperty;function ip(e){if(e==null)return!0;if(Ro(e)&&(oo(e)||typeof e=="string"||typeof e.splice=="function"||Gc(e)||Xc(e)||so(e)))return!e.length;var t=si(e);if(t==oA||t==lA)return!e.size;if(Do(e))return!tA(e).length;for(var r in e)if(hA.call(e,r))return!1;return!0}var Hy="c4",uA=f(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),pA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./Bj6rPO07.js");return{diagram:t}},__vite__mapDeps([6,7]),import.meta.url);return{id:Hy,diagram:e}},"loader"),dA={id:Hy,detector:uA,loader:pA},fA=dA,jy="flowchart",gA=f((e,t)=>{var r,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),mA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./BppvdS9i.js");return{diagram:t}},__vite__mapDeps([8,9,10,11,12]),import.meta.url);return{id:jy,diagram:e}},"loader"),yA={id:jy,detector:gA,loader:mA},bA=yA,Vy="flowchart-v2",vA=f((e,t)=>{var r,i,a;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((a=t==null?void 0:t.flowchart)==null?void 0:a.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),xA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./BppvdS9i.js");return{diagram:t}},__vite__mapDeps([8,9,10,11,12]),import.meta.url);return{id:Vy,diagram:e}},"loader"),_A={id:Vy,detector:vA,loader:xA},wA=_A,Uy="er",CA=f(e=>/^\s*erDiagram/.test(e),"detector"),kA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./BpCu0HLi.js");return{diagram:t}},__vite__mapDeps([13,10,11,12]),import.meta.url);return{id:Uy,diagram:e}},"loader"),SA={id:Uy,detector:CA,loader:kA},TA=SA,Yy="gitGraph",MA=f(e=>/^\s*gitGraph/.test(e),"detector"),AA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./Dtml9H7w.js");return{diagram:t}},__vite__mapDeps([14,15,16,17,18,2,4,5]),import.meta.url);return{id:Yy,diagram:e}},"loader"),BA={id:Yy,detector:MA,loader:AA},LA=BA,Gy="gantt",EA=f(e=>/^\s*gantt/.test(e),"detector"),$A=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./DyfiqJoM.js");return{diagram:t}},__vite__mapDeps([19,20,21,22,23]),import.meta.url);return{id:Gy,diagram:e}},"loader"),FA={id:Gy,detector:EA,loader:$A},PA=FA,Xy="info",DA=f(e=>/^\s*info/.test(e),"detector"),RA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./B1qStOVU.js");return{diagram:t}},__vite__mapDeps([24,17,18,2,4,5]),import.meta.url);return{id:Xy,diagram:e}},"loader"),OA={id:Xy,detector:DA,loader:RA},Zy="pie",IA=f(e=>/^\s*pie/.test(e),"detector"),NA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./CmMt-DnY.js");return{diagram:t}},__vite__mapDeps([25,15,17,18,2,4,5,26,27,22]),import.meta.url);return{id:Zy,diagram:e}},"loader"),qA={id:Zy,detector:IA,loader:NA},Ky="quadrantChart",zA=f(e=>/^\s*quadrantChart/.test(e),"detector"),WA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./uYgfBDj-.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]),import.meta.url);return{id:Ky,diagram:e}},"loader"),HA={id:Ky,detector:zA,loader:WA},jA=HA,Qy="xychart",VA=f(e=>/^\s*xychart-beta/.test(e),"detector"),UA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./B7rnQKiP.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]),import.meta.url);return{id:Qy,diagram:e}},"loader"),YA={id:Qy,detector:VA,loader:UA},GA=YA,Jy="requirement",XA=f(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),ZA=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./CKSFrlMo.js");return{diagram:t}},__vite__mapDeps([30,10,11]),import.meta.url);return{id:Jy,diagram:e}},"loader"),KA={id:Jy,detector:XA,loader:ZA},QA=KA,t0="sequence",JA=f(e=>/^\s*sequenceDiagram/.test(e),"detector"),tB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./4YvWl9ln.js");return{diagram:t}},__vite__mapDeps([31,7,16]),import.meta.url);return{id:t0,diagram:e}},"loader"),eB={id:t0,detector:JA,loader:tB},rB=eB,e0="class",iB=f((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),aB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./C_w_CTyT.js");return{diagram:t}},__vite__mapDeps([32,33,9,10,11]),import.meta.url);return{id:e0,diagram:e}},"loader"),nB={id:e0,detector:iB,loader:aB},sB=nB,r0="classDiagram",oB=f((e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),lB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./OxUMtMiL.js");return{diagram:t}},__vite__mapDeps([34,33,9,10,11]),import.meta.url);return{id:r0,diagram:e}},"loader"),cB={id:r0,detector:oB,loader:lB},hB=cB,i0="state",uB=f((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),pB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./CRY4doYh.js");return{diagram:t}},__vite__mapDeps([35,36,10,11,1,2,3,4]),import.meta.url);return{id:i0,diagram:e}},"loader"),dB={id:i0,detector:uB,loader:pB},fB=dB,a0="stateDiagram",gB=f((e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),mB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./DhORzUp4.js");return{diagram:t}},__vite__mapDeps([37,36,10,11]),import.meta.url);return{id:a0,diagram:e}},"loader"),yB={id:a0,detector:gB,loader:mB},bB=yB,n0="journey",vB=f(e=>/^\s*journey/.test(e),"detector"),xB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./DtkaNfvi.js");return{diagram:t}},__vite__mapDeps([38,7,9,26]),import.meta.url);return{id:n0,diagram:e}},"loader"),_B={id:n0,detector:vB,loader:xB},wB=_B,CB=f((e,t,r)=>{I.debug(`rendering svg for syntax error
`);const i=FM(t),a=i.append("g");i.attr("viewBox","0 0 2412 512"),Op(i,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),s0={draw:CB},kB=s0,SB={db:{},renderer:s0,parser:{parse:f(()=>{},"parse")}},TB=SB,o0="flowchart-elk",MB=f((e,t={})=>{var r;return/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),AB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./BppvdS9i.js");return{diagram:t}},__vite__mapDeps([8,9,10,11,12]),import.meta.url);return{id:o0,diagram:e}},"loader"),BB={id:o0,detector:MB,loader:AB},LB=BB,l0="timeline",EB=f(e=>/^\s*timeline/.test(e),"detector"),$B=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./BQ48ry4D.js");return{diagram:t}},__vite__mapDeps([39,26]),import.meta.url);return{id:l0,diagram:e}},"loader"),FB={id:l0,detector:EB,loader:$B},PB=FB,c0="mindmap",DB=f(e=>/^\s*mindmap/.test(e),"detector"),RB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./DMB63MHE.js");return{diagram:t}},__vite__mapDeps([40,41,20]),import.meta.url);return{id:c0,diagram:e}},"loader"),OB={id:c0,detector:DB,loader:RB},IB=OB,h0="kanban",NB=f(e=>/^\s*kanban/.test(e),"detector"),qB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./H7aaydby.js");return{diagram:t}},__vite__mapDeps([42,9]),import.meta.url);return{id:h0,diagram:e}},"loader"),zB={id:h0,detector:NB,loader:qB},WB=zB,u0="sankey",HB=f(e=>/^\s*sankey-beta/.test(e),"detector"),jB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./F6dmVYmL.js");return{diagram:t}},__vite__mapDeps([43,27,22]),import.meta.url);return{id:u0,diagram:e}},"loader"),VB={id:u0,detector:HB,loader:jB},UB=VB,p0="packet",YB=f(e=>/^\s*packet(-beta)?/.test(e),"detector"),GB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./B5UdrWF8.js");return{diagram:t}},__vite__mapDeps([44,15,17,18,2,4,5]),import.meta.url);return{id:p0,diagram:e}},"loader"),XB={id:p0,detector:YB,loader:GB},d0="radar",ZB=f(e=>/^\s*radar-beta/.test(e),"detector"),KB=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./ajJ9W05s.js");return{diagram:t}},__vite__mapDeps([45,15,17,18,2,4,5]),import.meta.url);return{id:d0,diagram:e}},"loader"),QB={id:d0,detector:ZB,loader:KB},f0="block",JB=f(e=>/^\s*block-beta/.test(e),"detector"),tL=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./7xD02diL.js");return{diagram:t}},__vite__mapDeps([46,9,5,2,1,12]),import.meta.url);return{id:f0,diagram:e}},"loader"),eL={id:f0,detector:JB,loader:tL},rL=eL,g0="architecture",iL=f(e=>/^\s*architecture/.test(e),"detector"),aL=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./DcWzVnm6.js");return{diagram:t}},__vite__mapDeps([47,15,16,17,18,2,4,5,41,20]),import.meta.url);return{id:g0,diagram:e}},"loader"),nL={id:g0,detector:iL,loader:aL},sL=nL,m0="treemap",oL=f(e=>/^\s*treemap/.test(e),"detector"),lL=f(async()=>{const{diagram:e}=await Pt(async()=>{const{diagram:t}=await import("./ChmeZZBv.js");return{diagram:t}},__vite__mapDeps([48,11,15,17,18,2,4,5,23,27,22]),import.meta.url);return{id:m0,diagram:e}},"loader"),cL={id:m0,detector:oL,loader:lL},ap=!1,Uo=f(()=>{ap||(ap=!0,zs("error",TB,e=>e.toLowerCase().trim()==="error"),zs("---",{db:{clear:f(()=>{},"clear")},styles:{},renderer:{draw:f(()=>{},"draw")},parser:{parse:f(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:f(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),kl(LB,IB,sL),kl(fA,WB,hB,sB,TA,PA,OA,qA,QA,rB,wA,bA,PB,LA,bB,fB,wB,jA,UB,XB,GA,rL,QB,cL))},"addDiagrams"),hL=f(async()=>{I.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(fi).map(async([r,{detector:i,loader:a}])=>{if(a)try{Al(r)}catch{try{const{diagram:n,id:o}=await a();zs(o,n,i)}catch(n){throw I.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete fi[r],n}}}))).filter(r=>r.status==="rejected");if(t.length>0){I.error(`Failed to load ${t.length} external diagrams`);for(const r of t)I.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),uL="graphics-document document";function y0(e,t){e.attr("role",uL),t!==""&&e.attr("aria-roledescription",t)}f(y0,"setA11yDiagramInfo");function b0(e,t,r,i){if(e.insert!==void 0){if(r){const a=`chart-desc-${i}`;e.attr("aria-describedby",a),e.insert("desc",":first-child").attr("id",a).text(r)}if(t){const a=`chart-title-${i}`;e.attr("aria-labelledby",a),e.insert("title",":first-child").attr("id",a).text(t)}}}f(b0,"addSVGa11yTitleDescription");var di,yc=(di=class{constructor(t,r,i,a,n){this.type=t,this.text=r,this.db=i,this.parser=a,this.renderer=n}static async fromText(t,r={}){var c,h;const i=Le(),a=xc(t,i);t=lS(t)+`
`;try{Al(a)}catch{const u=Rb(a);if(!u)throw new Cp(`Diagram ${a} not found.`);const{id:p,diagram:d}=await u();zs(p,d)}const{db:n,parser:o,renderer:s,init:l}=Al(a);return o.parser&&(o.parser.yy=n),(c=n.clear)==null||c.call(n),l==null||l(i),r.title&&((h=n.setDiagramTitle)==null||h.call(n,r.title)),await o.parse(t),new di(a,t,n,o,s)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},f(di,"Diagram"),di),np=[],pL=f(()=>{np.forEach(e=>{e()}),np=[]},"attachFunctions"),dL=f(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function v0(e){const t=e.match(wp);if(!t)return{text:e,metadata:{}};let r=Px(t[1],{schema:Fx})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:e.slice(t[0].length),metadata:i}}f(v0,"extractFrontMatter");var fL=f(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),gL=f(e=>{const{text:t,metadata:r}=v0(e),{displayMode:i,title:a,config:n={}}=r;return i&&(n.gantt||(n.gantt={}),n.gantt.displayMode=i),{title:a,config:n,text:t}},"processFrontmatter"),mL=f(e=>{const t=ar.detectInit(e)??{},r=ar.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:i})=>i==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:Xk(e),directive:t}},"processDirectives");function bh(e){const t=fL(e),r=gL(t),i=mL(r.text),a=eh(r.config,i.directive);return e=dL(i.text),{code:e,title:r.title,config:a}}f(bh,"preprocessDiagram");function x0(e){const t=new TextEncoder().encode(e),r=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(r)}f(x0,"toBase64");var yL=5e4,bL="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",vL="sandbox",xL="loose",_L="http://www.w3.org/2000/svg",wL="http://www.w3.org/1999/xlink",CL="http://www.w3.org/1999/xhtml",kL="100%",SL="100%",TL="border:0;margin:0;",ML="margin:0",AL="allow-top-navigation-by-user-activation allow-popups",BL='The "iframe" tag is not supported by your browser.',LL=["foreignobject"],EL=["dominant-baseline"];function vh(e){const t=bh(e);return Ns(),Qb(t.config??{}),t}f(vh,"processAndSetConfigs");async function _0(e,t){Uo();try{const{code:r,config:i}=vh(e);return{diagramType:(await C0(r)).type,config:i}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}}f(_0,"parse");var sp=f((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),$L=f((e,t=new Map)=>{var i;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const s=e.htmlLabels??((i=e.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(l=>{ip(l.styles)||s.forEach(c=>{r+=sp(l.id,c,l.styles)}),ip(l.textStyles)||(r+=sp(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(c=>c.replace("color","fill"))))})}return r},"createCssStyles"),FL=f((e,t,r,i)=>{const a=$L(e,r),n=mv(t,a,e.themeVariables);return pc(GM(`${i}{${n}}`),ZM)},"createUserStyles"),PL=f((e="",t,r)=>{let i=e;return!r&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=ki(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),DL=f((e="",t)=>{var a,n;const r=(n=(a=t==null?void 0:t.viewBox)==null?void 0:a.baseVal)!=null&&n.height?t.viewBox.baseVal.height+"px":SL,i=x0(`<body style="${ML}">${e}</body>`);return`<iframe style="width:${kL};height:${r};${TL}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${AL}">
  ${BL}
</iframe>`},"putIntoIFrame"),op=f((e,t,r,i,a)=>{const n=e.append("div");n.attr("id",r),i&&n.attr("style",i);const o=n.append("svg").attr("id",t).attr("width","100%").attr("xmlns",_L);return a&&o.attr("xmlns:xlink",a),o.append("g"),e},"appendDivSvgG");function bc(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}f(bc,"sandboxedIframe");var RL=f((e,t,r,i)=>{var a,n,o;(a=e.getElementById(t))==null||a.remove(),(n=e.getElementById(r))==null||n.remove(),(o=e.getElementById(i))==null||o.remove()},"removeExistingElements"),OL=f(async function(e,t,r){var U,O,E,F,L,D;Uo();const i=vh(t);t=i.code;const a=Le();I.debug(a),t.length>((a==null?void 0:a.maxTextSize)??yL)&&(t=bL);const n="#"+e,o="i"+e,s="#"+o,l="d"+e,c="#"+l,h=f(()=>{const X=Tt(p?s:c).node();X&&"remove"in X&&X.remove()},"removeTempElements");let u=Tt("body");const p=a.securityLevel===vL,d=a.securityLevel===xL,g=a.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),p){const $=bc(Tt(r),o);u=Tt($.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Tt(r);op(u,e,l,`font-family: ${g}`,wL)}else{if(RL(document,e,l,o),p){const $=bc(Tt("body"),o);u=Tt($.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=Tt("body");op(u,e,l)}let m,y;try{m=await yc.fromText(t,{title:i.title})}catch($){if(a.suppressErrorRendering)throw h(),$;m=await yc.fromText("error"),y=$}const b=u.select(c).node(),v=m.type,w=b.firstChild,T=w.firstChild,S=(O=(U=m.renderer).getClasses)==null?void 0:O.call(U,t,m),x=FL(a,v,S,n),M=document.createElement("style");M.innerHTML=x,w.insertBefore(M,T);try{await m.renderer.draw(t,e,Xu.version,m)}catch($){throw a.suppressErrorRendering?h():kB.draw(t,e,Xu.version),$}const N=u.select(`${c} svg`),V=(F=(E=m.db).getAccTitle)==null?void 0:F.call(E),z=(D=(L=m.db).getAccDescription)==null?void 0:D.call(L);k0(v,N,V,z),u.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",CL);let P=u.select(c).node().innerHTML;if(I.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),P=PL(P,p,re(a.arrowMarkerAbsolute)),p){const $=u.select(c+" svg").node();P=DL(P,$)}else d||(P=ua.sanitize(P,{ADD_TAGS:LL,ADD_ATTR:EL,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(pL(),y)throw y;return h(),{diagramType:v,svg:P,bindFunctions:m.db.bindFunctions}},"render");function w0(e={}){var i;const t=ce({},e);t!=null&&t.fontFamily&&!((i=t.themeVariables)!=null&&i.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),Zb(t),t!=null&&t.theme&&t.theme in Tr?t.themeVariables=Tr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Tr.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?Xb(t):Bp();vc(r.logLevel),Uo()}f(w0,"initialize");var C0=f((e,t={})=>{const{code:r}=bh(e);return yc.fromText(r,t)},"getDiagramFromText");function k0(e,t,r,i){y0(t,e),b0(t,r,i,t.attr("id"))}f(k0,"addA11yInfo");var xi=Object.freeze({render:OL,parse:_0,getDiagramFromText:C0,initialize:w0,getConfig:Le,setConfig:Lp,getSiteConfig:Bp,updateSiteConfig:Kb,reset:f(()=>{Ns()},"reset"),globalReset:f(()=>{Ns(pa)},"globalReset"),defaultConfig:pa});vc(Le().logLevel);Ns(Le());var IL=f((e,t,r)=>{I.warn(e),th(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),S0=f(async function(e={querySelector:".mermaid"}){try{await NL(e)}catch(t){if(th(t)&&I.error(t.str),Re.parseError&&Re.parseError(t),!e.suppressErrors)throw I.error("Use the suppressErrors option to suppress these errors"),t}},"run"),NL=f(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const i=xi.getConfig();I.debug(`${e?"":"No "}Callback function found`);let a;if(r)a=r;else if(t)a=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");I.debug(`Found ${a.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(I.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),xi.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const n=new ar.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const s=[];for(const l of Array.from(a)){if(I.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${n.next()}`;o=l.innerHTML,o=Kg(ar.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=ar.detectInit(o);h&&I.debug("Detected early reinit: ",h);try{const{svg:u,bindFunctions:p}=await B0(c,o,l);l.innerHTML=u,e&&await e(c),p&&p(l)}catch(u){IL(u,s,Re.parseError)}}if(s.length>0)throw s[0]},"runThrowsErrors"),T0=f(function(e){xi.initialize(e)},"initialize"),qL=f(async function(e,t,r){I.warn("mermaid.init is deprecated. Please use run instead."),e&&T0(e);const i={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await S0(i)},"init"),zL=f(async(e,{lazyLoad:t=!0}={})=>{Uo(),kl(...e),t===!1&&await hL()},"registerExternalDiagrams"),M0=f(function(){if(Re.startOnLoad){const{startOnLoad:e}=xi.getConfig();e&&Re.run().catch(t=>I.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",M0,!1);var WL=f(function(e){Re.parseError=e},"setParseErrorHandler"),vo=[],bl=!1,A0=f(async()=>{if(!bl){for(bl=!0;vo.length>0;){const e=vo.shift();if(e)try{await e()}catch(t){I.error("Error executing queue",t)}}bl=!1}},"executeQueue"),HL=f(async(e,t)=>new Promise((r,i)=>{const a=f(()=>new Promise((n,o)=>{xi.parse(e,t).then(s=>{n(s),r(s)},s=>{var l;I.error("Error parsing",s),(l=Re.parseError)==null||l.call(Re,s),o(s),i(s)})}),"performCall");vo.push(a),A0().catch(i)}),"parse"),B0=f((e,t,r)=>new Promise((i,a)=>{const n=f(()=>new Promise((o,s)=>{xi.render(e,t,r).then(l=>{o(l),i(l)},l=>{var c;I.error("Error parsing",l),(c=Re.parseError)==null||c.call(Re,l),s(l),a(l)})}),"performCall");vo.push(n),A0().catch(a)}),"render"),jL=f(()=>Object.keys(fi).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Re={startOnLoad:!0,mermaidAPI:xi,parse:HL,render:B0,init:qL,run:S0,registerExternalDiagrams:zL,registerLayoutLoaders:Ry,initialize:T0,parseError:void 0,contentLoaded:M0,setParseErrorHandler:WL,detectType:xc,registerIconPacks:pT,getRegisteredDiagramsMetadata:jL},lp=Re;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */var VL=kt('<div class="flowchart-container svelte-n72qrb"></div>');function UL(e,t){hp(t,!1);let r=dp(t,"code",8),i=zt(),a=!1;function n(){a||(lp.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose"}),a=!0)}async function o(){if(!(!r()||!_(i)))try{const{svg:h}=await lp.render(`flowchart-${Date.now()}`,r());Or(i,_(i).innerHTML=h)}catch{Or(i,_(i).innerHTML='<p style="margin:0;color:#6b7280">Error rendering flowchart</p>')}}Q0(()=>{n(),o()}),ye(()=>xl(r()),()=>{r()&&(n(),o())}),up(),cp();var s=Y0(),l=_l(s);{var c=h=>{var u=VL();K0(u,p=>Dt(i,p),()=>_(i)),Ct(h,u)};It(l,h=>{r()&&h(c)})}Ct(e,s),pp()}const YL={fptp:`flowchart TD
A[Start: Count votes] --> B[Candidate with highest votes wins]
style A fill:#e1f5fe
style B fill:#c8e6c9
`,approval:`flowchart TD
A[Tally approvals per candidate] --> B[Most approvals wins]
style A fill:#e1f5fe
style B fill:#c8e6c9
`,"limited-voting-single":`flowchart TD
A[Voters may select up to X candidates] --> B[Most votes wins]
style A fill:#e1f5fe
style B fill:#c8e6c9
`,borda:`flowchart TD
A[Assign points by rank] --> B[Sum points] --> C[Highest total wins]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,condorcet:`flowchart TD
A[Compute head-to-head results] --> B{Candidate beats all others?}
B -->|Yes| C[Condorcet winner]
B -->|No| D[Tie-break mechanism]
style A fill:#e1f5fe
style C fill:#c8e6c9
style D fill:#fde68a
`,"highest-total":`flowchart TD
A[Sum scores per candidate] --> B[Highest total wins]
style A fill:#e1f5fe
style B fill:#c8e6c9
`,star:`flowchart TD
A[Score 0–5] --> B[Sum scores] --> C[Top two finalists]
C --> D[Runoff: ballot preference]
D --> E[Preferred finalist wins]
style A fill:#e1f5fe
style E fill:#c8e6c9
`,"block-voting":`flowchart TD
A[Voters select 1] --> B[Count votes] --> C[Top N candidates win]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,"block-approval":`flowchart TD
A[Approve many] --> B[Count approvals] --> C[Top N win]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,"limited-voting":`flowchart TD
A[Select up to X] --> B[Count selections] --> C[Top N win]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,"cumulative-voting":`flowchart TD
A[Distribute points] --> B[Sum points] --> C[Top N win]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,sntv:`flowchart TD
A[Select 1] --> B[Count votes] --> C[Top N win]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,"satisfaction-approval":`flowchart TD
A[Split each approval equally] --> B[Sum fractions] --> C[Top N win]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,spav:`flowchart TD
A[Round: count approvals] --> B[Elect highest]
B --> C[Reweight approvals]
C --> D{Seats left?}
D -->|Yes| A
D -->|No| E[Finish]
style A fill:#e1f5fe
style E fill:#c8e6c9
`,stv:`flowchart TD
A[Count first preferences] --> B{Reached quota?}
B -->|Yes| C[Elect]
C --> D[Transfer surplus]
B -->|No| E[Eliminate lowest]
D --> F{Seats filled?}
E --> F
F -->|No| A
F -->|Yes| G[Finish]
style A fill:#e1f5fe
style G fill:#c8e6c9
`,"cpo-stv":`flowchart TD
A[Enumerate outcomes] --> B[Compare pairs] --> C[Choose unbeaten outcome]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,"schulze-stv":`flowchart TD
A[Compute strongest paths among sets] --> B[Select set with strongest paths]
style A fill:#e1f5fe
style B fill:#c8e6c9
`,"meek-stv":`flowchart TD
A[Init keep factors] --> B[Iteratively update] --> C{Converged?}
C -->|No| B
C -->|Yes| D[Winners determined]
style A fill:#e1f5fe
style D fill:#c8e6c9
`,"pr-borda":`flowchart TD
A[Compute Borda scores] --> B[Allocate seats proportionally] --> C[Assign seats]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,"wright-stv":`flowchart TD
A[Count per Wright rules] --> B[Elect/eliminate] --> C[Transfer refined]
C --> D{Seats filled?}
D -->|No| A
D -->|Yes| E[Finish]
style A fill:#e1f5fe
style E fill:#c8e6c9
`,"party-list-pr":`flowchart TD
A[Tally votes per party] --> B[Apply allocation formula] --> C[Distribute seats]
C --> D[Fill seats via list type]
style A fill:#e1f5fe
style D fill:#c8e6c9
`,mmp:`flowchart TD
A[Two votes: district + party] --> B[Elect district winners]
B --> C[Compute party seat totals]
C --> D[Add list seats to reach proportionality]
style A fill:#e1f5fe
style D fill:#c8e6c9
`,"block-score":`flowchart TD
A[Sum scores] --> B[Top N scores win]
style A fill:#e1f5fe
style B fill:#c8e6c9
`,"equal-shares":`flowchart TD
A[Equal voter budget] --> B[Spend on approved candidates]
B --> C[Iterate until budgets used]
C --> D[Winners: highest support]
style A fill:#e1f5fe
style D fill:#c8e6c9
`,pav:`flowchart TD
A[Search optimal committee] --> B[Select maximizing approval utility]
style A fill:#e1f5fe
style B fill:#c8e6c9
`,"star-pr":`flowchart TD
A[Score candidates] --> B[Sequential proportional selection]
B --> C[Fill all seats]
style A fill:#e1f5fe
style C fill:#c8e6c9
`,"allocated-score":`flowchart TD
A[Weighted score allocation] --> B[Assign seats]
style A fill:#e1f5fe
style B fill:#c8e6c9
`};var GL=kt('<meta name="description" content="Interactive tool to design and analyze custom voting methods. Mix and match ballot types, voting methods, and multi-winner options to create your ideal voting system."/>'),XL=kt('<div class="info-panel svelte-ip3fvg">Single-winner methods elect one seat; multi-winner methods elect multiple seats (for councils/assemblies). This choice affects which methods are compatible and whether proportional representation is possible.</div>'),ZL=kt('<div class="info-panel svelte-ip3fvg">How voters express preferences: Choose‑X (select candidates), Ranked (order candidates), Score (rate candidates). Different methods require different ballot types.</div>'),KL=kt('<label class="facet-check svelte-ip3fvg"><input type="checkbox" class="svelte-ip3fvg"/> <span> </span></label>'),QL=kt('<div class="info-panel svelte-ip3fvg">For Choose‑X ballots: Pick 1 (FPTP) versus Pick up to X or Approve any. This changes which methods fit and the strategic properties.</div>'),JL=kt('<label class="facet-check svelte-ip3fvg"><input type="checkbox" class="svelte-ip3fvg"/> <span> </span></label>'),t3=kt('<div class="facet-group svelte-ip3fvg"><h3 class="facet-title svelte-ip3fvg">Choose‑X Limits <span class="facet-tip svelte-ip3fvg" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-ip3fvg"></div> <p class="facet-help svelte-ip3fvg">These options apply to choose‑X ballots.</p></div>'),e3=kt('<div class="info-panel svelte-ip3fvg">Some methods require parties and allocate seats by party vote (e.g., Party List, MMP). Others are candidate‑based and work without parties.</div>'),r3=kt('<div class="info-panel svelte-ip3fvg">Show only methods that are currently used in at least one country or jurisdiction.</div>'),i3=kt('<span class="badge proportional svelte-ip3fvg" title="Proportional representation">⚖️</span>'),a3=kt('<span class="badge recommended svelte-ip3fvg" title="Recommended">⭐</span>'),n3=kt('<span class="badge redflag svelte-ip3fvg" title="Complex or known major weaknesses">🛑</span>'),s3=kt('<button><div class="method-card-header svelte-ip3fvg"><h3 class="method-title svelte-ip3fvg"> </h3> <div class="badge-group svelte-ip3fvg"><!> <!> <!></div></div> <p class="method-desc"> </p></button>'),o3=kt('<span class="proportional-badge svelte-ip3fvg" title="This is a proportional representation method that ensures fair party/group representation">⚖️</span>'),l3=kt(`<div class="info-panel svelte-ip3fvg">How well the election results reflect the proportion of support for different
                    groups or parties - higher scores mean seats are allocated more fairly based on
                    vote share</div>`),c3=kt(`<div class="info-panel svelte-ip3fvg">How easy it is for voters to understand and use the voting method - considers
                    ballot complexity, cognitive load, and learning curve</div>`),h3=kt(`<div class="info-panel svelte-ip3fvg">How well the method resists dishonest strategies where you support a
                    less-preferred candidate more than a preferred one - higher scores mean less
                    incentive for tactical voting</div>`),u3=kt(`<div class="info-panel svelte-ip3fvg">How well the elected candidates actually represent the preferences and will of
                    the electorate - considers broad support, minority representation, and whether
                    outcomes reflect voter intent</div>`),p3=kt(`<div class="info-panel svelte-ip3fvg">How easy it is to vote your true preferences without needing to consider
                    strategy or candidate viability - higher scores mean less mental burden on
                    voters</div>`),d3=kt('<div class="method-scores svelte-ip3fvg"><h3 class="svelte-ip3fvg">System Analysis</h3> <div class="score-grid svelte-ip3fvg"><div class="score-item svelte-ip3fvg"><div class="score-bar-container svelte-ip3fvg"><div class="score-label-container svelte-ip3fvg"><span class="score-label clickable svelte-ip3fvg" role="button" tabindex="0">Proportionality</span></div> <div class="score-bar svelte-ip3fvg"><div class="score-fill svelte-ip3fvg"></div> <span class="score-value svelte-ip3fvg"> </span></div></div> <!></div> <div class="score-item svelte-ip3fvg"><div class="score-bar-container svelte-ip3fvg"><div class="score-label-container svelte-ip3fvg"><span class="score-label clickable svelte-ip3fvg" role="button" tabindex="0">Voter Simplicity</span></div> <div class="score-bar svelte-ip3fvg"><div class="score-fill svelte-ip3fvg"></div> <span class="score-value svelte-ip3fvg"> </span></div></div> <!></div> <div class="score-item svelte-ip3fvg"><div class="score-bar-container svelte-ip3fvg"><div class="score-label-container svelte-ip3fvg"><span class="score-label clickable svelte-ip3fvg" role="button" tabindex="0">Honest Strategy Resistance</span></div> <div class="score-bar svelte-ip3fvg"><div class="score-fill svelte-ip3fvg"></div> <span class="score-value svelte-ip3fvg"> </span></div></div> <!></div> <div class="score-item svelte-ip3fvg"><div class="score-bar-container svelte-ip3fvg"><div class="score-label-container svelte-ip3fvg"><span class="score-label clickable svelte-ip3fvg" role="button" tabindex="0">Representation Quality</span></div> <div class="score-bar svelte-ip3fvg"><div class="score-fill svelte-ip3fvg"></div> <span class="score-value svelte-ip3fvg"> </span></div></div> <!></div> <div class="score-item svelte-ip3fvg"><div class="score-bar-container svelte-ip3fvg"><div class="score-label-container svelte-ip3fvg"><span class="score-label clickable svelte-ip3fvg" role="button" tabindex="0">Strategic Straightforwardness</span></div> <div class="score-bar svelte-ip3fvg"><div class="score-fill svelte-ip3fvg"></div> <span class="score-value svelte-ip3fvg"> </span></div></div> <!></div></div></div>'),f3=kt('<div class="method-summary svelte-ip3fvg"><!></div>'),g3=kt('<div class="method-critique svelte-ip3fvg"><h3 class="svelte-ip3fvg">Detailed Analysis</h3> <!></div>'),m3=kt('<span class="flag svelte-ip3fvg"> </span>'),y3=kt('<div class="method-usedby svelte-ip3fvg"><h3 class="svelte-ip3fvg">Used By</h3> <div class="flag-list svelte-ip3fvg"></div></div>'),b3=kt('<div class="method-flowchart svelte-ip3fvg"><h3 class="svelte-ip3fvg">Counting Process</h3> <!></div>'),v3=kt('<div class="comparison-suggestion svelte-ip3fvg"><button class="compare-button svelte-ip3fvg"> </button> <p class="suggestion-description svelte-ip3fvg"> </p></div>'),x3=kt('<div class="comparison-suggestions svelte-ip3fvg"><h3 class="svelte-ip3fvg">🤔 Confused about similar methods?</h3> <!></div>'),_3=kt('<!> <div class="method-actions svelte-ip3fvg"><a class="action-link svelte-ip3fvg">Learn about voting systems</a> <a href="https://github.com/fsargent/approval-vote/issues" target="_blank" rel="noopener noreferrer" class="action-link github-link svelte-ip3fvg">Found something wrong? File an issue on GitHub</a></div>',1),w3=kt('<span class="current-badge svelte-ip3fvg">Current</span>'),C3=kt('<div class="compatibility-compact svelte-ip3fvg"><span class="compatibility-label svelte-ip3fvg">Voting Machines:</span> <span> </span></div>'),k3=kt('<button class="switch-method-button svelte-ip3fvg">Switch to this method</button>'),S3=kt('<div><div class="card-header svelte-ip3fvg"><h3 class="svelte-ip3fvg"> </h3> <!></div> <div class="method-summary-compact svelte-ip3fvg"><p class="svelte-ip3fvg"><strong>What it does:</strong> </p></div> <div class="score-comparison svelte-ip3fvg"><div class="score-row svelte-ip3fvg"><span class="score-name svelte-ip3fvg">Proportionality</span> <div class="score-bar-small svelte-ip3fvg"><div class="score-fill-small svelte-ip3fvg"></div></div> <span class="score-num svelte-ip3fvg"> </span></div> <div class="score-row svelte-ip3fvg"><span class="score-name svelte-ip3fvg">Simplicity</span> <div class="score-bar-small svelte-ip3fvg"><div class="score-fill-small svelte-ip3fvg"></div></div> <span class="score-num svelte-ip3fvg"> </span></div> <div class="score-row svelte-ip3fvg"><span class="score-name svelte-ip3fvg">Honest Strategy</span> <div class="score-bar-small svelte-ip3fvg"><div class="score-fill-small svelte-ip3fvg"></div></div> <span class="score-num svelte-ip3fvg"> </span></div> <div class="score-row svelte-ip3fvg"><span class="score-name svelte-ip3fvg">Straightforward</span> <div class="score-bar-small svelte-ip3fvg"><div class="score-fill-small svelte-ip3fvg"></div></div> <span class="score-num svelte-ip3fvg"> </span></div> <div class="score-row svelte-ip3fvg"><span class="score-name svelte-ip3fvg">Representation</span> <div class="score-bar-small svelte-ip3fvg"><div class="score-fill-small svelte-ip3fvg"></div></div> <span class="score-num svelte-ip3fvg"> </span></div></div> <div class="method-details svelte-ip3fvg"><p class="svelte-ip3fvg"><strong>Key Trade-offs:</strong> </p></div> <!> <!></div>'),T3=kt('<div class="comparison-overlay svelte-ip3fvg" role="button" tabindex="0"><div class="comparison-modal svelte-ip3fvg" role="dialog" tabindex="-1" aria-labelledby="comparison-title"><div class="comparison-header svelte-ip3fvg"><h2 id="comparison-title" class="svelte-ip3fvg">Method Comparison</h2> <button class="close-button svelte-ip3fvg">×</button></div> <div class="comparison-content svelte-ip3fvg"><div class="comparison-grid svelte-ip3fvg"></div></div></div></div>'),M3=kt(`<div class="container wide-builder"><div class="description"><h1 style="color: black;"><a>approval.vote</a> // <strong>Voting Method Builder</strong></h1> <p class="subtitle svelte-ip3fvg">Mix and match components to design your ideal voting system</p></div> <div class="builder-layout svelte-ip3fvg"><div class="config-panel"><section class="config-section svelte-ip3fvg"><h2 class="svelte-ip3fvg">🔎 Filters</h2> <p class="section-description svelte-ip3fvg">Use these facets to narrow down voting methods. They don't lock in a choice — pick a method on the right when ready.</p> <div class="facet-group svelte-ip3fvg"><h3 class="facet-title svelte-ip3fvg">Election Type <span class="facet-tip svelte-ip3fvg" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-ip3fvg"><label class="facet-check svelte-ip3fvg"><input type="checkbox" class="svelte-ip3fvg"/> <span>Single Winner</span></label> <label class="facet-check svelte-ip3fvg"><input type="checkbox" class="svelte-ip3fvg"/> <span>Multi Winner</span></label></div></div> <div class="facet-group svelte-ip3fvg"><h3 class="facet-title svelte-ip3fvg">Ballot Type <span class="facet-tip svelte-ip3fvg" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-ip3fvg"></div></div> <!> <div class="facet-group svelte-ip3fvg"><h3 class="facet-title svelte-ip3fvg">Party Structure <span class="facet-tip svelte-ip3fvg" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-ip3fvg"><label class="facet-check svelte-ip3fvg"><input type="checkbox" class="svelte-ip3fvg"/> <span>Requires parties (e.g., Party List, MMP)</span></label> <label class="facet-check svelte-ip3fvg"><input type="checkbox" class="svelte-ip3fvg"/> <span>Candidate-based (no parties required)</span></label></div></div> <div class="facet-group svelte-ip3fvg"><h3 class="facet-title svelte-ip3fvg">Real‑World Use <span class="facet-tip svelte-ip3fvg" role="button" tabindex="0">ⓘ</span></h3> <!> <div class="facet-grid svelte-ip3fvg"><label class="facet-check svelte-ip3fvg"><input type="checkbox" class="svelte-ip3fvg"/> <span>Currently in use</span></label></div></div></section></div> <div class="gallery-panel svelte-ip3fvg"><div class="methods-gallery svelte-ip3fvg"><div class="gallery-header svelte-ip3fvg"><h2>📚 Voting Methods</h2> <p class="section-description svelte-ip3fvg"> </p></div> <div class="methods-grid svelte-ip3fvg"></div></div></div> <div class="details-panel svelte-ip3fvg"><div class="result-card svelte-ip3fvg"><h2 class="method-name svelte-ip3fvg"> <!></h2> <!> <!> <!> <!> <!> <!></div></div></div></div> <!>`,1);function vE(e,t){hp(t,!1);const r=zt(),i=zt(),a=zt(),n=zt(),o=zt(),s=zt(),l=zt(),c=zt(),h=zt(),u=zt(),p=zt(),d=zt(),m=dp(t,"data",8)().votingMethods;let y=zt({ballotType:null,limitedChoices:"1",customLimit:3,tabulationMethod:null,numberOfSeats:1,hasParties:!0,canVoteForParties:!0,canVoteForCandidates:!0,hasPrimaries:!1,listType:null,mixedMember:!1,singleWinnerProportion:50,allowNegativeVotes:!1,scoreMin:0,scoreMax:5}),b=zt("all"),v=zt(["single","multi"]),w=zt(["choose-x","ranking","score"]),T=zt(["1","custom","unlimited"]);function S(C,B){return C.includes(B)?C.filter(G=>G!==B):[...C,B]}let x=zt(!1);function M(C){return C===1?"single":"multi"}const N=[{id:"choose-x",name:"Choose X",description:"Pick candidates"},{id:"ranking",name:"Ranked",description:"Rank candidates in order of preference"},{id:"score",name:"Score",description:"Give each candidate a numerical score"}],V=[{id:"1",name:"Pick 1",description:"Must select exactly 1 (FPTP)"},{id:"custom",name:"Custom limit",description:"Set your own maximum"},{id:"unlimited",name:"As many as you like",description:"No limit on selections (approval voting)"}],z=[{id:"closed",name:"Closed List",description:"Voters vote for parties, party decides candidate order"},{id:"open",name:"Open List",description:"Voters vote for individual candidates within parties"},{id:"flexible",name:"Flexible List",description:"Voters can vote for party or individual candidates"}];let P=zt([]);function U(C){const B=([vt,St])=>St.ballotType===C.ballotType,G=([vt,St])=>St.choiceLimitation==="any"||St.choiceLimitation===C.limitedChoices,Z=([vt,St])=>_(b)==="all"?!0:(M(C.numberOfSeats),_(b)==="single"?St.minSeats<=1:St.maxSeats!==1),ct=([vt,St])=>_(b)==="all"?!0:C.numberOfSeats>=St.minSeats&&(St.maxSeats==="unlimited"||C.numberOfSeats<=St.maxSeats);return Object.entries(m).filter(B).filter(G).filter(Z).filter(ct).map(([vt])=>vt)}let O=zt([]);function E(C){if(!_(v).length)return!1;const B=C.maxSeats===1?"single":"multi";return _(v).includes(B)}function F(C){return _(w).length===0?!0:_(w).includes(C.ballotType)}function L(C){return C.ballotType!=="choose-x"||_(T).length===0||C.choiceLimitation==="any"?!0:_(T).includes(C.choiceLimitation)}let D=zt(["party-required","no-party-required"]);function $(C){const B=!!C.requiresParties;return!!(_(D).length===0||B&&_(D).includes("party-required")||!B&&_(D).includes("no-party-required"))}function X(C){return _(x)?Array.isArray(C.usedBy)&&C.usedBy.length>0:!0}function et(C){const B=m[C];if(B)if(Or(y,_(y).tabulationMethod=C),Or(y,_(y).ballotType=B.ballotType),B.ballotType==="choose-x"?Or(y,_(y).limitedChoices=B.choiceLimitation==="any"?"unlimited":B.choiceLimitation):Or(y,_(y).limitedChoices="unlimited"),B.maxSeats===1)Or(y,_(y).numberOfSeats=1);else{const G=typeof B.minSeats=="number"?B.minSeats:2;Or(y,_(y).numberOfSeats=_(y).numberOfSeats>1?_(y).numberOfSeats:Math.max(2,G))}}function rt(C){if(!C.tabulationMethod||!C.ballotType)return"Choose a voting method";if(!C.tabulationMethod){if(C.ballotType==="choose-x"){if(C.limitedChoices==="1")return"First Past The Post";if(C.limitedChoices==="unlimited")return"Approval Voting";if(C.limitedChoices==="custom")return`Limited Voting (${C.customLimit})`}return"Choose a voting method"}const B=m[C.tabulationMethod||""];if(!B)return"Unknown Method";let G=B.name;if(C.listType&&["party-list-pr","mmp"].includes(C.tabulationMethod)){const Z=z.find(ct=>ct.id===C.listType);Z&&(G=`${Z.name} ${G}`)}if(C.tabulationMethod==="mmp"&&C.mixedMember){const Z=C.singleWinnerProportion,ct=100-Z;G+=` (${Z}% districts, ${ct}% list)`}return C.limitedChoices==="custom"&&C.customLimit!==3&&(G.includes(`(${C.customLimit})`)||(G+=` (${C.customLimit})`)),G}function At(C){if(!C.ballotType)return"";let B="";const G=N.find(Z=>Z.id===C.ballotType);if(G&&(B+=`**Ballot Type:** ${G.description}`,C.ballotType==="score"&&(B+=` (${C.scoreMin} to ${C.scoreMax}`,C.allowNegativeVotes&&(B+=", negative scores allowed. Negative values "),B+="). Score voting works best with many candidates and relatively few voters, where the expressivity helps prevent ties"),B+=`

`),C.limitedChoices&&C.limitedChoices!=="unlimited")if(C.limitedChoices==="custom")B+=`**Choice Limit:** Maximum of ${C.customLimit} candidate${C.customLimit===1?"":"s"}

`;else{const Z=V.find(ct=>ct.id===C.limitedChoices);Z&&(B+=`**Choice Limit:** ${Z.description}

`)}if(C.tabulationMethod){const Z=_(P).find(vt=>vt.id===C.tabulationMethod);Z&&(B+=`**Voting Method:** ${Z.description}

`);const ct=m[C.tabulationMethod||""];if(ct&&ct.votingMachineCompatibility){const vt=ct.votingMachineCompatibility.existingMachines?"✅":"❌";B+=`**Voting Machines:** ${vt} ${ct.votingMachineCompatibility.description}

`}}if(C.numberOfSeats===1)B+=`**Single-Winner Election:** Electing 1 seat

`;else{B+=`**Multi-Winner Election:** Electing ${C.numberOfSeats} seats

`;let Z="**Party Structure:** Election has political parties. ";if(C.canVoteForParties&&C.canVoteForCandidates?Z+="Voters can choose both parties and individual candidates.":C.canVoteForParties?Z+="Voters choose parties only.":C.canVoteForCandidates&&(Z+="Voters choose individual candidates within parties."),C.hasPrimaries?Z+=" Parties select candidates through primary elections.":Z+=" Parties select candidates through internal processes (conventions, appointments, etc.).",B+=Z+`

`,["party-list-pr","mmp"].includes(C.tabulationMethod||"")){if(C.listType){const ct=z.find(vt=>vt.id===C.listType);ct&&(B+=`**List Type:** ${ct.description}

`)}if(C.tabulationMethod==="mmp"&&C.mixedMember){const ct=C.singleWinnerProportion,vt=100-ct;B+=`**Mixed System:** ${ct}% of seats elected in single-winner districts, ${vt}% from party lists to ensure proportionality

`}}}return B.trim()}function bt(C){if(!C.ballotType||!C.tabulationMethod)return"";const B=m[C.tabulationMethod||""];if(!B)return"";let G="";if(B.detailedCritique&&(G+="**Overview:** "+B.detailedCritique+`

`),B.tabulationCritique&&(G+=B.tabulationCritique+`

`),C.numberOfSeats>1&&B.proportionalityDetails){if(G+=B.proportionalityDetails,C.hasParties&&["party-list-pr","mmp"].includes(C.tabulationMethod||"")){if(G+=`

**List Method Types:**

`,G+=`**Open List:** Voters can choose specific candidates within a party. This maximizes voter choice and allows popular candidates to rise regardless of party ranking. However, it can lead to intra-party competition, potentially fragmenting party unity and making campaigns more expensive as candidates compete against their own party members.

`,G+=`**Closed List:** The party determines the order of candidates, and voters can only vote for the party as a whole. This strengthens party discipline and cohesion, ensures balanced representation (parties can guarantee diversity), and simplifies voting. However, it reduces voter choice and can lead to party elites having too much control over who gets elected.

`,G+=`**Hybrid/Flexible List:** Combines elements of both systems. Voters can either vote for the party (accepting its ranking) or for specific candidates. If enough voters choose a candidate, they can move up the list. This balances party cohesion with voter choice, though it adds complexity to both voting and vote counting.

`,C.listType&&B.listTypeCritique){const Z=B.listTypeCritique[C.listType];Z&&(G+="**Your Selected "+(C.listType==="flexible"?"Flexible":C.listType.charAt(0).toUpperCase()+C.listType.slice(1))+" List System:** "+Z.replace(/^\*\*[^:]+:\*\*\s*/,""))}}else if(C.listType&&B.listTypeCritique){const Z=B.listTypeCritique[C.listType];Z&&(G+=`

`+Z)}if(C.tabulationMethod==="mmp"&&C.mixedMember){G+=`

`;const Z=C.singleWinnerProportion;Z>70?G+="**High District Proportion:** Maintains strong local representation but may reduce proportionality effectiveness.":Z<30?G+="**High List Proportion:** Maximizes proportionality but may weaken local representation and accountability.":G+="**Balanced Mixed System:** Good compromise between local representation and proportionality."}if(C.hasParties&&B.primaryCritique){G+=`

`;const Z=C.hasPrimaries?"withPrimaries":"withoutPrimaries",ct=B.primaryCritique[Z];ct&&(G+=ct)}}return G.trim()}function Ht(C){const B={proportionality:0,simplicity:0,honestStrategyResistance:0,strategicStraightforwardness:0,representation:0};if(!C.ballotType||!C.tabulationMethod)return B;const G=m[C.tabulationMethod||""];if(!G)return B;const Z={...G.scores};return C.numberOfSeats>1&&C.tabulationMethod==="block-approval"&&(Z.representation=2),C.limitedChoices==="1"&&C.ballotType==="choose-x"&&(Z.honestStrategyResistance=0,Z.strategicStraightforwardness=0,Z.representation=1),C.numberOfSeats===1&&(Z.proportionality=0),Z}function xt(C){if(C.numberOfSeats<=1)return!1;const B=m[C.tabulationMethod||""];return(B==null?void 0:B.isProportional)||!1}let pt=zt(null);function ut(C){Dt(pt,_(pt)===C?null:C)}function Nt(){Dt(pt,null)}function Rt(C){C.key==="Escape"&&Nt()}let Ft=zt(!1),jt=zt([]);function ne(C){Dt(jt,C.filter(B=>B in m)),Dt(Ft,!0)}function fe(){Dt(Ft,!1),Dt(jt,[])}function ke(C){if(!m[C.tabulationMethod||""]||!C.tabulationMethod)return[];const G=U(C),Z=C.tabulationMethod,ct=j=>G.filter(Xt=>j(m[Xt])),vt=j=>G.filter(Xt=>{var Ut;return((Ut=m[Xt].tags)==null?void 0:Ut.includes(j))||!1}),St=j=>G.filter(Xt=>j.some(Ut=>{var se;return((se=m[Xt].tags)==null?void 0:se.includes(Ut))||!1}));return[{methods:ct(j=>j.ballotType==="score"&&j.isProportional),title:"Proportional Score Methods",description:"All provide proportional representation with score/approval ballots but use different algorithms"},{methods:ct(j=>j.ballotType==="score"&&j.maxSeats!==1),title:"Multi-Winner Score Methods",description:"Different approaches to multi-winner elections with score ballots - from simple block voting to complex proportional systems"},{methods:ct(j=>j.ballotType==="score"&&j.maxSeats===1),title:"Single-Winner Score Methods",description:"Different ways to count score ballots - from simple totals to complex runoffs"},{methods:ct(j=>j.ballotType==="choose-x"&&j.maxSeats===1),title:"Single-Winner Choose-X Methods",description:"Different approaches to single-winner elections with choose-X ballots"},{methods:ct(j=>j.ballotType==="choose-x"&&j.isProportional),title:"Approval-Based Proportional Methods",description:"Ways to achieve proportional representation using approval ballots"},{methods:ct(j=>j.ballotType==="choose-x"),title:"Choose-X Methods",description:"Different ways to count choose-X ballots - from simple plurality to complex proportional systems"},{methods:ct(j=>j.ballotType==="choose-x"&&j.maxSeats!==1),title:"Multi-Winner Choose-X Methods",description:"Different approaches to multi-winner elections with choose-X ballots - from simple block voting to proportional systems"},{methods:ct(j=>j.ballotType==="ranking"),title:"Ranked Choice Methods",description:"Different algorithms for counting ranked ballots"},{methods:ct(j=>j.isProportional),title:"Proportional Methods",description:"All methods that achieve proportional representation"},{methods:vt("simple"),title:"Simple Methods",description:"Easy to understand and implement voting methods"},{methods:vt("runoff"),title:"Runoff-Based Methods",description:"Methods that use some form of runoff or elimination process"},{methods:vt("consensus"),title:"Consensus-Building Methods",description:"Methods that tend to elect broadly acceptable candidates"},{methods:vt("proportional"),title:"Proportional Methods (Tagged)",description:"All methods tagged as proportional"},{methods:St(["computationally-complex","optimization"]),title:"Computationally Complex Methods",description:"Methods that require significant computation or optimization"}].filter(j=>j.methods.includes(Z)&&j.methods.length>1)}ye(()=>_(y),()=>{Dt(r,M(_(y).numberOfSeats))}),ye(()=>_(y),()=>{Dt(i,_(y).ballotType==="ranking")}),ye(()=>_(y),()=>{Dt(a,_(y).ballotType==="choose-x")}),ye(()=>_(y),()=>{Dt(n,_(y).ballotType==="score")}),ye(()=>_(y),()=>{Dt(o,_(y).numberOfSeats>1)}),ye(()=>(_(y),_(b)),()=>{const C=U(_(y));_(b),Dt(P,C.map(B=>({id:B,name:m[B].name,description:m[B].shortDescription})))}),ye(()=>(_(v),_(w),_(T),_(D),_(x)),()=>{_(v),_(w),_(T),_(D),_(x),Dt(O,Object.entries(m).filter(([C,B])=>!!B&&!!B.name).filter(([C,B])=>E(B)).filter(([C,B])=>F(B)).filter(([C,B])=>L(B)).filter(([C,B])=>$(B)).filter(([C,B])=>X(B)).map(([C,B])=>({id:C,name:B.name,shortDescription:B.shortDescription,category:B.category,isProportional:B.isProportional,isSemiProportional:B.isSemiProportional,ballotType:B.ballotType,choiceLimitation:B.choiceLimitation,minSeats:B.minSeats,maxSeats:B.maxSeats,recommended:["star","approval","pav","spav","star-pr","equal-shares"].includes(C),redFlag:["fptp","irv","block-voting","borda","pr-borda","cpo-stv","schulze-stv","meek-stv"].includes(C)})))}),ye(()=>_(y),()=>{Dt(s,rt(_(y)))}),ye(()=>_(y),()=>{Dt(l,At(_(y)))}),ye(()=>_(y),()=>{Dt(c,bt(_(y)))}),ye(()=>_(y),()=>{Dt(h,Ht(_(y)))}),ye(()=>_(y),()=>{Dt(u,m[_(y).tabulationMethod||""])}),ye(()=>(_(u),_(y)),()=>{var C;Dt(p,((C=_(u))==null?void 0:C.flowchart)||YL[_(y).tabulationMethod||""]||"")}),ye(()=>_(u),()=>{var C;Dt(d,((C=_(u))==null?void 0:C.usedBy)||[])}),up(),cp();var Ti=M3();X0(C=>{var B=GL();G0.title="Voting Method Builder - Create Your Custom Voting System - approval.vote",Ct(C,B)}),wt("keydown",Th,Rt),wt("click",Th,Nt);var Yr=_l(Ti),Qe=q(Yr),Gr=q(Qe),Mi=q(Gr);br(2),R(Gr),br(2),R(Qe);var Ma=H(Qe,2),Ai=q(Ma),Yn=q(Ai),Xr=H(q(Yn),4),hr=q(Xr),ur=H(q(hr));R(hr);var pr=H(hr,2);{var Gn=C=>{var B=XL();Ct(C,B)};It(pr,C=>{_(pt)==="facet-election"&&C(Gn)})}var Aa=H(pr,2),Bi=q(Aa),Zr=q(Bi);ri(Zr),br(2),R(Bi);var Ba=H(Bi,2),Fr=q(Ba);ri(Fr),br(2),R(Ba),R(Aa),R(Xr);var Pr=H(Xr,2),Ee=q(Pr),dr=H(q(Ee));R(Ee);var Li=H(Ee,2);{var La=C=>{var B=ZL();Ct(C,B)};It(Li,C=>{_(pt)==="facet-ballot"&&C(La)})}var Xn=H(Li,2);Ui(Xn,5,()=>N,Yi,(C,B)=>{var G=KL(),Z=q(G);ri(Z);var ct=H(Z,2),vt=q(ct,!0);R(ct),R(G),Ue(St=>{Gi(Z,St),Yt(vt,(_(B),it(()=>_(B).name)))},[()=>(_(w),_(B),it(()=>_(w).includes(_(B).id)))]),wt("change",Z,()=>Dt(w,S(_(w),_(B).id))),Ct(C,G)}),R(Xn),R(Pr);var Kr=H(Pr,2);{var Ei=C=>{var B=t3(),G=q(B),Z=H(q(G));R(G);var ct=H(G,2);{var vt=Bt=>{var j=QL();Ct(Bt,j)};It(ct,Bt=>{_(pt)==="facet-choosex"&&Bt(vt)})}var St=H(ct,2);Ui(St,5,()=>V,Yi,(Bt,j)=>{var Xt=JL(),Ut=q(Xt);ri(Ut);var se=H(Ut,2),Se=q(se,!0);R(se),R(Xt),Ue(He=>{Gi(Ut,He),Yt(Se,(_(j),it(()=>_(j).name)))},[()=>(_(T),_(j),it(()=>_(T).includes(_(j).id)))]),wt("change",Ut,()=>Dt(T,S(_(T),_(j).id))),Ct(Bt,Xt)}),R(St),br(2),R(B),wt("click",Z,Bt=>{Bt.stopPropagation(),ut("facet-choosex")}),wt("keydown",Z,Bt=>{(Bt.key==="Enter"||Bt.key===" ")&&(Bt.preventDefault(),Bt.stopPropagation(),ut("facet-choosex"))}),Ct(C,B)};It(Kr,C=>{_(w),it(()=>_(w).includes("choose-x"))&&C(Ei)})}var Ea=H(Kr,2),fr=q(Ea),Zn=H(q(fr));R(fr);var Kn=H(fr,2);{var Kt=C=>{var B=e3();Ct(C,B)};It(Kn,C=>{_(pt)==="facet-party"&&C(Kt)})}var gr=H(Kn,2),$a=q(gr),$i=q($a);ri($i),br(2),R($a);var Fi=H($a,2),Pi=q(Fi);ri(Pi),br(2),R(Fi),R(gr),R(Ea);var Fa=H(Ea,2),Pa=q(Fa),$e=H(q(Pa));R(Pa);var mr=H(Pa,2);{var Qn=C=>{var B=r3();Ct(C,B)};It(mr,C=>{_(pt)==="facet-inuse"&&C(Qn)})}var Da=H(mr,2),Di=q(Da),Ra=q(Di);ri(Ra),br(2),R(Di),R(Da),R(Fa),R(Yn),R(Ai);var Fe=H(Ai,2),Oa=q(Fe),Ri=q(Oa),Ia=H(q(Ri),2),Jn=q(Ia);R(Ia),R(Ri);var ts=H(Ri,2);Ui(ts,5,()=>_(O),Yi,(C,B)=>{var G=s3();let Z;var ct=q(G),vt=q(ct),St=q(vt,!0);R(vt);var Bt=H(vt,2),j=q(Bt);{var Xt=Qt=>{var Ve=i3();Ct(Qt,Ve)};It(j,Qt=>{_(B),it(()=>_(B).isProportional)&&Qt(Xt)})}var Ut=H(j,2);{var se=Qt=>{var Ve=a3();Ct(Qt,Ve)};It(Ut,Qt=>{_(B),it(()=>_(B).recommended)&&Qt(se)})}var Se=H(Ut,2);{var He=Qt=>{var Ve=n3();Ct(Qt,Ve)};It(Se,Qt=>{_(B),it(()=>_(B).redFlag)&&Qt(He)})}R(Bt),R(ct);var je=H(ct,2),yr=q(je,!0);R(je),R(G),Ue(Qt=>{Z=Qo(G,1,"method-card svelte-ip3fvg",null,Z,Qt),Yt(St,(_(B),it(()=>_(B).name))),Yt(yr,(_(B),it(()=>_(B).shortDescription)))},[()=>({selected:_(y).tabulationMethod===_(B).id})]),wt("click",G,()=>et(_(B).id)),Ct(C,G)}),R(ts),R(Oa),R(Fe);var st=H(Fe,2),k=q(st),W=q(k),J=q(W),qt=H(J);{var ie=C=>{var B=o3();Ct(C,B)};It(qt,C=>{_(y),it(()=>xt(_(y)))&&C(ie)})}R(W);var Gt=H(W,2);{var he=C=>{var B=d3(),G=H(q(B),2),Z=q(G),ct=q(Z),vt=q(ct),St=q(vt);R(vt);var Bt=H(vt,2),j=q(Bt),Xt=H(j,2),Ut=q(Xt);R(Xt),R(Bt),R(ct);var se=H(ct,2);{var Se=K=>{var Pe=l3();Ct(K,Pe)};It(se,K=>{_(pt)==="proportionality"&&K(Se)})}R(Z);var He=H(Z,2),je=q(He),yr=q(je),Qt=q(yr);R(yr);var Ve=H(yr,2),qa=q(Ve),Ii=H(qa,2),za=q(Ii);R(Ii),R(Ve),R(je);var Wa=H(je,2);{var Yo=K=>{var Pe=c3();Ct(K,Pe)};It(Wa,K=>{_(pt)==="simplicity"&&K(Yo)})}R(He);var Ni=H(He,2),Ha=q(Ni),Jr=q(Ha),qi=q(Jr);R(Jr);var rs=H(Jr,2),zi=q(rs),is=H(zi,2),ja=q(is);R(is),R(rs),R(Ha);var Va=H(Ha,2);{var Go=K=>{var Pe=h3();Ct(K,Pe)};It(Va,K=>{_(pt)==="honest-resistance"&&K(Go)})}R(Ni);var Wi=H(Ni,2),Ua=q(Wi),ti=q(Ua),Hi=q(ti);R(ti);var as=H(ti,2),ji=q(as),ns=H(ji,2),ss=q(ns);R(ns),R(as),R(Ua);var Ya=H(Ua,2);{var Xo=K=>{var Pe=u3();Ct(K,Pe)};It(Ya,K=>{_(pt)==="quality"&&K(Xo)})}R(Wi);var Ga=H(Wi,2),Xa=q(Ga),ei=q(Xa),Za=q(ei);R(ei);var os=H(ei,2),Vi=q(os),ls=H(Vi,2),Zo=q(ls);R(ls),R(os),R(Xa);var Ko=H(Xa,2);{var ge=K=>{var Pe=p3();Ct(K,Pe)};It(Ko,K=>{_(pt)==="straightforwardness"&&K(ge)})}R(Ga),R(G),R(B),Ue(()=>{Dr(j,"data-score",(_(h),it(()=>_(h).proportionality))),Je(j,`width: ${_(h),it(()=>_(h).proportionality/5*100)??""}%`),Yt(Ut,`${_(h),it(()=>_(h).proportionality)??""}/5`),Dr(qa,"data-score",(_(h),it(()=>_(h).simplicity))),Je(qa,`width: ${_(h),it(()=>_(h).simplicity/5*100)??""}%`),Yt(za,`${_(h),it(()=>_(h).simplicity)??""}/5`),Dr(zi,"data-score",(_(h),it(()=>_(h).honestStrategyResistance))),Je(zi,`width: ${_(h),it(()=>_(h).honestStrategyResistance/5*100)??""}%`),Yt(ja,`${_(h),it(()=>_(h).honestStrategyResistance)??""}/5`),Dr(ji,"data-score",(_(h),it(()=>_(h).representation))),Je(ji,`width: ${_(h),it(()=>_(h).representation/5*100)??""}%`),Yt(ss,`${_(h),it(()=>_(h).representation)??""}/5`),Dr(Vi,"data-score",(_(h),it(()=>_(h).strategicStraightforwardness))),Je(Vi,`width: ${_(h),it(()=>_(h).strategicStraightforwardness/5*100)??""}%`),Yt(Zo,`${_(h),it(()=>_(h).strategicStraightforwardness)??""}/5`)}),wt("click",St,K=>{K.stopPropagation(),ut("proportionality")}),wt("keydown",St,K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),K.stopPropagation(),ut("proportionality"))}),wt("click",Qt,K=>{K.stopPropagation(),ut("simplicity")}),wt("keydown",Qt,K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),K.stopPropagation(),ut("simplicity"))}),wt("click",qi,K=>{K.stopPropagation(),ut("honest-resistance")}),wt("keydown",qi,K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),K.stopPropagation(),ut("honest-resistance"))}),wt("click",Hi,K=>{K.stopPropagation(),ut("quality")}),wt("keydown",Hi,K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),K.stopPropagation(),ut("quality"))}),wt("click",Za,K=>{K.stopPropagation(),ut("straightforwardness")}),wt("keydown",Za,K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),K.stopPropagation(),ut("straightforwardness"))}),Ct(C,B)};It(Gt,C=>{_(y),it(()=>_(y).ballotType&&_(y).tabulationMethod)&&C(he)})}var Ie=H(Gt,2);{var Qr=C=>{var B=f3(),G=q(B);Mh(G,()=>(_(l),it(()=>_(l).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n\n/g,"<br><br>")))),R(B),Ct(C,B)};It(Ie,C=>{_(l)&&C(Qr)})}var Oi=H(Ie,2);{var ae=C=>{var B=g3(),G=H(q(B),2);Mh(G,()=>(_(c),it(()=>_(c).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n\n/g,"<br><br>")))),R(B),Ct(C,B)};It(Oi,C=>{_(c)&&C(ae)})}var Na=H(Oi,2);{var es=C=>{var B=y3(),G=H(q(B),2);Ui(G,5,()=>_(d),Yi,(Z,ct)=>{var vt=m3(),St=q(vt,!0);R(vt),Ue(()=>{Dr(vt,"title",(_(ct),it(()=>_(ct).name))),Yt(St,(_(ct),it(()=>_(ct).flag)))}),Ct(Z,vt)}),R(G),R(B),Ct(C,B)};It(Na,C=>{_(d),it(()=>_(d).length)&&C(es)})}var xh=H(Na,2);{var L0=C=>{var B=b3(),G=H(q(B),2);UL(G,{get code(){return _(p)}}),R(B),Ct(C,B)};It(xh,C=>{_(p)&&C(L0)})}var E0=H(xh,2);{var $0=C=>{var B=_3(),G=_l(B);{var Z=St=>{var Bt=x3(),j=H(q(Bt),2);Ui(j,1,()=>(_(y),it(()=>ke(_(y)))),Yi,(Xt,Ut)=>{var se=v3(),Se=q(se),He=q(Se);R(Se);var je=H(Se,2),yr=q(je,!0);R(je),R(se),Ue(()=>{Yt(He,`Compare ${_(Ut),it(()=>_(Ut).title)??""}`),Yt(yr,(_(Ut),it(()=>_(Ut).description)))}),wt("click",Se,()=>ne(_(Ut).methods)),Ct(Xt,se)}),R(Bt),Ct(St,Bt)};It(G,St=>{_(y),it(()=>_(y).tabulationMethod&&ke(_(y)).length>0)&&St(Z)})}var ct=H(G,2),vt=q(ct);br(2),R(ct),Ue(St=>Dr(vt,"href",St),[()=>(xl(hs),it(()=>hs("/about-approval-voting")))]),Ct(C,B)};It(E0,C=>{_(y),it(()=>_(y).ballotType)&&C($0)})}R(k),R(st),R(Ma),R(Yr);var F0=H(Yr,2);{var P0=C=>{var B=T3(),G=q(B),Z=q(G),ct=H(q(Z),2);R(Z);var vt=H(Z,2),St=q(vt);Ui(St,5,()=>_(jt),Yi,(Bt,j)=>{var Xt=S3();let Ut;var se=q(Xt),Se=q(se),He=q(Se,!0);R(Se);var je=H(Se,2);{var yr=ge=>{var K=w3();Ct(ge,K)};It(je,ge=>{_(j),_(y),it(()=>_(j)===_(y).tabulationMethod)&&ge(yr)})}R(se);var Qt=H(se,2),Ve=q(Qt),qa=H(q(Ve));R(Ve),R(Qt);var Ii=H(Qt,2),za=q(Ii),Wa=H(q(za),2),Yo=q(Wa);R(Wa);var Ni=H(Wa,2),Ha=q(Ni);R(Ni),R(za);var Jr=H(za,2),qi=H(q(Jr),2),rs=q(qi);R(qi);var zi=H(qi,2),is=q(zi);R(zi),R(Jr);var ja=H(Jr,2),Va=H(q(ja),2),Go=q(Va);R(Va);var Wi=H(Va,2),Ua=q(Wi);R(Wi),R(ja);var ti=H(ja,2),Hi=H(q(ti),2),as=q(Hi);R(Hi);var ji=H(Hi,2),ns=q(ji);R(ji),R(ti);var ss=H(ti,2),Ya=H(q(ss),2),Xo=q(Ya);R(Ya);var Ga=H(Ya,2),Xa=q(Ga);R(Ga),R(ss),R(Ii);var ei=H(Ii,2),Za=q(ei),os=H(q(Za));R(Za),R(ei);var Vi=H(ei,2);{var ls=ge=>{var K=C3(),Pe=H(q(K),2);let _h;var D0=q(Pe,!0);R(Pe),R(K),Ue(R0=>{_h=Qo(Pe,1,"compatibility-value svelte-ip3fvg",null,_h,R0),Yt(D0,(_(j),it(()=>m[_(j)].votingMachineCompatibility.existingMachines?"Compatible":"Requires New Machines")))},[()=>({compatible:m[_(j)].votingMachineCompatibility.existingMachines,incompatible:!m[_(j)].votingMachineCompatibility.existingMachines})]),Ct(ge,K)};It(Vi,ge=>{_(j),it(()=>m[_(j)].votingMachineCompatibility)&&ge(ls)})}var Zo=H(Vi,2);{var Ko=ge=>{var K=k3();wt("click",K,()=>{et(_(j)),fe()}),Ct(ge,K)};It(Zo,ge=>{_(j),_(y),it(()=>_(j)!==_(y).tabulationMethod)&&ge(Ko)})}R(Xt),Ue((ge,K)=>{Ut=Qo(Xt,1,"comparison-card svelte-ip3fvg",null,Ut,ge),Yt(He,(_(j),it(()=>m[_(j)].name))),Yt(qa,` ${_(j),it(()=>m[_(j)].shortDescription)??""}`),Je(Yo,`width: ${_(j),it(()=>m[_(j)].scores.proportionality/5*100)??""}%`),Yt(Ha,`${_(j),it(()=>m[_(j)].scores.proportionality)??""}/5`),Je(rs,`width: ${_(j),it(()=>m[_(j)].scores.simplicity/5*100)??""}%`),Yt(is,`${_(j),it(()=>m[_(j)].scores.simplicity)??""}/5`),Je(Go,`width: ${_(j),it(()=>m[_(j)].scores.honestStrategyResistance/5*100)??""}%`),Yt(Ua,`${_(j),it(()=>m[_(j)].scores.honestStrategyResistance)??""}/5`),Je(as,`width: ${_(j),it(()=>m[_(j)].scores.strategicStraightforwardness/5*100)??""}%`),Yt(ns,`${_(j),it(()=>m[_(j)].scores.strategicStraightforwardness)??""}/5`),Je(Xo,`width: ${_(j),it(()=>m[_(j)].scores.representation/5*100)??""}%`),Yt(Xa,`${_(j),it(()=>m[_(j)].scores.representation)??""}/5`),Yt(os,` ${K??""}.`)},[()=>({current:_(j)===_(y).tabulationMethod}),()=>(_(j),it(()=>m[_(j)].detailedCritique.split(".")[0]))]),Ct(Bt,Xt)}),R(St),R(vt),R(G),R(B),wt("click",ct,fe),wt("click",G,Bt=>Bt.stopPropagation()),wt("keydown",G,Bt=>Bt.stopPropagation()),wt("click",B,fe),wt("keydown",B,Bt=>Bt.key==="Escape"&&fe()),Ct(C,B)};It(F0,C=>{_(Ft)&&C(P0)})}Ue((C,B,G,Z,ct)=>{Dr(Mi,"href",C),Gi(Zr,B),Gi(Fr,G),Gi($i,Z),Gi(Pi,ct),Yt(Jn,`Showing ${_(O),it(()=>_(O).length)??""} method${_(O),it(()=>_(O).length===1?"":"s")??""}`),Yt(J,`${_(s)??""} `)},[()=>(xl(hs),it(()=>hs("/"))),()=>(_(v),it(()=>_(v).includes("single"))),()=>(_(v),it(()=>_(v).includes("multi"))),()=>(_(D),it(()=>_(D).includes("party-required"))),()=>(_(D),it(()=>_(D).includes("no-party-required")))]),wt("click",ur,C=>{C.stopPropagation(),ut("facet-election")}),wt("keydown",ur,C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),C.stopPropagation(),ut("facet-election"))}),wt("change",Zr,()=>Dt(v,S(_(v),"single"))),wt("change",Fr,()=>Dt(v,S(_(v),"multi"))),wt("click",dr,C=>{C.stopPropagation(),ut("facet-ballot")}),wt("keydown",dr,C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),C.stopPropagation(),ut("facet-ballot"))}),wt("click",Zn,C=>{C.stopPropagation(),ut("facet-party")}),wt("keydown",Zn,C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),C.stopPropagation(),ut("facet-party"))}),wt("change",$i,()=>Dt(D,S(_(D),"party-required"))),wt("change",Pi,()=>Dt(D,S(_(D),"no-party-required"))),wt("click",$e,C=>{C.stopPropagation(),ut("facet-inuse")}),wt("keydown",$e,C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),C.stopPropagation(),ut("facet-inuse"))}),Z0(Ra,()=>_(x),C=>Dt(x,C)),Ct(e,Ti),pp()}export{Ip as $,vn as A,Pb as B,Sv as C,eh as D,Le as E,Mp as F,tS as G,FM as H,Xu as I,Fx as J,Wb as K,fa as L,U3 as M,Oo as N,Rp as O,_c as P,qh as Q,lw as R,Es as S,Jk as T,On as U,dv as V,Rn as W,Q as X,dt as Y,Vk as Z,f as _,vv as a,E_ as a$,aw as a0,hu as a1,cu as a2,iE as a3,Q3 as a4,eE as a5,tE as a6,Z3 as a7,Xi as a8,zc as a9,ot as aA,dE as aB,pM as aC,lM as aD,oM as aE,fT as aF,nw as aG,jn as aH,pT as aI,uT as aJ,Oc as aK,Ir as aL,iu as aM,I_ as aN,Ln as aO,_i as aP,Wk as aQ,Ag as aR,$o as aS,Ro as aT,oo as aU,Lg as aV,Mg as aW,bk as aX,lt as aY,_f as aZ,Be as a_,rE as aa,K3 as ab,nE as ac,aE as ad,J3 as ae,NT as af,Py as ag,gE as ah,mt as ai,sr as aj,Dx as ak,re as al,Ur as am,Fc as an,cm as ao,ki as ap,Rg as aq,zk as ar,FC as as,Pk as at,Uc as au,ip as av,LM as aw,fE as ax,mE as ay,pE as az,bv as b,Rc as b0,Df as b1,qn as b2,If as b3,X3 as b4,nb as b5,qk as b6,Fk as b7,xC as b8,Yc as b9,Do as bA,V3 as bB,vE as bC,fk as ba,jk as bb,Wn as bc,Ca as bd,ao as be,Sk as bf,tA as bg,zn as bh,so as bi,vk as bj,_g as bk,CC as bl,kC as bm,si as bn,Su as bo,SC as bp,Gc as bq,wC as br,AC as bs,ka as bt,Vr as bu,xu as bv,Xc as bw,Cg as bx,gc as by,Hk as bz,Lt as c,Tt as d,Op as e,ce as f,_v as g,Br as h,gi as i,qx as j,_a as k,I as l,Ig as m,Y3 as n,bE as o,wv as p,Cv as q,yE as r,xv as s,Px as t,ar as u,aM as v,iS as w,sE as x,yv as y,G3 as z};
